(()=>{var c0=Object.create;var ce=Object.defineProperty;var a0=Object.getOwnPropertyDescriptor;var i0=Object.getOwnPropertyNames;var d0=Object.getPrototypeOf,m0=Object.prototype.hasOwnProperty;var et=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var u0=(t,e,r,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of i0(e))!m0.call(t,s)&&s!==r&&ce(t,s,{get:()=>e[s],enumerable:!(l=a0(e,s))||l.enumerable});return t};var f=(t,e,r)=>(r=t!=null?c0(d0(t)):{},u0(e||!t||!t.__esModule?ce(r,"default",{value:t,enumerable:!0}):r,t));var U=et((so,ae)=>{ae.exports=wp.i18n});var O=et((lo,ie)=>{ie.exports=wp.data});var W=et((co,de)=>{de.exports=wp.components});var _=et((ao,me)=>{me.exports=wp.element});var vt=et((Io,Ae)=>{Ae.exports=wp.blockEditor});var Ge=et((Lo,Ve)=>{Ve.exports=wp.preferences});var pl=f(U()),Qe=f(O()),V=f(W()),Bt=f(_());var Y=f(_());var ue={display:{type:"string"},visibility:{type:"string"},overflow:{type:"string"}},pe={width:{type:"string"},height:{type:"string"},maxWidth:{type:"string"},maxHeight:{type:"string"},minWidth:{type:"string"},minHeight:{type:"string"}},p0={marginTop:{type:"string"},marginRight:{type:"string"},marginBottom:{type:"string"},marginLeft:{type:"string"}},ge={paddingTop:{type:"string"},paddingRight:{type:"string"},paddingBottom:{type:"string"},paddingLeft:{type:"string"}},fe={flexDirection:{type:"string"},flexWrap:{type:"string"},justifyContent:{type:"string"},alignItems:{type:"string"},alignContent:{type:"string"}},he={flexGrow:{type:"number"},flexShrink:{type:"number"},flexBasis:{type:"string"}},be={gridTemplateColumns:{type:"string"},gridTemplateRows:{type:"string"},gridTemplateAreas:{type:"string"}},Vt={gridColumn:{type:"string",default:""},gridRow:{type:"string",default:""},gridArea:{type:"string",default:""}},Gt={gridColumnStart:{type:"string"},gridColumnSpan:{type:"string"},gridColumnEnd:{type:"string"},gridRowStart:{type:"string"},gridRowSpan:{type:"string"},gridRowEnd:{type:"string"}},xe={gap:{type:"string"},order:{type:"number"},alignSelf:{type:"string"},justifySelf:{type:"string"}},g0={...ue,...pe,...p0,...ge,...fe,...he,...be,...Vt,...Gt,...xe},io=Object.assign({},...Object.values(g0)),f0=["dimensionMode","minDimensionMode","maxDimensionMode","marginMode","paddingMode","gapMode","gapInputMode","gridTemplateColumnsMode","gridTemplateRowsMode"],we=new Set([...f0]),ve=new Set([...Object.keys(Vt)]);var Lt="1fr",mo=new Set([...Object.keys(ge)]),uo=new Set([...Object.keys(pe)]),po=new Set([...Object.keys(Gt)]),go=new Set([{},...Object.keys(ue),...Object.keys(fe),...Object.keys(he),...Object.keys(be),...Object.keys(Vt),...Object.keys(Gt),...Object.keys(xe)]);function $(t,e,{trim:r=!0,emptyUnsets:l=!0}={}){let s=e!=null,c=(0,Y.useCallback)((g,i)=>{if(ve.has(i)){let x=typeof g=="string"&&r?g.trim():String(g);return l&&x===""?void 0:x}let a=g;if(r&&typeof a=="string"&&(a=a.trim()),!(l&&(a===""||a==null)))return a},[r,l]),m=(0,Y.useCallback)(g=>{if(s)return t(e,g);{let i={};for(let[a,x]of Object.entries(g)){let N=c(x,a);N!==void 0&&(i[a]=N)}Object.keys(i).length&&t(e,i)}},[s,t,e,c]),u=(0,Y.useCallback)((g,i)=>{m({[g]:c(i,g)})},[m,c]),h=(0,Y.useCallback)(g=>{let i={};for(let[a,x]of Object.entries(g))i[a]=c(x,a);m(i)},[m,c]),w=(0,Y.useCallback)(g=>{m({[g]:void 0})}),C=(0,Y.useCallback)(g=>{let i={};for(let a of g)i[a]=void 0;m(i)},[m]),v=(0,Y.useCallback)(g=>({set:(i,a)=>u(`${g}${i}`,a),setMany:i=>{let a={};for(let[x,N]of Object.entries(i))a[`${g}${x}`]=N;h(a)},unset:i=>w(`${g}${i}`),unsetMany:i=>C(i.map(a=>`${g}${a}`))}),[u,h,w,C]);return{set:u,setMany:h,unset:w,unsetMany:C,withPrefix:v}}var xt=f(_());function Ot(t){return String(t||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function h0(t){let e=String(t||"").trim();if(!e)return[];let r=0,l=0,s="",c=[];for(let m=0;m<e.length;m++){let u=e[m];if(u==="("){r++,s+=u;continue}if(u===")"){r=Math.max(0,r-1),s+=u;continue}if(u==="["){l++,s+=u;continue}if(u==="]"){l=Math.max(0,l-1),s+=u;continue}if(u===" "&&r===0&&l===0){s&&(c.push(s),s="");continue}s+=u}return s&&c.push(s),c}function b0(t){if(!t)return null;let e=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return e?{count:parseInt(e[1],10),unit:e[2].trim()}:null}function x0(t,e=Lt){return t>0?`repeat(${t}, ${e})`:null}function ft(t,e=Lt){if(!t||typeof t!="string")return{count:0,unit:e};let r=t.trim();if(!r)return{count:0,unit:e};if(/^subgrid\b/i.test(r))return{count:0,unit:e};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:e};let l=r.match(/repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)$/i);if(l){let m=l[2];return{count:0,unit:Ce(m,e)}}let{count:s,unit:c}=Se(r,e);return{count:s,unit:c||e}}function Se(t,e){let r=ke(t);if(r){let m=r.inner.trim(),{count:u,unit:h}=Se(m,e);return{count:r.times*u,unit:h||Ce(m,e)}}let l=Ht(t),s=l.length,c="";if(l.length===1)c=st(l[0])||e;else{let m=l.find(Me);c=st(m)||e}return{count:s,unit:c}}function ke(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10),l=e[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:l}}function Ht(t){let e=[],r=0,l="";for(let s=0;s<t.length;s++){let c=t[s];if(c==="("){r++,l+=c;continue}if(c===")"){r=Math.max(0,r-1),l+=c;continue}if(r===0&&/\s/.test(c)){l.trim()&&e.push(l.trim()),l="";continue}l+=c}return l.trim()&&e.push(l.trim()),e}function Ce(t,e){if(!t)return e;let r=ke(t);if(r){let c=Ht(r.inner);if(c.length===1)return st(c[0])||e}let l=Ht(t);if(l.length===1)return st(l[0])||e;let s=l.find(Me);return st(s)||e}function Me(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function st(t){return t?t.trim():""}function w0(t){let e=b0(t);if(!e)return null;let r=Ot(x0(e.count,e.unit));return{mode:"simple",template:t||null,normalised:r,simple:{count:e.count,unit:e.unit}}}function v0(t){let e=h0(t);if(!e.length)return null;let r=Ot(e.join(" "));return{mode:"tracks",template:t||null,normalised:r,tracks:e}}var S0=[w0,v0];function Pt(t){let e=t||"";for(let r of S0){let l=r(e);if(l)return l}return{mode:"raw",template:t||null,normalised:Ot(t||"")}}function Te(t){let e=(t||"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let r=e.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(s=>s.replace(/^['"]|['"]$/g,"").trim()).filter(s=>s&&!/^[\s]+$/.test(s));return r.length?{hasAreas:!0,cols:Math.max(0,...r.map(s=>s.split(/\s+/).filter(Boolean).length)),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function lt(t,e="."){let r=String(t||"").trim();if(!r)return[];let l=[];return r.replace(/(['"])(.*?)\1/g,(s,c,m)=>(l.push(m),"")),l.map(s=>s.trim().split(/\s+/).map(c=>c&&c!==e?c:e))}function ht(t,e,r,l="."){let s=[];for(let c=0;c<r;c++){let m=t[c]||[],u=Array.from({length:e},(h,w)=>m[w]??l);s.push(u)}return s}function bt(t={}){let e=s=>s!=null&&String(s).trim()!=="",r=s=>e(s)&&isNaN(Number(s)),l=s=>Number(s)<0;return e(t.gridArea)||e(t.gridColumnEnd)||e(t.gridRowEnd)||r(t.gridColumnStart)||r(t.gridRowStart)||l(t.gridColumnStart)||l(t.gridRowStart)?"Advanced":"Simple"}var C0=f(_());var ct=f(_());function X(t="."){let{parentId:e}=at(),r=wt(e),l=r?.columns?.template??"",s=r?.rows?.template??"",c=r?.areas?.template??"",m=(0,ct.useMemo)(()=>{let v=ft(l).count;return v>0?v:lt(c,t)[0]?.length||0},[l,c,t]),u=(0,ct.useMemo)(()=>{let v=ft(s).count;return v>0?v:lt(c,t).length||0},[s,c,t]),h=(0,ct.useMemo)(()=>{let v=lt(c,t),g=v[0]?.length||m||1,i=v.length||u||1;return ht(v,g,i,t)},[c,m,u,t]),w=(0,ct.useMemo)(()=>{let v=new Set;for(let g of h)for(let i of g){let a=String(i||"").trim();a&&a!==t&&v.add(a)}return Array.from(v)},[h,t]);return{parentId:e,hasGrid:!!(l||s||c),columns:m,rows:u,matrix:h,areaNames:w,areasTemplate:c,columnTemplate:l,rowTemplate:s,emptyToken:t}}var ye=f(O()),Ie=f(vt()),Ee=f(_());function wt(t){let e=(0,ye.useSelect)(l=>t?l(Ie.store).getBlock(t)?.attributes??{}:{},[t]);return(0,Ee.useMemo)(()=>{let l=Pt(e.gridTemplateColumns),s=Pt(e.gridTemplateRows),c=e.gridTemplateAreas??null,m=Te(c);return{columns:l,rows:s,areas:{template:c,...m},activePane:{columns:l.mode,rows:s.mode}}},[e.gridTemplateColumns,e.gridTemplateRows,e.gridTemplateAreas])}var Ne=f(_()),M0=f(O()),T0=f(vt());var Re=f(O());function at(){return(0,Re.useSelect)(t=>{let e=t("core/block-editor"),r=e.getSelectedBlockClientId();if(!r)return{parentId:null,parentAttrs:null,parentBlock:null};let l=e.getBlockRootClientId(r);if(!l)return{parentId:null,parentAttrs:null,parentBlock:null};let s=e.getBlock(l)||null,c=s?.attributes??null;return{parentId:l,parentAttrs:c,parentBlock:s}},[])}var Be=f(O()),_e=f(vt());function Dt(t,e){return(0,Be.useSelect)(r=>{if(t)return t;let l=r(_e.store),s=e||l.getSelectedBlockClientId();return(s?l.getBlock(s):null)?.name??null},[t,e])}var qe=f(O());function Ft(){return(0,qe.useSelect)(t=>{let e=t("core/block-editor"),r=e.getSelectedBlockClientId();return{selectedBlock:r?e.getBlock(r):null,clientId:r}},[])}var St=f(O()),$t=f(Ge());function Zt(t,e,r="costered-blocks"){let l=(0,St.useSelect)(h=>h($t.store).get(r,t)??e,[r,t,e]),{set:s,__experimentalReset:c}=(0,St.useDispatch)($t.store);return[l,h=>{t.startsWith("__invalid__")||s(r,t,h)},()=>{t.startsWith("__invalid__")||c?.(r,t)}]}var jt=(t,{blockName:e,variant:r}={})=>we.has(t)&&!(!!e||!!r)?`${t}:__unscoped__`:!e&&!r?t:e&&!r?`${t}:${e}`:!e&&r?`${t}#${r}`:`${t}:${e}#${r}`;var o=f(U()),d={displayControls:{panelTitle:(0,o.__)("Display Controls","costered-blocks"),displayLabel:(0,o.__)("Display","costered-blocks"),unset:(0,o.__)("unset / initial","costered-blocks"),displayBlock:(0,o.__)("Block","costered-blocks"),displayInline:(0,o.__)("Inline","costered-blocks"),displayFlex:(0,o.__)("Flex","costered-blocks"),displayGrid:(0,o.__)("Grid","costered-blocks"),displayNone:(0,o.__)("None","costered-blocks"),visibilityLabel:(0,o.__)("Visibility","costered-blocks"),visibilityUnset:(0,o.__)("unset / initial","costered-blocks"),visibilityVisible:(0,o.__)("Visible","costered-blocks"),visibilityHidden:(0,o.__)("Hidden","costered-blocks"),visibilityCollapse:(0,o.__)("Collapse","costered-blocks")},dimensionControls:{panelTitle:(0,o.__)("Dimension Controls","costered-blocks"),dimensionPanel:(0,o.__)("Dimensions","costered-blocks"),minPanel:(0,o.__)("Minimum Dimensions","costered-blocks"),maxPanel:(0,o.__)("Maximum Dimensions","costered-blocks")},spacingControls:{panelTitle:(0,o.__)("Spacing Controls","costered-blocks"),panelLabel:(0,o.__)("Spacing","costered-blocks"),marginLabel:(0,o.__)("Margin","costered-blocks"),paddingLabel:(0,o.__)("Padding","costered-blocks")},flexBoxControls:{panelTitle:(0,o.__)("Flexbox Controls","costered-blocks"),flexWrapLabel:(0,o.__)("Flex Wrap","costered-blocks"),flexWrapNone:(0,o.__)("No Wrap","costered-blocks"),flexWrapWrap:(0,o.__)("Wrap","costered-blocks"),flexWrapReverse:(0,o.__)("Reverse","costered-blocks"),alignmentPanel:(0,o.__)("Alignment","costered-blocks"),gapPanel:(0,o.__)("Gap","costered-blocks")},flexItemControls:{panelTitle:(0,o.__)("Flex Item Controls","costered-blocks"),flexGrow:(0,o.__)("Grow","costered-blocks"),flexShrink:(0,o.__)("Shrink","costered-blocks"),flexBasis:(0,o.__)("Basis","costered-blocks"),flexBasisPlaceholder:(0,o.__)("Enter value","costered-blocks"),order:(0,o.__)("Order","costered-blocks")},gridControls:{panelTitle:(0,o.__)("Grid Controls","costered-blocks"),gridTemplatePanel:(0,o.__)("Grid Template","costered-blocks"),gridTemplatePanelSimple:(0,o.__)("Simple","costered-blocks"),gridTemplatePanelTracks:(0,o.__)("Tracks","costered-blocks"),gapPanel:(0,o.__)("Gap","costered-blocks"),gridTemplateAreasPanel:(0,o.__)("Grid Template Areas","costered-blocks"),gridTemplateAreasEditLarge:(0,o.__)("Edit in larger view","costered-blocks"),gridTemplateAreasModal:(0,o.__)("Edit Grid Template Areas","costered-blocks")},gridItemsControls:{simplePanel:(0,o.__)("Simple","costered-blocks"),tracksPanel:(0,o.__)("Tracks","costered-blocks"),areasPanel:(0,o.__)("Areas","costered-blocks"),gridAreaLabel:(0,o.__)("Named area (grid-area)","costered-blocks"),gridAreaNone:(0,o.__)("\u2014 None \u2014","costered-blocks"),gridAreaHelp:(0,o.__)("Setting a named area overrides row/column placement.","costered-blocks"),panelTitle:(0,o.__)("Grid Item Controls","costered-blocks"),settingsIsAdvancedOwned:(0,o.__)("Settings use Advanced features (read-only here). Switch to the Advanced panel to edit.","costered-blocks"),settingsIsSimpleOwned:(0,o.__)("Settings use Simple features (read-only here). Switch to the Simple panel to edit.","costered-blocks"),settingsHasArea:(0,o.__)("This item uses a named grid area. Line-based placement is disabled.","costered-blocks"),panelAlignment:(0,o.__)("Alignment","costered-blocks"),panelOrder:(0,o.__)("Order","costered-blocks"),simple:(0,o.__)("Simple","costered-blocks"),advanced:(0,o.__)("Advanced","costered-blocks"),columnsLabel:(0,o.__)("Columns","costered-blocks"),rowsLabel:(0,o.__)("Rows","costered-blocks"),columnPlacementMode:(0,o.__)("Placement uses","costered-blocks"),columnPlacementSpan:(0,o.__)("Span","costered-blocks"),columnPlacementEnd:(0,o.__)("End","costered-blocks"),columnStartMode:(0,o.__)("Start uses","costered-blocks"),columnStartModeNumber:(0,o.__)("Line number","costered-blocks"),columnStartModeNamed:(0,o.__)("Named line","costered-blocks"),columnStart:(0,o.__)("Column Start","costered-blocks"),columnStartHelp:(0,o.__)("%1$d columns","costered-blocks"),columnStartNamed:(0,o.__)("Column Start (named line)","costered-blocks"),columnStartNamedHelp:(0,o.__)("Free text allowed; suggestions from parent column template.","costered-blocks"),columnStartNameMismatch:(0,o.__)("Parent grid has no named column lines; this item currently uses a named start token.","costered-blocks"),columnSpan:(0,o.__)("Column Span","costered-blocks"),columnSpanHelp:(0,o.__)("Max updates with start","costered-blocks"),columnSpanParentHelp:(0,o.__)("Max updates with start & parent columns.","costered-blocks"),columnEndMode:(0,o.__)("End uses","costered-blocks"),columnEndModeNumber:(0,o.__)("Line number","costered-blocks"),columnEndModeNamed:(0,o.__)("Named line","costered-blocks"),columnEndModeAuto:(0,o.__)("Auto","costered-blocks"),columnEnd:(0,o.__)("Column End","costered-blocks"),columnEndHelp:(0,o.__)("Max updates with start","costered-blocks"),columnEndNumber:(0,o.__)("Column End (line number)","costered-blocks"),columnEndNumberHelp:(0,o.__)("Supports negative indices (e.g. -1 = last line).","costered-blocks"),columnEndNamed:(0,o.__)("Column End (named line)","costered-blocks"),columnEndNamedHelp:(0,o.__)("Free text allowed; suggestions from parent column template.","costered-blocks"),columnEndNameMismatch:(0,o.__)("Parent grid has no named column lines; this item currently uses a named end token.","costered-blocks"),rowStart:(0,o.__)("Row Start","costered-blocks"),rowStartHelp:(0,o.__)("%1$d rows","costered-blocks"),rowSpan:(0,o.__)("Row Span","costered-blocks"),rowSpanHelp:(0,o.__)("Max updates with start","costered-blocks"),order:(0,o.__)("Order","costered-blocks")},flexDirection:{label:(0,o.__)("Flex Direction","costered-blocks"),row:(0,o.__)("Row","costered-blocks"),rowReverse:(0,o.__)("Row Reverse","costered-blocks"),column:(0,o.__)("Column","costered-blocks"),columnReverse:(0,o.__)("Column Reverse","costered-blocks")},justifyControls:{label:(0,o.__)("Justify Content","costered-blocks"),start:(0,o.__)("Start","costered-blocks"),end:(0,o.__)("End","costered-blocks"),center:(0,o.__)("Center","costered-blocks"),spaceAround:(0,o.__)("Space Around","costered-blocks"),spaceBetween:(0,o.__)("Space Between","costered-blocks"),spaceEvenly:(0,o.__)("Space Evenly","costered-blocks")},alignControls:{label:(0,o.__)("Align Items","costered-blocks"),start:(0,o.__)("Start","costered-blocks"),end:(0,o.__)("End","costered-blocks"),center:(0,o.__)("Center","costered-blocks"),stretch:(0,o.__)("Stretch","costered-blocks"),baseline:(0,o.__)("Baseline","costered-blocks"),spaceAround:(0,o.__)("Space Around","costered-blocks"),spaceBetween:(0,o.__)("Space Between","costered-blocks"),spaceEvenly:(0,o.__)("Space Evenly","costered-blocks")},customSelectControl:{defaultText:(0,o.__)("choose...","costered-blocks")},dimensionInputGroup:{label:(0,o.__)("Dimensions","costered-blocks"),labelPre:(0,o.__)("%1$s Dimensions","costered-blocks"),width:(0,o.__)("Width","costered-blocks"),height:(0,o.__)("Height","costered-blocks"),useCustom:(0,o.__)("Use custom values (e.g auto, calc)","costered-blocks")},directionalInputGroup:{label:(0,o.__)("Directions","costered-blocks"),top:(0,o.__)("Top","costered-blocks"),right:(0,o.__)("Right","costered-blocks"),bottom:(0,o.__)("Bottom","costered-blocks"),left:(0,o.__)("Left","costered-blocks"),all:(0,o.__)("All","costered-blocks"),horizontal:(0,o.__)("Horizontal","costered-blocks"),vertical:(0,o.__)("Vertical","costered-blocks")},gapControls:{label:(0,o.__)("Gaps","costered-blocks"),rowLabel:(0,o.__)("Row Gap","costered-blocks"),switchToSingle:(0,o.__)("Switch to Single Gap","costered-blocks"),switchToDual:(0,o.__)("Switch to Dual Gap","costered-blocks"),columnLabel:(0,o.__)("Column Gap","costered-blocks"),useCustom:(0,o.__)("Use custom values (e.g auto, calc)","costered-blocks")},gridAxisAside:{label:(0,o.__)("Grid Axis","costered-blocks"),horizontal:(0,o.__)("Horizontal","costered-blocks"),vertical:(0,o.__)("Vertical","costered-blocks"),pipTitleNoValue:(0,o.__)("No value set","costered-blocks"),pipTitleValueHere:(0,o.__)("Value matches this panel","costered-blocks"),pipTitleValueElsewhere:(0,o.__)("Value set in %s panel","costered-blocks"),pipTitleValueRaw:(0,o.__)("Value set (unrecognised format)","costered-blocks"),clearRows:(0,o.__)("Clear Rows","costered-blocks"),clearColumns:(0,o.__)("Clear Columns","costered-blocks")},panelToggle:{label:(0,o.__)("Panel","costered-blocks")},token:{expand:(0,o.__)("Edit token","costered-blocks"),collapse:(0,o.__)("Close editor","costered-blocks"),remove:(0,o.__)("Remove","costered-blocks"),moveLeft:(0,o.__)("Move left","costered-blocks"),moveRight:(0,o.__)("Move right","costered-blocks")},tokenGrid:{title:(0,o.__)("Areas","costered-blocks"),clear:(0,o.__)("Clear","costered-blocks"),sizeHint:(0,o.__)("%1$d columns x %2$d rows","costered-blocks"),mismatchText:(0,o.__)("Templates areas (%1$dx%2$d) do not match current tracks (%3$dx%4$d)","costered-blocks"),resizeToTracks:(0,o.__)("Resize areas to match tracks","costered-blocks"),growTracksToAreas:(0,o.__)("Grow tracks to match areas","costered-blocks"),shrinkTracks:(0,o.__)("Shrink tracks to areas","costered-blocks"),shrinkTracksWarning:(0,o.__)("Shrinking may remove named lines. Continue?","costered-blocks"),shrinkTracksNote:(0,o.__)("Shrinking tracks may remove named lines; please review afterwards.","costered-blocks"),shrinkTracksConfirm:(0,o.__)("Shrink tracks","costered-blocks"),shrinkTracksCancel:(0,o.__)("Cancel","costered-blocks"),shrinkTracksHeading:(0,o.__)("Remove named lines?","costered-blocks"),shrinkTracksDescription:(0,o.__)("Shrinking tracks will drop line names (e.g. [sidebar-start]). This can change template references. Continue?","costered-blocks"),tokenExpand:(0,o.__)("Edit cell","costered-blocks"),tokenCollapse:(0,o.__)("Close editor","costered-blocks"),tokenRemove:(0,o.__)("Clear cell","costered-blocks"),tokenMoveLeft:(0,o.__)("Previous cell","costered-blocks"),tokenMoveRight:(0,o.__)("Next cell","costered-blocks"),addColumn:(0,o.__)("Add column","costered-blocks"),removeColumn:(0,o.__)("Remove column","costered-blocks"),addRow:(0,o.__)("Add row","costered-blocks"),removeRow:(0,o.__)("Remove row","costered-blocks")},tokenEditor:{add:(0,o.__)("Add","costered-blocks"),addPlaceholder:(0,o.__)("Add token","costered-blocks"),addLineNames:(0,o.__)("Add line names","costered-blocks"),listAriaLabel:(0,o.__)("List of tokens","costered-blocks"),moveLeft:(0,o.__)("Move left","costered-blocks"),moveRight:(0,o.__)("Move right","costered-blocks"),remove:(0,o.__)("Remove","costered-blocks"),expand:(0,o.__)("Edit token","costered-blocks"),collapse:(0,o.__)("Close editor","costered-blocks")}};var A0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{d:"M13.304,8.209l-3.406,-0l-0.597,1.388c-0.147,0.342 -0.221,0.597 -0.221,0.766c0,0.134 0.064,0.252 0.191,0.354c0.128,0.101 0.404,0.167 0.828,0.198l-0,0.24l-2.771,-0l0,-0.24c0.368,-0.065 0.606,-0.15 0.714,-0.254c0.22,-0.207 0.465,-0.629 0.733,-1.265l3.095,-7.241l0.227,-0l3.063,7.319c0.247,0.588 0.47,0.97 0.672,1.145c0.201,0.175 0.481,0.274 0.84,0.296l-0,0.24l-3.472,-0l0,-0.24c0.351,-0.018 0.588,-0.076 0.711,-0.176c0.123,-0.099 0.185,-0.22 0.185,-0.363c-0,-0.19 -0.087,-0.491 -0.26,-0.902l-0.532,-1.265Zm-0.181,-0.48l-1.493,-3.556l-1.531,3.556l3.024,-0Z"}),React.createElement("path",{d:"M6.79,14.355c-0.442,0 -0.8,-0.358 -0.8,-0.8c-0,-0.441 0.358,-0.8 0.8,-0.8c0.441,0 0.8,0.359 0.8,0.8c-0,0.442 -0.359,0.8 -0.8,0.8Z"}),React.createElement("path",{d:"M4.19,14.355c-0.442,0 -0.8,-0.358 -0.8,-0.8c-0,-0.441 0.358,-0.8 0.8,-0.8c0.441,0 0.8,0.359 0.8,0.8c-0,0.442 -0.359,0.8 -0.8,0.8Z"}),React.createElement("path",{d:"M19.79,14.355c-0.442,0 -0.8,-0.358 -0.8,-0.8c-0,-0.441 0.358,-0.8 0.8,-0.8c0.441,0 0.8,0.359 0.8,0.8c-0,0.442 -0.359,0.8 -0.8,0.8Z"}),React.createElement("path",{d:"M9.39,14.355c-0.442,0 -0.8,-0.358 -0.8,-0.8c-0,-0.441 0.358,-0.8 0.8,-0.8c0.441,0 0.8,0.359 0.8,0.8c-0,0.442 -0.359,0.8 -0.8,0.8Z"}),React.createElement("path",{d:"M11.99,14.355c-0.442,0 -0.8,-0.358 -0.8,-0.8c-0,-0.441 0.358,-0.8 0.8,-0.8c0.441,0 0.8,0.359 0.8,0.8c-0,0.442 -0.359,0.8 -0.8,0.8Z"}),React.createElement("path",{d:"M14.59,14.355c-0.442,0 -0.8,-0.358 -0.8,-0.8c-0,-0.441 0.358,-0.8 0.8,-0.8c0.441,0 0.8,0.359 0.8,0.8c-0,0.442 -0.359,0.8 -0.8,0.8Z"}),React.createElement("path",{d:"M17.19,14.355c-0.442,0 -0.8,-0.358 -0.8,-0.8c-0,-0.441 0.358,-0.8 0.8,-0.8c0.441,0 0.8,0.359 0.8,0.8c-0,0.442 -0.359,0.8 -0.8,0.8Z"}),React.createElement("path",{d:"M12.667,18.232l-0,2.947c-0,0.368 -0.299,0.666 -0.667,0.666c-0.368,0 -0.667,-0.298 -0.667,-0.666l0,-2.947l-0.195,0.195c-0.26,0.261 -0.683,0.261 -0.943,0c-0.26,-0.26 -0.26,-0.682 0,-0.942l1.334,-1.334c0.125,-0.125 0.294,-0.195 0.471,-0.195c0.177,-0 0.346,0.07 0.471,0.195l1.334,1.334c0.26,0.26 0.26,0.682 -0,0.942c-0.26,0.261 -0.683,0.261 -0.943,0l-0.195,-0.195Z"})),zt=A0;var y0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{d:"M15.508,11.046l-0,1.9c-0,0.442 -0.359,0.8 -0.8,0.8l-5.4,0c-0.442,0 -0.8,-0.358 -0.8,-0.8l-0,-1.9c-0,-0.441 0.358,-0.8 0.8,-0.8l5.4,0c0.441,0 0.8,0.359 0.8,0.8Z"}),React.createElement("path",{d:"M12.735,6.514l0,1.782c0,0.401 -0.326,0.727 -0.727,0.727c-0.402,0 -0.728,-0.326 -0.728,-0.727l0,-1.782l-0.213,0.213c-0.284,0.284 -0.745,0.284 -1.029,-0c-0.284,-0.284 -0.284,-0.745 0,-1.029l1.455,-1.455c0.137,-0.137 0.321,-0.213 0.515,-0.213c0.193,-0 0.377,0.076 0.514,0.213l1.455,1.455c0.284,0.284 0.284,0.745 0,1.029c-0.284,0.284 -0.745,0.284 -1.029,-0l-0.213,-0.213Z"}),React.createElement("path",{d:"M11.291,17.482l0,-1.785c0,-0.402 0.327,-0.728 0.729,-0.728c0.402,-0 0.728,0.326 0.728,0.728l0,1.785l0.214,-0.214c0.284,-0.284 0.746,-0.284 1.03,0c0.284,0.285 0.284,0.746 0,1.031l-1.457,1.456c-0.137,0.137 -0.321,0.214 -0.515,0.214c-0.194,-0 -0.378,-0.077 -0.515,-0.214l-1.457,-1.456c-0.285,-0.285 -0.285,-0.746 -0,-1.031c0.284,-0.284 0.746,-0.284 1.03,0l0.213,0.214Z"}),React.createElement("path",{d:"M20.044,1.191c0.441,0 0.8,0.358 0.801,0.8c0,0.441 -0.358,0.8 -0.8,0.8l-16.072,0.016c-0.441,0 -0.8,-0.358 -0.801,-0.799c-0,-0.442 0.358,-0.801 0.8,-0.801l16.072,-0.016Z"}),React.createElement("path",{d:"M20.044,21.191c0.441,0 0.8,0.358 0.801,0.8c0,0.441 -0.358,0.8 -0.8,0.8l-16.072,0.016c-0.441,0 -0.8,-0.358 -0.801,-0.799c-0,-0.442 0.358,-0.801 0.8,-0.801l16.072,-0.016Z"})),Wt=y0;var I0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{fill:"currentColor",d:"M13 11h-2V3H9v8H7l3 3zm4.4 4H2.6c-.552 0-.6.447-.6 1s.048 1 .6 1h14.8c.552 0 .6-.447.6-1s-.048-1-.6-1"})),kt=I0;var E0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{fill:"currentColor",d:"m6 10l3 3v-2h8V9H9V7zM4 2c-.553 0-1 .047-1 .6v14.8c0 .551.447.6 1 .6s1-.049 1-.6V2.6c0-.553-.448-.6-1-.6"})),Ct=E0;var N0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{fill:"currentColor",d:"M11 7v2H3v2h8v2l3-3zm4-4.4v14.8c0 .551.448.6 1 .6c.553 0 1-.049 1-.6V2.6c0-.553-.447-.6-1-.6s-1 .047-1 .6"})),Mt=N0;var R0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{fill:"currentColor",d:"M10 6L7 9h2v8h2V9h2zm8-2c0-.553-.048-1-.6-1H2.6c-.552 0-.6.447-.6 1s.048 1 .6 1h14.8c.552 0 .6-.447.6-1"})),Tt=R0;var B0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56",width:t,height:t,...e},React.createElement("path",{fill:"currentColor",d:"M3.991 28.293h19.12c2.654 0 3.99-1.337 3.99-4.09v-9.141c0-2.754-1.336-4.071-3.99-4.071H3.99C1.337 10.99 0 12.308 0 15.06v9.141c0 2.754 1.337 4.091 3.991 4.091m34.147 16.485h13.85c2.675 0 4.012-1.337 4.012-4.091V18.075c0-2.754-1.337-4.09-4.012-4.09h-13.85c-2.694 0-4.031 1.336-4.031 4.09v22.612c0 2.754 1.337 4.091 4.031 4.091M8.841 47.552h16.684c2.695 0 4.032-1.317 4.032-4.071v-6.606c0-2.754-1.337-4.091-4.032-4.091H8.841c-2.674 0-4.011 1.337-4.011 4.091v6.606c0 2.754 1.337 4.071 4.011 4.071"})),Jt=B0;var _0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m4-8h5m-3-3l-3 3l3 3M8 12H3m3-3l3 3l-3 3"})),Kt=_0;var q0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{d:"M9.056,10.499l5.9,0c0.442,0 0.8,0.359 0.8,0.8l0,1.4c0,0.442 -0.358,0.8 -0.8,0.8l-5.9,0c-0.441,0 -0.8,-0.358 -0.8,-0.8l0,-1.4c0,-0.441 0.359,-0.8 0.8,-0.8Z"}),React.createElement("path",{d:"M5.527,11.46l1.324,0c0.299,0 0.541,0.243 0.541,0.541c0,0.299 -0.242,0.541 -0.541,0.541l-1.324,0l0.158,0.159c0.211,0.211 0.211,0.553 0,0.764c-0.211,0.211 -0.554,0.211 -0.765,0l-1.081,-1.081c-0.102,-0.102 -0.159,-0.239 -0.159,-0.383c0,-0.144 0.057,-0.28 0.159,-0.382l1.081,-1.082c0.211,-0.211 0.554,-0.211 0.765,0c0.211,0.211 0.211,0.554 0,0.765l-0.158,0.158Z"}),React.createElement("path",{d:"M18.488,12.541l-1.326,-0c-0.299,-0 -0.542,-0.243 -0.542,-0.542c0,-0.299 0.243,-0.541 0.542,-0.541l1.326,-0l-0.159,-0.159c-0.211,-0.211 -0.211,-0.554 0,-0.766c0.212,-0.211 0.555,-0.211 0.766,0l1.083,1.083c0.102,0.102 0.159,0.239 0.159,0.383c-0,0.144 -0.057,0.281 -0.159,0.383l-1.083,1.083c-0.211,0.212 -0.554,0.212 -0.766,0c-0.211,-0.211 -0.211,-0.554 0,-0.766l0.159,-0.158Z"}),React.createElement("path",{d:"M1.201,3.964c-0.001,-0.442 0.357,-0.8 0.799,-0.801c0.442,-0 0.8,0.358 0.801,0.799l0.015,16.073c0.001,0.441 -0.357,0.8 -0.799,0.8c-0.442,0.001 -0.8,-0.357 -0.801,-0.799l-0.015,-16.072Z"}),React.createElement("path",{d:"M21.201,3.964c-0.001,-0.442 0.357,-0.8 0.799,-0.801c0.442,-0 0.8,0.358 0.801,0.799l0.015,16.073c0.001,0.441 -0.357,0.8 -0.799,0.8c-0.442,0.001 -0.8,-0.357 -0.801,-0.799l-0.015,-16.072Z"})),Ut=q0;var V0=({size:t=24,...e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...e},React.createElement("path",{fill:"currentColor",d:"m11 17.8l-.9.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l2.6-2.6q.15-.15.325-.212t.375-.063t.375.063t.325.212l2.6 2.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-.9-.9V21q0 .425-.288.713T12 22t-.712-.288T11 21zM5 13q-.425 0-.712-.288T4 12t.288-.712T5 11h14q.425 0 .713.288T20 12t-.288.713T19 13zm6-6.8V3q0-.425.288-.712T12 2t.713.288T13 3v3.2l.9-.9q.275-.275.7-.275t.7.275t.275.7t-.275.7l-2.6 2.6q-.15.15-.325.213T12 9.575t-.375-.062T11.3 9.3L8.7 6.7q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275z"})),Yt=V0;var Z=f(_()),It=f(W());var At=f(_()),G=f(W());function G0({value:t,onChange:e,label:r="",isBlock:l=!0,children:s,...c}){let m=(0,At.useCallback)(u=>e(u),[e]);return React.createElement(G.__experimentalToggleGroupControl,{className:`costered-custom-toggle-group ${t?"has-selection":"is-empty"}`,label:r,value:t,onChange:m,isBlock:l,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isDeselectable:!0,...c},s)}function L0({value:t,label:e,disabled:r}){return React.createElement(G.__experimentalToggleGroupControlOption,{value:t,label:e,disabled:r})}function H0({value:t,icon:e,label:r,showTooltip:l=!0,disabled:s}){return React.createElement(G.__experimentalToggleGroupControlOptionIcon,{value:t,icon:e,"aria-label":r,label:r,showTooltip:l,disabled:s})}function O0({value:t,icon:e,label:r,disabled:l}){return React.createElement(G.__experimentalToggleGroupControlOption,{value:t,"aria-label":r,label:React.createElement(G.Flex,{direction:"column",gap:0,align:"center",style:{paddingBlock:"0.5em"}},React.createElement(G.FlexItem,null,e),React.createElement(G.FlexItem,null,r)),disabled:l})}var yt=(0,At.memo)(G0);yt.TextOption=L0;yt.IconOption=H0;yt.CombinedOption=O0;var M=yt;function P0({value:t,onChange:e,panels:r,panelProps:l={},label:s=d.panelToggle.label,forceActive:c=!1,className:m,children:u,...h}){let w=Z.Children.toArray(u).map(x=>x?.props?.value).filter(x=>typeof x=="string"&&x.length>0),C=w.length>0?w:Object.keys(r||{}),v=C[0]??null;(0,Z.useEffect)(()=>{C.length&&(!t||!C.includes(t))&&e?.(v)},[t,v,C.join("|")]);let g=(0,Z.useCallback)(x=>{let N=x??null;c&&N===null||e?.(N)},[e,c]),i=t?r?.[t]:null,a=typeof l=="function"?t?l(t):{}:l;return React.createElement(It.Flex,{direction:"column",gap:2,className:m,...h},React.createElement(M,{label:s,value:t||void 0,onChange:g},u),i?React.createElement(It.FlexBlock,null,React.createElement(Z.Suspense,{fallback:null},React.createElement(i,{...a}))):null)}var Et=(0,Z.memo)(P0);Et.TextOption=M.TextOption;Et.IconOption=M.IconOption;Et.CombinedOption=M.CombinedOption;var it=Et;var Le=f(U());function Xt({attributes:t,setJustifySelf:e}){let r=(0,Le.isRTL)(),l=React.createElement(r?Mt:Ct,null),s=React.createElement(r?Ct:Mt,null);return React.createElement(M,{label:d.gridItemsControls.justifySelf,value:t?.justifySelf??"",onChange:e},React.createElement(M.IconOption,{value:"start",icon:l,label:d.gridItemsControls.justifySelfStart}),React.createElement(M.IconOption,{value:"center",icon:Kt,label:d.gridItemsControls.justifySelfCenter}),React.createElement(M.IconOption,{value:"end",icon:s,label:d.gridItemsControls.justifySelfEnd}),React.createElement(M.IconOption,{value:"stretch",icon:Ut,label:d.gridItemsControls.justifySelfStretch}))}var He=f(U());function Qt({attributes:t,setAlignSelf:e,includeBaseline:r=!1}){let l=(0,He.isRTL)(),s=React.createElement(l?kt:Tt,null),c=React.createElement(l?Tt:kt,null);return React.createElement(M,{label:d.alignControls.label,value:t?.alignSelf??"",onChange:e},React.createElement(M.IconOption,{value:"start",icon:s,label:d.alignControls.start}),React.createElement(M.IconOption,{value:"center",icon:Yt,label:d.alignControls.center}),React.createElement(M.IconOption,{value:"end",icon:c,label:d.alignControls.end}),r&&React.createElement(M.IconOption,{value:"baseline",icon:zt,label:d.alignControls.baseline}),React.createElement(M.IconOption,{value:"stretch",icon:Wt,label:d.alignControls.stretch}))}var Oe=f(W()),Pe=f(_());function L({value:t,onChange:e,label:r,placeholder:l,min:s=2,max:c=100,step:m=1,asInteger:u=!1,clamp:h=!0,...w}){let C=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),v=t===""||t===void 0?"":String(t),g=(0,Pe.useCallback)(i=>{if(i===""||i===void 0||i===null){e("");return}let a=u?parseInt(i,10):parseFloat(i);if(Number.isNaN(a)){e("");return}h&&(typeof s=="number"&&a<s&&(a=s),typeof c=="number"&&a>c&&(a=c)),e(a)},[e,s,c,u,h]);return React.createElement("div",{style:{padding:"0 2px"}},React.createElement(Oe.__experimentalNumberControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:C,value:v,onChange:g,placeholder:l,min:s,max:c,step:m,...w}))}var se=f(U()),le=f(_()),$e=f(O()),R=f(W());var T=(t,e,r)=>Math.min(Math.max(t,e),r),q=t=>/^-?\d+$/.test(String(t||"").trim()),b=(t,e=1)=>{let r=Number(t);return Number.isFinite(r)?r:e},te=t=>{let e=String(t||"").trim();if(!e)return{start:1,span:1};let r=e.split("/").map(m=>m.trim());if(r.length===1)return{start:b(r[0],1),span:1};let l=r[0],s=r[1],c=/^span\s+(\d+)$/i.exec(s);return{start:l==="auto"?1:b(l,1),span:c?b(c[1],1):1}},ee=(t,e,r=!0)=>{let l=String(t).trim()||"auto",s=b(e,1);return r&&s===1&&l!=="auto"?l:`${l} / span ${s}`},oe=t=>{let e={start:"",span:"",end:""},r=String(t||"").trim();if(!r)return e;let l=r.split("/").map(u=>u.trim());if(l.length===1)return/^span\s+\d+$/i.test(l[0])?e.span=l[0].replace(/^span\s+/i,""):e.start=l[0],e;let s=l[0],c=l[1];e.start=s||"auto";let m=/^span\s+(\d+)$/i.exec(c);return m?e.span=m[1]:e.end=c,e};var re=t=>{let e=new Set,r=/\[([^\]]+)\]/g,l;for(;(l=r.exec(String(t||"")))!==null;){let s=l[1].trim();s&&s.split(/\s+/).forEach(c=>e.add(c))}return Array.from(e)},ne=t=>/\//.test(String(t||""))||/\bspan\s+\d+\b/i.test(String(t||"")),D0=t=>{let e=String(t||"").trim();return!(!e||ne(e)||/[\s\/"']/.test(e)||/^(auto|inherit|initial|unset|revert|revert-layer)$/i.test(e))},De=t=>D0(t)?String(t).trim():"";var Fe=Number.MAX_SAFE_INTEGER;function Ze({clientId:t,attributes:e}){if(!t)return null;let{updateBlockAttributes:r}=(0,$e.useDispatch)("core/block-editor"),{set:l}=$(r,t),{columns:s,rows:c}=X(),u=bt(e)==="Advanced",h=te(e.gridColumn),w=te(e.gridRow),C=b(h.start,1),v=b(h.span,1),g=b(w.start,1),i=b(w.span,1),a=Number.isFinite(s)&&s>0,x=Number.isFinite(c)&&c>0,N=(0,le.useMemo)(()=>a?Math.max(1,s-T(C,1,s)+1):Fe,[a,s,C]),D=(0,le.useMemo)(()=>x?Math.max(1,c-T(g,1,c)+1):Fe,[x,c,g]),J=a?T(C,1,s):C,j=T(v,1,N),mt=x?T(g,1,c):g,Q=T(i,1,D),ut=(S,y)=>l("gridColumn",ee(S,y,!0)),z=(S,y)=>l("gridRow",ee(S,y,!0)),rt=S=>{let y=a?T(b(S,1),1,s):b(S,1),pt=a?Math.max(1,s-y+1):N,F=T(j,1,pt);ut(y,F)},nt=S=>{let y=T(b(S,1),1,N);ut(J,y)},_t=S=>{let y=x?T(b(S,1),1,c):b(S,1),pt=x?Math.max(1,c-y+1):D,F=T(Q,1,pt);z(y,F)},tt=S=>{let y=T(b(S,1),1,D);z(mt,y)};return React.createElement(R.Flex,{direction:"column",gap:4,className:"costered-blocks-grid-item-simple--panel"},u&&React.createElement(R.Notice,{status:"info",isDismissible:!1},d.gridItemsControls.settingsIsAdvancedOwned),React.createElement(R.FlexBlock,{className:"costered-blocks-grid-item-simple-controls--columns"},a?React.createElement(R.Flex,{direction:"column",gap:2},React.createElement(R.RangeControl,{label:d.gridItemsControls.columnStart,value:J,onChange:rt,min:1,max:s,step:1,disabled:u,help:(0,se.sprintf)(d.gridItemsControls.columnStartHelp,s),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),React.createElement(R.RangeControl,{label:d.gridItemsControls.columnSpan,value:j,onChange:nt,min:1,max:N,step:1,disabled:u,help:d.gridItemsControls.columnSpanHelp,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})):React.createElement(R.Flex,{direction:"column",gap:2},React.createElement(L,{label:d.gridItemsControls.columnStart,value:J,onChange:S=>rt(S),min:1,isDragEnabled:!0,disabled:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),React.createElement(L,{label:d.gridItemsControls.columnSpan,value:j,onChange:S=>nt(S),min:1,isDragEnabled:!0,disabled:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}))),React.createElement(R.FlexBlock,{className:"costered-blocks-grid-item-simple-controls--rows"},x?React.createElement(R.Flex,{direction:"column",gap:2},React.createElement(R.RangeControl,{label:d.gridItemsControls.rowStart,value:mt,onChange:_t,min:1,max:c,step:1,disabled:u,help:(0,se.sprintf)(d.gridItemsControls.rowStartHelp,c),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),React.createElement(R.RangeControl,{label:d.gridItemsControls.rowSpan,value:Q,onChange:tt,min:1,max:D,step:1,disabled:u,help:d.gridItemsControls.rowSpanHelp,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})):React.createElement(R.Flex,{direction:"column",gap:2},React.createElement(L,{label:d.gridItemsControls.rowStart,value:mt,onChange:S=>_t(S),min:1,isDragEnabled:!0,disabled:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),React.createElement(L,{label:d.gridItemsControls.rowSpan,value:Q,onChange:S=>tt(S),min:1,isDragEnabled:!0,disabled:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}))))}var Us=f(U()),k=f(_()),Je=f(O()),P=f(W());var dt=f(U()),B=f(_()),Nt=f(W());var je=(0,B.createContext)();function Rt({value:t,onChange:e,label:r="",className:l="",children:s}){let[c,m]=(0,B.useState)(!1),u=(0,B.useRef)(null);(0,B.useEffect)(()=>{if(!c)return;let a=x=>{u.current&&(u.current.contains(x.target)||m(!1))};return document.addEventListener("pointerdown",a,!0),()=>document.removeEventListener("pointerdown",a,!0)},[c]);let h=(0,B.useMemo)(()=>a=>{e(a),m(!1)},[e]),w=(0,B.useMemo)(()=>({value:t,onSelect:h}),[t,h]),C=d.customSelectControl.defaultText,v=()=>{let a,x=C,N=B.Children.toArray(s);for(let D=0;D<N.length;D++){let J=N[D];if(J?.props?.value===t){let j=B.Children.toArray(J.props.children);j.length>1?(a=j[0]??a,x=j.slice(1)):x=j[0]??C;break}}return{icon:a,labelNode:x}},{icon:g,labelNode:i}=v();return React.createElement(je.Provider,{value:w},React.createElement("div",{ref:u,style:$0},r&&React.createElement("label",{style:Z0},r),React.createElement("button",{type:"button","aria-haspopup":"listbox","aria-expanded":c,onClick:()=>m(a=>!a),onKeyDown:a=>{a.key==="ArrowDown"&&!c&&m(!0),a.key==="Escape"&&c&&m(!1)},className:"costered-custom-select__button",style:j0},React.createElement(Nt.Flex,{direction:(0,dt.isRTL)()?"row-reverse":"row",align:"center",gap:8},React.createElement(Nt.FlexItem,{isBlock:!0,style:ze},g,React.createElement("span",null,i)),React.createElement("span",{style:z0},"\u25BC"))),c&&React.createElement("ul",{role:"listbox",tabIndex:-1,className:`costered-custom-select__list ${l||""}`,style:W0},s)))}var F0=React.memo(function({value:e,children:r,className:l="",...s}){let{value:c,onSelect:m}=(0,B.useContext)(je)||{},u=e===c||!e&&!c,h=()=>m?.(e);return React.createElement("li",{role:"option","aria-selected":u,tabIndex:0,className:`costered-custom-select__list-item ${l}`,style:{...J0,...u?ze:null},onClick:h,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),h())},...s},React.createElement("div",{style:K0},r??String(e??"")))});Rt.Option=F0;var $0={position:"relative",flex:1,minWidth:180},Z0={display:"block",marginBottom:4,fontSize:"0.875em",fontWeight:500,textTransform:"uppercase"},j0={display:"flex",alignItems:"center",width:"100%",padding:"8px 12px",fontSize:"1em",border:"1px solid #949494",borderRadius:4,background:"#fff",cursor:"pointer",gap:8},ze={display:"flex",flexDirection:(0,dt.isRTL)()===!0?"row-reverse":"row",alignItems:"center",gap:8,flexGrow:1,color:"#333"},z0={marginLeft:"auto",color:"#888"},W0={position:"absolute",top:"100%",left:0,zIndex:10,width:"100%",margin:0,padding:0,background:"#fff",border:"1px solid #dcdcde",borderRadius:4,boxShadow:"0 2px 8px rgba(0,0,0,0.04)",listStyle:"none",maxHeight:240,overflowY:"auto"},J0={display:"flex",flexDirection:(0,dt.isRTL)()===!0?"row-reverse":"row",alignItems:"center",gap:8,padding:"8px 12px",cursor:"pointer"},K0={display:"flex",gap:8,alignItems:"center",flexDirection:(0,dt.isRTL)()?"row-reverse":"row"};var We=Number.MAX_SAFE_INTEGER;function Ke({clientId:t,attributes:e}){if(!t)return null;let{updateBlockAttributes:r}=(0,Je.useDispatch)("core/block-editor"),{set:l,setMany:s}=$(r,t),{columns:c,rows:m,areaNames:u,columnTemplate:h,rowTemplate:w}=X(),v=bt(e)==="Simple",g=ne(e.gridArea),i=(0,k.useMemo)(()=>oe(e.gridColumn),[e.gridColumn]),a=(0,k.useMemo)(()=>oe(e.gridRow),[e.gridRow]),x=i.end?"end":"span",N=a.end?"end":"span",D=q(i.start)?"number":"named",J=q(a.start)?"number":"named",j=i.end?q(i.end)?"number":i.end==="auto"?"auto":"named":"number",mt=a.end?q(a.end)?"number":a.end==="auto"?"auto":"named":"number",Q=(0,k.useMemo)(()=>re(h),[h]),ut=(0,k.useMemo)(()=>re(w),[w]),z=Q.length>0,rt=ut.length>0,nt=z?D:"number",_t=rt?J:"number",tt=i.end?q(i.end)?"number":i.end==="auto"?"auto":"named":"number",S=a.end?q(a.end)?"number":a.end==="auto"?"auto":"named":"number",y=z?tt:tt==="named"?"number":tt,pt=rt?S:S==="named"?"number":S,F=(0,k.useMemo)(()=>{if(!c||!q(i.start))return We;let p=T(b(i.start,1),1,c);return Math.max(1,c-p+1)},[c,i.start]),gt=(0,k.useMemo)(()=>{if(!m||!q(a.start))return We;let p=T(b(a.start,1),1,m);return Math.max(1,m-p+1)},[m,a.start]),I=(0,k.useCallback)(p=>{let A=p.end?`${String(p.start||"auto").trim()} / ${String(p.end||"auto").trim()}`:()=>{let H=String(p.start||"auto").trim(),qt=Number(p.span);return n===1&&H!=="auto"?H:`${H} / span ${qt}`};l("gridColumn",A)},[l]),E=(0,k.useCallback)(p=>{let A=p.end?`${String(p.start||"auto").trim()} / ${String(p.end||"auto").trim()}`:(()=>{let H=String(p.start||"auto").trim(),qt=Number(p.span);return n===1&&H!=="auto"?H:`${H} / span ${qt}`})();l("gridRow",A)},[l]),e0=(0,k.useCallback)(p=>{let A=b(p,1);if(i.end)I({start:A,end:i.end});else{let H=T(b(i.span,1),1,F);I({start:A,span:H})}},[i.end,i.span,F,I]),o0=(0,k.useCallback)(p=>{let A=String(p||"auto").trim()||"auto";i.end?I({start:A,end:i.end}):I({start:A,span:b(i.span,1)})},[i.end,i.span,I]),r0=(0,k.useCallback)(p=>{let A=T(b(p,1),1,F);I({start:i.start||"auto",span:A})},[i.start,F,I]),n0=(0,k.useCallback)(p=>{I({start:i.start||"auto",end:b(p,1)})},[i.start,I]),s0=(0,k.useCallback)(p=>{I({start:i.start||"auto",end:String(p||"auto").trim()||"auto"})},[i.start,I]),l0=(0,k.useCallback)(()=>{I({start:i.start||"auto",end:"auto"})},[i.start,I]);onColChangeMode=(0,k.useCallback)(p=>{I(p==="end"?{start:i.start||"auto",end:i.end||"auto"}:{start:i.start||"auto",span:b(i.span,1)})},[i.start,i.end,i.span,I]);let X0=(0,k.useCallback)(p=>{let A=b(p,1);if(a.end)E({start:A,end:a.end});else{let H=T(b(a.span,1),1,gt);E({start:A,span:H})}},[a.end,a.span,gt,E]),Q0=(0,k.useCallback)(p=>{let A=String(p||"auto").trim()||"auto";a.end?E({start:A,end:a.end}):E({start:A,span:b(a.span,1)})},[a.end,a.span,E]),to=(0,k.useCallback)(p=>{let A=T(b(p,1),1,gt);E({start:a.start||"auto",span:A})},[a.start,gt,E]),eo=(0,k.useCallback)(p=>{E({start:a.start||"auto",end:b(p,1)})},[a.start,E]),oo=(0,k.useCallback)(p=>{E({start:a.start||"auto",end:String(p||"auto").trim()||"auto"})},[a.start,E]),ro=(0,k.useCallback)(()=>{E({start:a.start||"auto",end:"auto"})},[a.start,E]);onRowChangeMode=(0,k.useCallback)(p=>{E(p==="end"?{start:a.start||"auto",end:a.end||"auto"}:{start:a.start||"auto",span:b(a.span,1)})},[a.start,a.end,a.span,E]);let K=g;return React.createElement(P.Flex,{direction:"column",gap:4,className:"costered-blocks-grid-item-advanced--panel"},g&&React.createElement(P.Notice,{status:"info",isDismissible:!1},d.gridItemsControls.settingsHasArea),React.createElement(P.FlexBlock,{className:"costered-blocks-grid-item-advanced-controls--column-placement"},React.createElement("fieldset",{className:"costered-blocks-grid-item-advanced-controls--fieldset"},React.createElement("legend",{className:"components-base-control__label"},d.gridItemsControls.columnStart),React.createElement(M,{label:d.gridItemsControls.columnPlacementMode,value:x,onChange:onColChangeMode,disabled:K,isBlock:!0},React.createElement(M.TextOption,{value:"span",label:d.gridItemsControls.columnPlacementSpan}),React.createElement(M.TextOption,{value:"end",label:d.gridItemsControls.columnPlacementEnd})),z&&React.createElement(Rt,{label:d.gridItemsControls.columnStartMode,value:nt,options:[{label:d.gridItemsControls.columnStartModeNumber,value:"number"},{label:d.gridItemsControls.columnStartModeNamed,value:"named"}],onChange:p=>{},disabled:K}),nt==="number"?React.createElement(L,{label:d.gridItemsControls.columnStart,value:q(i.start)?b(i.start,1):1,onChange:e0,disabled:K}):React.createElement(P.ComboboxControl,{label:d.gridItemsControls.columnStartNamed,value:q(i.start)?"":i.start||"",options:Q.map(p=>({label:p,value:p})),onChange:o0,allowReset:!0,disabled:K,help:d.gridItemsControls.columnStartNamedHelp,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),!z&&!q(i.start)&&i.start&&React.createElement(P.Notice,{status:"info",isDismissible:!1},d.gridItemsControls.columnStartNameMismatch),x==="span"?React.createElement(L,{label:d.gridItemsControls.columnSpan,value:b(i.span,1),onChange:r0,min:1,max:Number.isFinite(F)?F:void 0,isDragEnabled:!0,disabled:K,help:c?d.gridItemsControls.columnSpanParentHelp:void 0}):React.createElement(React.Fragment,null,React.createElement(Rt,{label:d.gridItemsControls.columnEndMode,value:y,options:z?[{label:d.gridItemsControls.columnEndModeNumber,value:"number"},{label:d.gridItemsControls.columnEndModeNamed,value:"named"},{label:d.gridItemsControls.columnEndModeAuto,value:"auto"}]:[{label:d.gridItemsControls.columnEndModeNumber,value:"number"},{label:d.gridItemsControls.columnEndModeAuto,value:"auto"}],onChange:p=>{p==="auto"&&l0()},disabled:K}),y==="number"&&React.createElement(L,{label:d.gridItemsControls.columnEndNumber,value:q(i.end)?b(i.end,1):1,onChange:n0,isDragEnabled:!0,disabled:K,help:d.gridItemsControls.columnEndNumberHelp}),y==="named"&&React.createElement(P.ComboboxControl,{label:d.gridItemsControls.columnEndNamed,value:!q(i.end)&&i.end!=="auto"&&i.end||"",options:Q.map(p=>({label:p,value:p})),onChange:s0,allowReset:!0,disabled:K,help:d.gridItemsControls.columnEndNamedHelp,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),!z&&!q(i.end)&&i.end&&i.end!=="auto"&&React.createElement(P.Notice,{status:"info",isDismissible:!1},d.gridItemsControls.columnEndNameMismatch)))))}var Ue=f(_()),Ye=f(O()),ot=f(W());function Xe({clientId:t,attributes:e}){if(!t)return null;let{updateBlockAttributes:r}=(0,Ye.useDispatch)("core/block-editor"),{set:l}=$(r,t),{areaNames:s}=X(),c=(0,Ue.useCallback)(m=>{let u=De(m);l("gridArea",u)},[l]);return React.createElement(ot.Flex,{direction:"column",gap:4,className:"costered-blocks-grid-item-area--panel"},React.createElement(ot.FlexBlock,{className:"costered-blocks-grid-item-advanced-controls--grid-area-selector"},React.createElement(ot.ComboboxControl,{label:d.gridItemsControls.gridAreaLabel,value:e.gridArea||"",options:[{label:d.gridItemsControls.gridAreaNone,value:""},...s.map(m=>({label:m,value:m}))],onChange:m=>c(m),help:d.gridItemsControls.gridAreaHelp,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})))}var t0=Number.MAX_SAFE_INTEGER,U0=-t0,Y0=()=>{let{selectedBlock:t,clientId:e}=Ft(),{updateBlockAttributes:r}=(0,Qe.useDispatch)("core/block-editor");if(!t)return null;let{parentAttrs:l}=at(),{attributes:s,blockName:c}=t,{set:m}=$(r,e),u=Dt(c,e),h=jt("activeGridItemPanel",{blockName:u}),[w,C]=Zt(h,"simple"),v=(0,Bt.useCallback)(a=>m("alignSelf",a),[m]),g=(0,Bt.useCallback)(a=>m("justifySelf",a),[m]),i=(0,Bt.useCallback)(a=>m("order",a),[m]);return React.createElement(V.Panel,{className:"costered-blocks-grid-item-controls--panel"},React.createElement(V.PanelBody,{title:d.gridItemsControls.panelTitle},React.createElement(V.Flex,{expanded:!0,gap:4,direction:"column",className:"costered-blocks-grid-item-controls--mode-panel"},React.createElement(V.FlexBlock,null,React.createElement(it,{value:w,onChange:C,label:null,forceActive:!0,panels:{simple:Ze,tracks:Ke,areas:Xe},panelProps:{clientId:e,attributes:s,parentAttrs:l}},React.createElement(it.TextOption,{value:"simple",label:d.gridItemsControls.simplePanel}),React.createElement(it.TextOption,{value:"tracks",label:d.gridItemsControls.tracksPanel}),React.createElement(it.TextOption,{value:"areas",label:d.gridItemsControls.areasPanel}))))),React.createElement(V.PanelBody,{title:d.gridItemsControls.panelAlignment,initialOpen:!0},React.createElement(V.Flex,{expanded:!0,gap:4,direction:"column",className:"costered-blocks-grid-item-controls--alignment-panel"},React.createElement(V.FlexBlock,{className:"costered-blocks-grid-item-simple-controls--justifyself"},React.createElement(Xt,{attributes:s,setJustifySelf:g})),React.createElement(V.FlexBlock,{className:"costered-blocks-grid-item-simple-controls--alignself"},React.createElement(Qt,{attributes:s,setAlignSelf:v})))),React.createElement(V.PanelBody,{title:d.gridItemsControls.panelOrder,initialOpen:!0},React.createElement(V.Flex,{expanded:!0,gap:4,direction:"column",className:"costered-blocks-grid-item-controls--order-panel"},React.createElement(V.FlexBlock,{className:"costered-blocks-grid-item-simple-controls--order"},React.createElement(L,{label:d.gridItemsControls.order,value:s?.order||0,onChange:i,step:1,min:U0,max:t0})))))},Al={name:"grid-item-controls",title:d.gridItemsControls.panelTitle,icon:React.createElement(Jt,null),isVisible:({parentAttrs:t}={})=>["grid","inline-grid"].includes(t?.display),render:()=>React.createElement(Y0,null)};})();
