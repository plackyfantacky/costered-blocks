(()=>{var R=Object.create;var m=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty;var a=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of E(e))!W.call(t,o)&&o!==n&&m(t,o,{get:()=>e[o],enumerable:!(r=T(e,o))||r.enumerable});return t};var p=(t,e,n)=>(n=t!=null?R(F(t)):{},_(e||!t||!t.__esModule?m(n,"default",{value:t,enumerable:!0}):n,t));var f=a((S,k)=>{k.exports=wp.hooks});var h=a(($,x)=>{x.exports=wp.blockEditor});var B=a((j,g)=>{g.exports=wp.components});var w=a((z,v)=>{v.exports=wp.element});var P=a((O,y)=>{y.exports=wp.blocks});var d=p(f()),c=p(h()),i=p(B()),l=p(w()),C=p(P()),A=[["costered-blocks/button-text",{content:"Button Text"}]];(0,d.addFilter)("blocks.registerBlockType","costered-blocks/core-button--innerblocks-support-registerblocktype",(t,e)=>e!=="core/button"?t:{...t,supports:{...t.supports,innerBlocks:!0,color:!0,background:!0,textColor:!0},attributes:{...t.attributes,url:{type:"string",default:"#"}},edit:()=>{let n=(0,c.useBlockProps)({className:"cb-button--with-innerblocks"}),{outerProps:r,innerProps:o}=N(n);return React.createElement("div",{...r},React.createElement("div",{...o},React.createElement(c.InnerBlocks,{allowedBlocks:["core/image","core/group","core/html","core/shortcode","outermost/icon-block"],template:A,templateLock:!1,orientation:"horizontal"})))}});(0,d.addFilter)("blocks.getSaveElement","costered-blocks/core-button--innerblocks-support-save",(t,e,n)=>{if(e.name!=="core/button")return t;let r=c.useBlockProps.save(),{outerProps:o,innerProps:s}=N(r);return React.createElement("div",{...o},React.createElement("a",{href:n.url,...s},React.createElement(c.InnerBlocks.Content,null)))});(0,d.addFilter)("editor.BlockEdit","costered-blocks/core-button--innerblocks-support-sidebar",t=>e=>{if(e.name!=="core/button")return React.createElement(t,{...e});let{attributes:n,setAttributes:r}=e,o=s=>{r({url:s})};return React.createElement(React.Fragment,null,React.createElement(t,{...e}),React.createElement(c.InspectorControls,null,React.createElement(i.PanelBody,{title:"Button Link",initialOpen:!0},React.createElement(i.BaseControl,{label:"Button URL"},React.createElement(i.Flex,{expanded:!0},React.createElement(i.FlexItem,{isBlock:!0},React.createElement(c.URLInput,{value:n.url,onChange:o,className:"cb-button__url-input",placeholder:"Enter URL"})))))))});(0,C.registerBlockType)("costered-blocks/button-text",{title:"Button Text",category:"text",icon:"editor-textcolor",parent:["core/button"],attributes:{content:{type:"string",source:"text",selector:"span"}},edit:({attributes:t,setAttributes:e,isSelected:n})=>{let{content:r}=t,o=(0,l.useRef)(null),s=(0,l.useRef)(null),[u,L]=(0,l.useState)("auto"),I=()=>{if(s.current){let b=s.current.offsetWidth+2;L(`${b}px`)}};return(0,l.useEffect)(()=>{I()},[r]),(0,l.useEffect)(()=>{n&&o.current&&o.current.focus()},[n]),React.createElement("div",{className:"cb-button-text-wrapper"},React.createElement("input",{ref:o,type:"text",className:"cb-button-text-input",value:r||"",onInput:b=>e({content:b.target.value}),size:4,placeholder:"Button Text",style:{textAlign:"left",display:"inline",font:"inherit",color:"inherit",padding:"0",margin:"0",background:"transparent",border:" 0 none",minHeight:"0",width:u,outline:n?"1px dotted #999":"none",boxShadow:"none"}}),React.createElement("span",{ref:s,className:"cb-button-text-measure",style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",font:"inherit",padding:0,margin:0}},t.content||"Add text"))},save:({attributes:t})=>React.createElement("span",{className:"cb-button-text"},t.content)});function N({className:t="",style:e,...n}){let r=t.trim().split(/\s+/),o=new Set,s=[];for(let u of r)/^has-[\w-]+-(color|background-color)$/.test(u)||/^has-(text|background|link)-color$/.test(u)||u.startsWith("is-style-")?o.add(u):s.push(u);return{outerProps:{...n,className:s.join(" ")},innerProps:{className:["wp-block-button__link",...o].join(" "),style:e}}}})();
