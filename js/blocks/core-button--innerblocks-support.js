(()=>{var T=Object.create;var g=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _=(t,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!I.call(t,n)&&n!==o&&g(t,n,{get:()=>e[n],enumerable:!(s=L(e,n))||s.enumerable});return t};var b=(t,e,o)=>(o=t!=null?T(N(t)):{},_(e||!t||!t.__esModule?g(o,"default",{value:t,enumerable:!0}):o,t));var f=d((W,y)=>{y.exports=wp.hooks});var x=d((F,B)=>{B.exports=wp.components});var P=d((U,h)=>{h.exports=wp.blockEditor});var w=d((G,v)=>{v.exports=wp.element});var A=d(($,S)=>{S.exports=wp.blocks});var m=b(f()),u=b(x()),l=b(P()),i=b(w()),C=b(A()),H=[["costered-blocks/button-text",{content:"Button Text"}]];(0,m.addFilter)("blocks.registerBlockType","costered-blocks/core-button--innerblocks-support-registerblocktype",(t,e)=>e!=="core/button"?t:{...t,supports:{...t.supports,innerBlocks:!0,color:!0,background:!0,textColor:!0},attributes:{...t.attributes,url:{type:"string",default:"#"},buttonGap:{type:"string",default:""}},edit:({attributes:o,setAttributes:s})=>{let{buttonGap:n}=o,r=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(r.current){let c=r.current.querySelector(".block-editor-block-list__layout");c&&(c.style.gap=String(n??""))}},[n]);let p=(0,l.useBlockProps)({className:"cb-button--with-innerblocks"}),{outerProps:a,innerProps:k}=R(p);return wp.element.createElement("div",{...a},wp.element.createElement("div",{...k,ref:r},wp.element.createElement(l.InnerBlocks,{allowedBlocks:["core/image","core/group","core/html","core/shortcode","outermost/icon-block"],template:H,templateLock:!1,orientation:"horizontal"})))}});(0,m.addFilter)("blocks.getSaveElement","costered-blocks/core-button--innerblocks-support-save",(t,e,o)=>{if(e.name!=="core/button")return t;let s=l.useBlockProps.save(),{outerProps:n,innerProps:r}=R(s);return wp.element.createElement("div",{...n},wp.element.createElement("a",{href:o.url||"#",...r},wp.element.createElement(l.InnerBlocks.Content,null)))});(0,m.addFilter)("editor.BlockEdit","costered-blocks/core-button--innerblocks-support-sidebar",t=>e=>{if(e.name!=="core/button")return wp.element.createElement(t,{...e});let{attributes:o,setAttributes:s}=e,n=r=>{s({url:r??""})};return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t,{...e}),wp.element.createElement(l.InspectorControls,null,wp.element.createElement(u.PanelBody,{title:"Button Link",initialOpen:!0},wp.element.createElement(u.BaseControl,{label:"Button URL"},wp.element.createElement(u.Flex,{expanded:!0},wp.element.createElement(u.FlexItem,{isBlock:!0},wp.element.createElement(l.URLInput,{value:o.url??"",onChange:n,className:"cb-button__url-input",placeholder:"Enter URL"})))))))});(0,C.registerBlockType)("costered-blocks/button-text",{title:"Button Text",category:"text",icon:"editor-textcolor",parent:["core/button"],attributes:{content:{type:"string",source:"text",selector:"span"}},edit:({attributes:t,setAttributes:e,isSelected:o})=>{let{content:s}=t,n=(0,i.useRef)(null),r=(0,i.useRef)(null),[p,a]=(0,i.useState)("auto");return(0,i.useEffect)(()=>{let c=(r.current?.offsetWidth??0)+2;a(`${c}px`)},[s]),(0,i.useEffect)(()=>{o&&n.current?.focus()},[o]),wp.element.createElement("div",{className:"cb-button-text-wrapper"},wp.element.createElement("input",{ref:n,type:"text",className:"cb-button-text-input",value:s??"",onInput:c=>e({content:c.target.value}),size:4,placeholder:"Button Text",style:{textAlign:"left",display:"inline",font:"inherit",color:"inherit",padding:"0",margin:"0",background:"transparent",border:" 0 none",minHeight:"0",width:p,outline:o?"1px dotted #999":"none",boxShadow:"none"}}),wp.element.createElement("span",{ref:r,className:"cb-button-text-measure",style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",font:"inherit",padding:0,margin:0}},t.content||"Add text"))},save:({attributes:t})=>wp.element.createElement("span",{className:"cb-button-text"},t.content)});function R({className:t="",style:e,...o}){let s=t.trim()?t.trim().split(/\s+/):[],n=new Set,r=[];for(let a of s)/^has-[\w-]+-(color|background-color)$/.test(a)||/^has-(text|background|link)-color$/.test(a)||a.startsWith("is-style-")?n.add(a):r.push(a);let p={className:["wp-block-button__link",...n].join(" ")};return{outerProps:{...o,className:r.join(" ")},innerProps:p}}})();
