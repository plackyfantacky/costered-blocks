(()=>{var R=Object.create;var f=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var F=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of _(e))!A.call(t,o)&&o!==r&&f(t,o,{get:()=>e[o],enumerable:!(s=T(e,o))||s.enumerable});return t};var b=(t,e,r)=>(r=t!=null?R(E(t)):{},F(e||!t||!t.__esModule?f(r,"default",{value:t,enumerable:!0}):r,t));var h=p((U,x)=>{x.exports=wp.hooks});var y=p(($,g)=>{g.exports=wp.blockEditor});var B=p((j,v)=>{v.exports=wp.components});var P=p((z,w)=>{w.exports=wp.element});var N=p((G,C)=>{C.exports=wp.blocks});var d=b(h()),l=b(y()),u=b(B()),c=b(P()),L=b(N()),W=[["costered-blocks/button-text",{content:"Button Text"}]];(0,d.addFilter)("blocks.registerBlockType","costered-blocks/core-button--innerblocks-support-registerblocktype",(t,e)=>e!=="core/button"?t:{...t,supports:{...t.supports,innerBlocks:!0,color:!0,background:!0,textColor:!0},attributes:{...t.attributes,url:{type:"string",default:"#"},buttonGap:{type:"string",default:""}},edit:({attributes:r,setAttributes:s})=>{let{buttonGap:o}=r,n=(0,c.useRef)();(0,c.useEffect)(()=>{if(n.current){let a=n.current.querySelector(".block-editor-block-list__layout");a&&(a.style.gap=o)}},[o]);let i=(0,l.useBlockProps)({className:"cb-button--with-innerblocks"}),{outerProps:m,innerProps:k}=I(i);return wp.element.createElement("div",{...m},wp.element.createElement("div",{...k,ref:n},wp.element.createElement(l.InnerBlocks,{allowedBlocks:["core/image","core/group","core/html","core/shortcode","outermost/icon-block"],template:W,templateLock:!1,orientation:"horizontal"})))}});(0,d.addFilter)("blocks.getSaveElement","costered-blocks/core-button--innerblocks-support-save",(t,e,r)=>{if(e.name!=="core/button")return t;let s=l.useBlockProps.save(),{outerProps:o,innerProps:n}=I(s);return wp.element.createElement("div",{...o},wp.element.createElement("a",{href:r.url,...n},wp.element.createElement(l.InnerBlocks.Content,null)))});(0,d.addFilter)("editor.BlockEdit","costered-blocks/core-button--innerblocks-support-sidebar",t=>e=>{if(e.name!=="core/button")return wp.element.createElement(t,{...e});let{attributes:r,setAttributes:s}=e,o=n=>{s({url:n})};return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t,{...e}),wp.element.createElement(l.InspectorControls,null,wp.element.createElement(u.PanelBody,{title:"Button Link",initialOpen:!0},wp.element.createElement(u.BaseControl,{label:"Button URL"},wp.element.createElement(u.Flex,{expanded:!0},wp.element.createElement(u.FlexItem,{isBlock:!0},wp.element.createElement(l.URLInput,{value:r.url,onChange:o,className:"cb-button__url-input",placeholder:"Enter URL"})))))))});(0,L.registerBlockType)("costered-blocks/button-text",{title:"Button Text",category:"text",icon:"editor-textcolor",parent:["core/button"],attributes:{content:{type:"string",source:"text",selector:"span"}},edit:({attributes:t,setAttributes:e,isSelected:r})=>{let{content:s}=t,o=(0,c.useRef)(null),n=(0,c.useRef)(null),[i,m]=(0,c.useState)("auto"),k=()=>{if(n.current){let a=n.current.offsetWidth+2;m(`${a}px`)}};return(0,c.useEffect)(()=>{k()},[s]),(0,c.useEffect)(()=>{r&&o.current&&o.current.focus()},[r]),wp.element.createElement("div",{className:"cb-button-text-wrapper"},wp.element.createElement("input",{ref:o,type:"text",className:"cb-button-text-input",value:s||"",onInput:a=>e({content:a.target.value}),size:4,placeholder:"Button Text",style:{textAlign:"left",display:"inline",font:"inherit",color:"inherit",padding:"0",margin:"0",background:"transparent",border:" 0 none",minHeight:"0",width:i,outline:r?"1px dotted #999":"none",boxShadow:"none"}}),wp.element.createElement("span",{ref:n,className:"cb-button-text-measure",style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",font:"inherit",padding:0,margin:0}},t.content||"Add text"))},save:({attributes:t})=>wp.element.createElement("span",{className:"cb-button-text"},t.content)});function I({className:t="",style:e,...r}){let s=t.trim().split(/\s+/),o=new Set,n=[];for(let i of s)/^has-[\w-]+-(color|background-color)$/.test(i)||/^has-(text|background|link)-color$/.test(i)||i.startsWith("is-style-")?o.add(i):n.push(i);return{outerProps:{...r,className:n.join(" ")},innerProps:{className:["wp-block-button__link",...o].join(" "),style:e}}}})();
