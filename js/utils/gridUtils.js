(()=>{var p={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var R=t=>Array.isArray(t)?t:[],N=t=>new Set(R(t));function a(t){return Object.fromEntries(Object.entries(p.attributes).filter(([e,r])=>r.group===t))}var E=a("display"),b=a("dimension"),w=a("margin"),_=a("padding"),I=a("flex"),O=a("flex-item"),k=a("grid"),y=a("grid-item"),j=a("position"),C=a("shared"),Z={...E,...b,...w,..._,...I,...O,...k,...y,...j,...C},tt=new Set([...Object.keys(y)]),et=R(p?.collections?.editorStyles),rt=N(p?.collections?.unitless),S=p?.settings?.gridUnit||"1fr",nt=!!p?.settings?.appendImportantToMirroredStyles,st=p?.settings?.styleTagId||"costered-blocks-style-mirror",it=p?.settings?.reduxStoreKey||"costered/ui",ot=p?.settings?.breakpoints?.mobile??782,ct=p?.settings?.breakpoints?.tablet??1024,ut=p?.settings?.breakpoints?.desktop??1440,pt=p?.collections?.clearSets?.gridAreas,at=p?.collections?.clearSets?.gridColumns,gt=p?.collections?.clearSets?.gridRows;var lt=new Set([...Object.keys(E),...Object.keys(b),...Object.keys(_),...Object.keys(w),...Object.keys(I),...Object.keys(O),...Object.keys(k),...Object.keys(y),...Object.keys(j),...Object.keys(C)]),mt=Object.fromEntries(Object.entries(p.attributes).map(([t,e])=>[t,e.css]));var ht=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"";function x(t){return String(t||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function H(t){let e=String(t||"").trim();if(!e)return[];let r=0,n=0,s="",i=[];for(let o=0;o<e.length;o++){let c=e[o];if(c==="("){r++,s+=c;continue}if(c===")"){r=Math.max(0,r-1),s+=c;continue}if(c==="["){n++,s+=c;continue}if(c==="]"){n=Math.max(0,n-1),s+=c;continue}if(c===" "&&r===0&&n===0){s&&(i.push(s),s="");continue}s+=c}return s&&i.push(s),i}function P(t){if(!t)return null;let e=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return e?{count:parseInt(e[1],10),unit:e[2].trim()}:null}function G(t,e=S){return t>0?`repeat(${t}, ${e})`:null}var B=/^(?:[0-9.]+(?:px|rem|em|ch|vh|vw|vmin|vmax|fr|%)|auto|max-content|min-content|fit-content\([^)]+\)|minmax\([^)]+\)|clamp\([^)]+\)|var\([^)]+\))$/i;function xt(t,e,r="1fr"){let n=Math.max(0,Number(e)||0),s=x(t||"");if(n<=0)return s;let{count:i}=K(s);if(i===0){let g=String(r||"").trim()||"1fr";return`repeat(${n}, ${g})`}if(i>=n)return s;let o=n-i,c=String(r||"").trim()||"1fr",u=s.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(u){let g=u[2].trim();if(B.test(g))return`repeat(${n}, ${g})`}let l=Array.from({length:o}).map(()=>c).join(" ");return`${s} ${l}`.trim()}function yt(t,e){if(!t||typeof t!="string")return"";let r=Math.max(0,Math.trunc(Number(e)||0)),n=t.replace(/\[[^\]]*\]/g," ").trim();if(!n)return"";let s=n.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(s){let i=s[2].trim();if(!/\s/.test(i))return r<=0?"":`repeat(${r}, ${i})`;let o=F(n);return D(o,r)}return D(n,r)}function K(t,e=S){if(!t||typeof t!="string")return{count:0,unit:e};let r=t.trim();if(!r)return{count:0,unit:e};if(/^subgrid\b/i.test(r))return{count:0,unit:e};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:e};let n=r.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(n){let o=n[2];return{count:0,unit:T(o,e)}}let{count:s,unit:i}=Y(r,e);return{count:s,unit:i||e}}function Y(t,e){let r=M(t);if(r){let c=r.inner.trim(),l=f(c).length,g=T(c,e);return{count:r.times*l,unit:g||e}}let n=f(t),s=0,i="";for(let c of n){if(/^\s*repeat\(/i.test(c)){let u=$(c);if(u){s+=u.count,!i&&u.unitHint&&(i=u.unitHint);continue}s+=1;continue}s+=1,!i&&d(c)&&(i=m(c)||"")}let o=i||T(t,e);return{count:s,unit:o||e}}function M(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10),n=e[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:n}}function $(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let r=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!r)return null;let n=parseInt(r[1],10)||0;if(n<=0)return{count:0,unitHint:""};let s=r[2].trim(),i=f(s),o=n*i.length,c="";if(i.length===1)c=m(i[0])||"";else{let u=i.find(d);c=m(u)||""}return{count:o,unitHint:c}}function f(t){let e=[],r=0,n="";for(let s=0;s<t.length;s++){let i=t[s];if(i==="("){r++,n+=i;continue}if(i===")"){r=Math.max(0,r-1),n+=i;continue}if(r===0&&/\s/.test(i)){n.trim()&&e.push(n.trim()),n="";continue}n+=i}return n.trim()&&e.push(n.trim()),e}function T(t,e){if(!t)return e;let r=M(t);if(r){let i=f(r.inner);if(i.length===1)return m(i[0])||e;let o=i.find(d);if(o)return m(o)||e}let n=f(t);if(n.length===1)return m(n[0])||e;let s=n.find(d);if(s)return m(s)||e;for(let i of n){let o=$(i);if(o&&o.unitHint)return o.unitHint}return e}function d(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function m(t){return t?t.trim():""}function F(t){return t.replace(/repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)/gi,(e,r,n)=>{let s=parseInt(r,10),i=n.trim();return Array.from({length:s}).map(()=>i).join(" ")})}function D(t,e){if(e<=0)return"";let r=0,n="",s=[];for(let o of t)o==="("&&r++,o===")"&&(r=Math.max(0,r-1)),/\s/.test(o)&&r===0?n&&(s.push(n),n=""):n+=o;n&&s.push(n);let i=s.slice(0,e);return i.length===0?"":i.join(" ")}function h(t){let e=Number(t);return Number.isFinite(e)&&e>=0?Math.floor(e):0}function z(t,e="."){let r=String(t??"").trim();return r===""?e:r}function St(t,e){if(t&&typeof t.$get=="function")return t.$get(e,{cascade:!0})}function Tt(t){let e=String(t||"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let r=[],n=/"([^"]*)"|'([^']*)'/g,s;for(;s=n.exec(e);){let o=(s[1]??s[2]??"").trim();o&&r.push(o)}return r.length?{hasAreas:!0,cols:r.reduce((o,c)=>{let u=c.split(/\s+/).filter(Boolean).length;return Math.max(o,u)},0),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function At(t,e="."){if(!Array.isArray(t)||t.length===0)return"";let r=t.map(s=>(Array.isArray(s)?s:[]).map(i=>{let o=String(i??"").trim();return o===""?e:o}));return r.some(s=>s.some(i=>i!==e))?r.map(s=>`"${s.join(" ")}"`).join(" "):""}function Rt(t,e="."){let r=String(t||"").trim();if(!r)return[];let n=[],s=/"([^"]*)"|'([^']*)'/g,i;for(;i=s.exec(r);){let o=(i[1]??i[2]??"").trim(),c=o.length?o.split(/\s+/g).map(u=>u&&u!==e?u:e):[];n.push(c)}return n}function W(t,e,r,n="."){let s=h(e),i=h(r);if(s===0||i===0)return[];let o=Array.isArray(t)?t:[],c=[];for(let u=0;u<i;u++){let l=Array.isArray(o[u])?o[u]:[],g=Array.from({length:s},(V,L)=>{let A=l[L];return A===void 0?n:A});c.push(g)}return c}function Et(t){let e=String(t||"").trim();if(!e||/^subgrid\b/i.test(e))return 0;let r=e.replace(/\[[^\]]*\]/g," ").trim();return r=r.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(n,s,i)=>Array.from({length:parseInt(s,10)||0},()=>"X").join(" ")),r=r.replace(/\s+/g," ").trim(),r?r.split(" ").filter(Boolean).length:0}function bt(t,e,r,n="."){return W(t,e,r,n)}function wt(t,e,r,n,s="."){let i=Array.isArray(t)?t:[],o=i.length,c=o&&Array.isArray(i[0])?i[0].length:0;if(e<0||r<0||r>=o||e>=c)return i;let u=i.map(l=>l.slice());return u[r][e]=z(n,s),u}function _t(t,e){let r=Math.max(1,h(e)),n=h(t);return[n%r,Math.floor(n/r)]}function It(t={}){let e=s=>s!=null&&String(s).trim()!=="",r=s=>e(s)&&isNaN(Number(s)),n=s=>Number(s)<0;return e(t.gridArea)||e(t.gridColumnEnd)||e(t.gridRowEnd)||r(t.gridColumnStart)||r(t.gridRowStart)||n(t.gridColumnStart)||n(t.gridRowStart)?"Advanced":"Simple"}function q(t){let e=P(t);if(!e)return null;let r=x(G(e.count,e.unit));return{mode:"simple",template:t||null,normalised:r,simple:{count:e.count,unit:e.unit}}}function U(t){let e=H(t);if(!e.length)return null;let r=x(e.join(" "));return{mode:"tracks",template:t||null,normalised:r,tracks:e}}var X=[q,U];function Ot(t){let e=t||"";for(let r of X){let n=r(e);if(n)return n}return{mode:"raw",template:t||null,normalised:x(t||"")}}})();
