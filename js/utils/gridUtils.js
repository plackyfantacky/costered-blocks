(()=>{var p={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var T=t=>Array.isArray(t)?t:[],L=t=>new Set(T(t));function g(t){return Object.fromEntries(Object.entries(p.attributes).filter(([n,e])=>e.group===t))}var A=g("display"),k=g("dimension"),R=g("margin"),E=g("padding"),I=g("flex"),_=g("flex-item"),O=g("grid"),h=g("grid-item"),C=g("position"),j=g("shared"),Z={...A,...k,...R,...E,...I,..._,...O,...h,...C,...j},tt=new Set([...Object.keys(h)]),nt=T(p?.collections?.editorStyles),et=L(p?.collections?.unitless),S=p?.settings?.gridUnit||"1fr",rt=!!p?.settings?.appendImportantToMirroredStyles,it=p?.settings?.styleTagId||"costered-blocks-style-mirror",st=p?.settings?.reduxStoreKey||"costered/ui",ot=p?.settings?.breakpoints?.mobile??782,ut=p?.settings?.breakpoints?.tablet??1024,ct=p?.settings?.breakpoints?.desktop??1440,pt=p?.collections?.clearSets?.gridAreas,gt=p?.collections?.clearSets?.gridColumns,at=p?.collections?.clearSets?.gridRows;var lt=new Set([...Object.keys(A),...Object.keys(k),...Object.keys(E),...Object.keys(R),...Object.keys(I),...Object.keys(_),...Object.keys(O),...Object.keys(h),...Object.keys(C),...Object.keys(j)]),mt=Object.fromEntries(Object.entries(p.attributes).map(([t,n])=>[t,n.css]));var xt=t=>t?String(t).charAt(0).toUpperCase()+String(t).slice(1):"";function y(t){return String(t??"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function H(t){let n=String(t??"").trim();if(!n)return[];let e=0,r=0,i="",s=[];for(let o=0;o<n.length;o++){let u=n[o];if(u==="("){e++,i+=u;continue}if(u===")"){e=Math.max(0,e-1),i+=u;continue}if(u==="["){r++,i+=u;continue}if(u==="]"){r=Math.max(0,r-1),i+=u;continue}if(u===" "&&e===0&&r===0){i&&(s.push(i),i="");continue}i+=u}return i&&s.push(i),s}function P(t){let n=String(t??"").trim();if(!n)return null;let e=n.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!e||e[1]===void 0||e[2]===void 0)return null;let r=Number.parseInt(e[1],10),i=e[2].trim();return!Number.isFinite(r)||r<0||i===""?null:{count:r,unit:i}}function G(t,n=S){return t>0?`repeat(${t}, ${n})`:null}var B=/^(?:[0-9.]+(?:px|rem|em|ch|vh|vw|vmin|vmax|fr|%)|auto|max-content|min-content|fit-content\([^)]+\)|minmax\([^)]+\)|clamp\([^)]+\)|var\([^)]+\))$/i;function yt(t,n,e="1fr"){let r=Math.max(0,Number(n)||0),i=y(t??"");if(r<=0)return i;let{count:s}=K(i);if(s===0){let a=String(e??"").trim()||"1fr";return`repeat(${r}, ${a})`}if(s>=r)return i;let o=r-s,u=String(e??"").trim()||"1fr",c=i.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(c){let a=c[2].trim();if(B.test(a))return`repeat(${r}, ${a})`}let l=Array.from({length:o}).map(()=>u).join(" ");return`${i} ${l}`.trim()}function ht(t,n){if(!t||typeof t!="string")return"";let e=Math.max(0,Math.trunc(Number(n)||0)),r=t.replace(/\[[^\]]*\]/g," ").trim();if(!r)return"";let i=r.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(i){let s=i[2].trim();if(!/\s/.test(s))return e<=0?"":`repeat(${e}, ${s})`;let o=F(r);return D(o,e)}return D(r,e)}function K(t,n=S){if(!t||typeof t!="string")return{count:0,unit:n};let e=t.trim();if(!e)return{count:0,unit:n};if(/^subgrid\b/i.test(e))return{count:0,unit:n};if(e=e.replace(/\[[^\]]*]/g," ").trim(),!e)return{count:0,unit:n};let r=e.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(r){let s=r[2];return{count:0,unit:b(s,n)}}let i=Y(e,n);return{count:i.count,unit:i.unit||n}}function Y(t,n){let e=M(t);if(e){let u=e.inner.trim(),l=d(u).length,a=b(u,n);return{count:e.times*l,unit:a||n}}let r=d(t),i=0,s="";for(let u of r){if(/^\s*repeat\(/i.test(u)){let c=N(u);if(c){i+=c.count,!s&&c.unitHint&&(s=c.unitHint);continue}i+=1;continue}i+=1,!s&&f(u)&&(s=m(u)??"")}let o=s||b(t,n);return{count:i,unit:o||n}}function M(t){let n=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let e=parseInt(n[1],10),r=n[2];return!Number.isFinite(e)||e<0?null:{times:e,inner:r}}function N(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let e=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10)||0;if(r<=0)return{count:0,unitHint:""};let i=e[2].trim(),s=d(i),o=r*s.length,u="";if(s.length===1)u=m(s[0])??"";else{let c=s.find(f);u=m(c)??""}return{count:o,unitHint:u}}function d(t){let n=[],e=0,r="";for(let i=0;i<t.length;i++){let s=t[i];if(s==="("){e++,r+=s;continue}if(s===")"){e=Math.max(0,e-1),r+=s;continue}if(e===0&&/\s/.test(s)){r.trim()&&n.push(r.trim()),r="";continue}r+=s}return r.trim()&&n.push(r.trim()),n}function b(t,n){if(!t)return n;let e=M(t);if(e){let s=d(e.inner);if(s.length===1)return m(s[0])||n;let o=s.find(f);if(o)return m(o)||n}let r=d(t);if(r.length===1)return m(r[0])||n;let i=r.find(f);if(i)return m(i)||n;for(let s of r){let o=N(s);if(o&&o.unitHint)return o.unitHint}return n}function f(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function m(t){return t?t.trim():""}function F(t){return t.replace(/repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)/gi,(n,e,r)=>{let i=parseInt(e,10),s=r.trim();return Array.from({length:i}).map(()=>s).join(" ")})}function D(t,n){if(n<=0)return"";let e=0,r="",i=[];for(let o of t)o==="("&&e++,o===")"&&(e=Math.max(0,e-1)),/\s/.test(o)&&e===0?r&&(i.push(r),r=""):r+=o;r&&i.push(r);let s=i.slice(0,n);return s.length===0?"":s.join(" ")}function x(t){let n=Number(t);return Number.isFinite(n)&&n>=0?Math.floor(n):0}function V(t,n="."){let e=String(t??"").trim();return e===""?n:e}function St(t,n){if(t&&typeof t.$get=="function")return t.$get(n,{cascade:!0})}function bt(t){let n=String(t??"").trim();if(!n)return{hasAreas:!1,cols:0,rows:0};let e=[],r=/"([^"]*)"|'([^']*)'/g,i;for(;i=r.exec(n);){let o=(i[1]??i[2]??"").trim();o&&e.push(o)}return e.length?{hasAreas:!0,cols:e.reduce((o,u)=>{let c=u.split(/\s+/).filter(Boolean).length;return Math.max(o,c)},0),rows:e.length}:{hasAreas:!1,cols:0,rows:0}}function wt(t,n="."){if(!Array.isArray(t)||t.length===0)return"";let e=t.map(i=>(Array.isArray(i)?i:[]).map(s=>{let o=String(s??"").trim();return o===""?n:o}));return e.some(i=>i.some(s=>s!==n))?e.map(i=>`"${i.join(" ")}"`).join(" "):""}function Tt(t,n="."){let e=String(t??"").trim();if(!e)return[];let r=[],i=/"([^"]*)"|'([^']*)'/g,s;for(;s=i.exec(e);){let o=(s[1]??s[2]??"").trim(),u=o.length?o.split(/\s+/g).map(c=>c&&c!==n?c:n):[];r.push(u)}return r}function z(t,n,e,r){let i=x(n),s=x(e);if(i===0||s===0)return[];let o=Array.isArray(t)?t:[],u=[];for(let c=0;c<s;c++){let l=Array.isArray(o[c])?o[c]:[],a=Array.from({length:i},(X,$)=>{let w=l[$];return w===void 0?r:w});u.push(a)}return u}function At(t){let n=String(t??"").trim();if(!n||/^subgrid\b/i.test(n))return 0;let e=n.replace(/\[[^\]]*\]/g," ").trim();return e=e.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(r,i,s)=>Array.from({length:parseInt(i,10)||0},()=>"X").join(" ")),e=e.replace(/\s+/g," ").trim(),e?e.split(" ").filter(Boolean).length:0}function kt(t,n,e,r="."){return z(t,n,e,r)}function Rt(t,n,e,r,i="."){let s=Array.isArray(t)?t:[],o=s.length,u=o&&Array.isArray(s[0])?s[0].length:0;if(n<0||e<0||e>=o||n>=u)return s;let c=s.map(l=>l.slice());return c[e][n]=V(r,i),c}function Et(t,n){let e=Math.max(1,x(n)),r=x(t);return[r%e,Math.floor(r/e)]}function It(t={}){let n=i=>i!=null&&String(i).trim()!=="",e=i=>n(i)&&isNaN(Number(i)),r=i=>Number(i)<0;return n(t.gridArea)||n(t.gridColumnEnd)||n(t.gridRowEnd)||e(t.gridColumnStart)||e(t.gridRowStart)||r(t.gridColumnStart)||r(t.gridRowStart)?"Advanced":"Simple"}function W(t){let n=P(t);if(!n)return null;let e=y(G(n.count,n.unit));return{mode:"simple",template:t?String(t):null,normalised:e,simple:{count:n.count,unit:n.unit}}}function q(t){let n=H(t);if(!n.length)return null;let e=y(n.join(" "));return{mode:"tracks",template:t?String(t):null,normalised:e,tracks:n}}var U=[W,q];function _t(t){let n=t??"";for(let e of U){let r=e(n);if(r)return r}return{mode:"raw",template:t?String(t):null,normalised:y(t??"")}}})();
