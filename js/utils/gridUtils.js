(()=>{var g={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var y=t=>Array.isArray(t)?t:[],L=t=>new Set(y(t));function p(t){let n=g.attributes||{};return Object.fromEntries(Object.entries(n).filter(([,e])=>e.group===t))}var R=p("display"),E=p("dimension"),C=p("margin"),I=p("padding"),_=p("flex"),O=p("flex-item"),D=p("grid"),A=p("grid-item"),j=p("position"),M=p("shared"),Z={...R,...E,...C,...I,..._,...O,...D,...A,...j,...M},tt=new Set([...Object.keys(A)]),nt=y(g?.collections?.editorStyles),et=L(g?.collections?.unitless),T=g?.settings?.gridUnit||"1fr",rt=!!g?.settings?.appendImportantToMirroredStyles,st=g?.settings?.styleTagId||"costered-blocks-style-mirror",it=g?.settings?.reduxStoreKey||"costered/ui",ot=g?.settings?.breakpoints?.mobile??782,ut=g?.settings?.breakpoints?.tablet??1024,ct=g?.settings?.breakpoints?.desktop??1440,gt=y(g?.collections?.clearSets?.gridAreas),pt=y(g?.collections?.clearSets?.gridColumns),at=y(g?.collections?.clearSets?.gridRows);var lt=new Set([...Object.keys(R),...Object.keys(E),...Object.keys(I),...Object.keys(C),...Object.keys(_),...Object.keys(O),...Object.keys(D),...Object.keys(A),...Object.keys(j),...Object.keys(M)]),mt=Object.fromEntries(Object.entries(g.attributes).map(([t,n])=>[t,n.css]));var yt=t=>t?String(t).charAt(0).toUpperCase()+String(t).slice(1):"";function S(t){return String(t??"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim()}function m(t){let n=String(t??"").trim();if(!n)return[];let e=0,r=0,s="",i=[];for(let o=0;o<n.length;o++){let u=n[o];if(u==="("){e++,s+=u;continue}if(u===")"){e=Math.max(0,e-1),s+=u;continue}if(u==="["){r++,s+=u;continue}if(u==="]"){r=Math.max(0,r-1),s+=u;continue}if(e===0&&r===0&&/\s/.test(u)){s&&(i.push(s),s="");continue}s+=u}return s&&i.push(s),i}function x(t){let e=String(t??"").trim().replace(/\]\s+\[/g," ");return e=e.replace(/\[\s+/g,"[").replace(/\s+\]/g,"]"),e=e.replace(/\[(?:\s+)?([^\]]*?)(?:\s+)?\]/g,(r,s)=>`[${String(s).replace(/\s+/g," ").trim()}]`),e}function P(t){let n=String(t??"").trim();if(!n)return null;let e=n.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!e||e[1]===void 0||e[2]===void 0)return null;let r=Number.parseInt(e[1],10),s=e[2].trim();return!Number.isFinite(r)||r<0||s===""?null:{count:r,unit:s}}function J(t,n=T){return t>0?`repeat(${t}, ${n})`:null}var B=/^(?:[0-9.]+(?:px|rem|em|ch|vh|vw|vmin|vmax|fr|%)|auto|max-content|min-content|fit-content\([^)]+\)|minmax\([^)]+\)|clamp\([^)]+\)|var\([^)]+\))$/i;function xt(t,n,e="1fr"){let r=Math.max(0,Number(n)||0),s=x(t),i=S(s);if(r<=0)return i;let{count:o}=K(i);if(o===0){let f=String(e??"").trim()||"1fr";return`repeat(${r}, ${f})`}if(o>=r)return i;let u=r-o,c=String(e??"").trim()||"1fr",a=i.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(a){let f=a[2].trim();if(B.test(f))return`repeat(${r}, ${f})`}let d=Array.from({length:u}).map(()=>c).join(" ");return`${i} ${d}`.trim()}function ht(t,n){if(!t||typeof t!="string")return"";let e=x(t);if(!e||typeof e!="string")return"";let r=Math.max(0,Math.trunc(Number(n)||0)),s=e.replace(/\[[^\]]*\]/g," ").trim();if(!s)return"";let i=s.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(i){let o=i[2].trim();if(!/\s/.test(o))return r<=0?"":`repeat(${r}, ${o})`;let u=F(s);return N(u,r)}return N(s,r)}function K(t,n=T){if(!t||typeof t!="string")return{count:0,unit:n};let e=x(t);if(!e||typeof e!="string")return{count:0,unit:n};let r=e.trim();if(!r)return{count:0,unit:n};if(/^subgrid\b/i.test(r))return{count:0,unit:n};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:n};let s=r.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(s){let o=s[2];return{count:0,unit:k(o,n)}}let i=Y(r,n);return{count:i.count,unit:i.unit||n}}function Y(t,n){let e=$(t);if(e){let u=e.inner.trim(),a=m(u).length,d=k(u,n);return{count:e.times*a,unit:d||n}}let r=m(t),s=0,i="";for(let u of r){if(/^\s*repeat\(/i.test(u)){let c=G(u);if(c){s+=c.count,!i&&c.unitHint&&(i=c.unitHint);continue}s+=1;continue}s+=1,!i&&h(u)&&(i=l(u)??"")}let o=i||k(t,n);return{count:s,unit:o||n}}function $(t){let n=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let e=parseInt(n[1],10),r=n[2];return!Number.isFinite(e)||e<0?null:{times:e,inner:r}}function G(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let e=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10)||0;if(r<=0)return{count:0,unitHint:""};let s=e[2].trim(),i=m(s),o=r*i.length,u="";if(i.length===1)u=l(i[0])??"";else{let c=i.find(h);u=l(c)??""}return{count:o,unitHint:u}}function k(t,n){if(!t)return n;let e=$(t);if(e){let i=m(e.inner);if(i.length===1)return l(i[0])||n;let o=i.find(h);if(o)return l(o)||n}let r=m(t);if(r.length===1)return l(r[0])||n;let s=r.find(h);if(s)return l(s)||n;for(let i of r){let o=G(i);if(o&&o.unitHint)return o.unitHint}return n}function h(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function l(t){return t?t.trim():""}function F(t){return t.replace(/repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)/gi,(n,e,r)=>{let s=parseInt(e,10),i=r.trim();return Array.from({length:s}).map(()=>i).join(" ")})}function N(t,n){if(n<=0)return"";let e=m(t);return e.length===0?"":e.slice(0,n).join(" ")}function b(t){let n=Number(t);return Number.isFinite(n)&&n>=0?Math.floor(n):0}function V(t,n="."){let e=String(t??"").trim();return e===""?n:e}function bt(t,n){if(t&&typeof t.$get=="function")return t.$get(n,{cascade:!0})}function St(t){let n=String(t??"").trim();if(!n)return{hasAreas:!1,cols:0,rows:0};let e=[],r=/"([^"]*)"|'([^']*)'/g,s;for(;s=r.exec(n);){let o=(s[1]??s[2]??"").trim();o&&e.push(o)}return e.length?{hasAreas:!0,cols:e.reduce((o,u)=>{let c=u.split(/\s+/).filter(Boolean).length;return Math.max(o,c)},0),rows:e.length}:{hasAreas:!1,cols:0,rows:0}}function At(t,n="."){if(!Array.isArray(t)||t.length===0)return"";let e=t.map(s=>(Array.isArray(s)?s:[]).map(i=>{let o=String(i??"").trim();return o===""?n:o}));return e.some(s=>s.some(i=>i!==n))?e.map(s=>`"${s.join(" ")}"`).join(" "):""}function Tt(t,n="."){let e=String(t??"").trim();if(!e)return[];let r=[],s=/"([^"]*)"|'([^']*)'/g,i;for(;i=s.exec(e);){let o=(i[1]??i[2]??"").trim(),u=o.length?o.split(/\s+/g).map(c=>c&&c!==n?c:n):[];r.push(u)}return r}function z(t,n,e,r){let s=b(n),i=b(e);if(s===0||i===0)return[];let o=Array.isArray(t)?t:[],u=[];for(let c=0;c<i;c++){let a=Array.isArray(o[c])?o[c]:[],d=Array.from({length:s},(f,v)=>{let w=a[v];return w===void 0?r:w});u.push(d)}return u}function kt(t){let n=String(t??"").trim();if(!n||/^subgrid\b/i.test(n))return 0;let e=n.replace(/\[[^\]]*\]/g," ").trim();return e=e.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(r,s,i)=>Array.from({length:parseInt(s,10)||0},()=>"X").join(" ")),e=e.replace(/\s+/g," ").trim(),e?e.split(" ").filter(Boolean).length:0}function wt(t,n,e,r="."){return z(t,n,e,r)}function Rt(t,n,e,r,s="."){let i=Array.isArray(t)?t:[],o=i.length,u=o&&Array.isArray(i[0])?i[0].length:0;if(n<0||e<0||e>=o||n>=u)return i;let c=i.map(a=>a.slice());return c[e][n]=V(r,s),c}function Et(t,n){let e=Math.max(1,b(n)),r=b(t);return[r%e,Math.floor(r/e)]}function Ct(t={}){let n=s=>s!=null&&String(s).trim()!=="",e=s=>n(s)&&isNaN(Number(s)),r=s=>Number(s)<0;return n(t.gridArea)||n(t.gridColumnEnd)||n(t.gridRowEnd)||e(t.gridColumnStart)||e(t.gridRowStart)||r(t.gridColumnStart)||r(t.gridRowStart)?"Advanced":"Simple"}function W(t){let n=P(t);if(!n)return null;let e=S(J(n.count,n.unit));return{mode:"simple",template:t?String(t):null,normalised:e,simple:{count:n.count,unit:n.unit}}}function q(t){let n=x(t),e=m(n);if(!e.length)return null;let r=S(e.join(" "));return{mode:"tracks",template:t?String(t):null,normalised:r,tracks:e}}var U=[W,q];function It(t){let n=x(t);for(let e of U){let r=e(n);if(r)return r}return{mode:"raw",template:t?String(t):null,normalised:S(t??"")}}})();
