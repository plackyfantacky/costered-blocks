(()=>{var g={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var d=t=>Array.isArray(t)?t:[],v=t=>new Set(d(t));function p(t){let n=g.attributes||{};return Object.fromEntries(Object.entries(n).filter(([,e])=>e.group===t))}var A=p("display"),w=p("dimension"),R=p("margin"),E=p("padding"),C=p("flex"),I=p("flex-item"),_=p("grid"),b=p("grid-item"),O=p("position"),D=p("shared"),Z={...A,...w,...R,...E,...C,...I,..._,...b,...O,...D},tt=new Set([...Object.keys(b)]),nt=d(g?.collections?.editorStyles),et=v(g?.collections?.unitless),S=g?.settings?.gridUnit||"1fr",rt=!!g?.settings?.appendImportantToMirroredStyles,st=g?.settings?.styleTagId||"costered-blocks-style-mirror",it=g?.settings?.reduxStoreKey||"costered/ui",ot=g?.settings?.breakpoints?.mobile??782,ut=g?.settings?.breakpoints?.tablet??1024,ct=g?.settings?.breakpoints?.desktop??1440,gt=d(g?.collections?.clearSets?.gridAreas),pt=d(g?.collections?.clearSets?.gridColumns),at=d(g?.collections?.clearSets?.gridRows);var lt=new Set([...Object.keys(A),...Object.keys(w),...Object.keys(E),...Object.keys(R),...Object.keys(C),...Object.keys(I),...Object.keys(_),...Object.keys(b),...Object.keys(O),...Object.keys(D)]),mt=Object.fromEntries(Object.entries(g.attributes).map(([t,n])=>[t,n.css]));var yt=t=>t?String(t).charAt(0).toUpperCase()+String(t).slice(1):"";function h(t){return String(t??"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function L(t){let n=String(t??"").trim();if(!n)return[];let e=0,r=0,s="",i=[];for(let o=0;o<n.length;o++){let u=n[o];if(u==="("){e++,s+=u;continue}if(u===")"){e=Math.max(0,e-1),s+=u;continue}if(u==="["){r++,s+=u;continue}if(u==="]"){r=Math.max(0,r-1),s+=u;continue}if(u===" "&&e===0&&r===0){s&&(i.push(s),s="");continue}s+=u}return s&&i.push(s),i}function H(t){let n=String(t??"").trim();if(!n)return null;let e=n.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!e||e[1]===void 0||e[2]===void 0)return null;let r=Number.parseInt(e[1],10),s=e[2].trim();return!Number.isFinite(r)||r<0||s===""?null:{count:r,unit:s}}function P(t,n=S){return t>0?`repeat(${t}, ${n})`:null}var J=/^(?:[0-9.]+(?:px|rem|em|ch|vh|vw|vmin|vmax|fr|%)|auto|max-content|min-content|fit-content\([^)]+\)|minmax\([^)]+\)|clamp\([^)]+\)|var\([^)]+\))$/i;function xt(t,n,e="1fr"){let r=Math.max(0,Number(n)||0),s=h(t??"");if(r<=0)return s;let{count:i}=B(s);if(i===0){let a=String(e??"").trim()||"1fr";return`repeat(${r}, ${a})`}if(i>=r)return s;let o=r-i,u=String(e??"").trim()||"1fr",c=s.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(c){let a=c[2].trim();if(J.test(a))return`repeat(${r}, ${a})`}let l=Array.from({length:o}).map(()=>u).join(" ");return`${s} ${l}`.trim()}function ht(t,n){if(!t||typeof t!="string")return"";let e=Math.max(0,Math.trunc(Number(n)||0)),r=t.replace(/\[[^\]]*\]/g," ").trim();if(!r)return"";let s=r.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(s){let i=s[2].trim();if(!/\s/.test(i))return e<=0?"":`repeat(${e}, ${i})`;let o=Y(r);return j(o,e)}return j(r,e)}function B(t,n=S){if(!t||typeof t!="string")return{count:0,unit:n};let e=t.trim();if(!e)return{count:0,unit:n};if(/^subgrid\b/i.test(e))return{count:0,unit:n};if(e=e.replace(/\[[^\]]*]/g," ").trim(),!e)return{count:0,unit:n};let r=e.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(r){let i=r[2];return{count:0,unit:k(i,n)}}let s=K(e,n);return{count:s.count,unit:s.unit||n}}function K(t,n){let e=M(t);if(e){let u=e.inner.trim(),l=f(u).length,a=k(u,n);return{count:e.times*l,unit:a||n}}let r=f(t),s=0,i="";for(let u of r){if(/^\s*repeat\(/i.test(u)){let c=G(u);if(c){s+=c.count,!i&&c.unitHint&&(i=c.unitHint);continue}s+=1;continue}s+=1,!i&&y(u)&&(i=m(u)??"")}let o=i||k(t,n);return{count:s,unit:o||n}}function M(t){let n=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let e=parseInt(n[1],10),r=n[2];return!Number.isFinite(e)||e<0?null:{times:e,inner:r}}function G(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let e=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10)||0;if(r<=0)return{count:0,unitHint:""};let s=e[2].trim(),i=f(s),o=r*i.length,u="";if(i.length===1)u=m(i[0])??"";else{let c=i.find(y);u=m(c)??""}return{count:o,unitHint:u}}function f(t){let n=[],e=0,r="";for(let s=0;s<t.length;s++){let i=t[s];if(i==="("){e++,r+=i;continue}if(i===")"){e=Math.max(0,e-1),r+=i;continue}if(e===0&&/\s/.test(i)){r.trim()&&n.push(r.trim()),r="";continue}r+=i}return r.trim()&&n.push(r.trim()),n}function k(t,n){if(!t)return n;let e=M(t);if(e){let i=f(e.inner);if(i.length===1)return m(i[0])||n;let o=i.find(y);if(o)return m(o)||n}let r=f(t);if(r.length===1)return m(r[0])||n;let s=r.find(y);if(s)return m(s)||n;for(let i of r){let o=G(i);if(o&&o.unitHint)return o.unitHint}return n}function y(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function m(t){return t?t.trim():""}function Y(t){return t.replace(/repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)/gi,(n,e,r)=>{let s=parseInt(e,10),i=r.trim();return Array.from({length:s}).map(()=>i).join(" ")})}function j(t,n){if(n<=0)return"";let e=0,r="",s=[];for(let o of t)o==="("&&e++,o===")"&&(e=Math.max(0,e-1)),/\s/.test(o)&&e===0?r&&(s.push(r),r=""):r+=o;r&&s.push(r);let i=s.slice(0,n);return i.length===0?"":i.join(" ")}function x(t){let n=Number(t);return Number.isFinite(n)&&n>=0?Math.floor(n):0}function F(t,n="."){let e=String(t??"").trim();return e===""?n:e}function bt(t,n){if(t&&typeof t.$get=="function")return t.$get(n,{cascade:!0})}function St(t){let n=String(t??"").trim();if(!n)return{hasAreas:!1,cols:0,rows:0};let e=[],r=/"([^"]*)"|'([^']*)'/g,s;for(;s=r.exec(n);){let o=(s[1]??s[2]??"").trim();o&&e.push(o)}return e.length?{hasAreas:!0,cols:e.reduce((o,u)=>{let c=u.split(/\s+/).filter(Boolean).length;return Math.max(o,c)},0),rows:e.length}:{hasAreas:!1,cols:0,rows:0}}function kt(t,n="."){if(!Array.isArray(t)||t.length===0)return"";let e=t.map(s=>(Array.isArray(s)?s:[]).map(i=>{let o=String(i??"").trim();return o===""?n:o}));return e.some(s=>s.some(i=>i!==n))?e.map(s=>`"${s.join(" ")}"`).join(" "):""}function Tt(t,n="."){let e=String(t??"").trim();if(!e)return[];let r=[],s=/"([^"]*)"|'([^']*)'/g,i;for(;i=s.exec(e);){let o=(i[1]??i[2]??"").trim(),u=o.length?o.split(/\s+/g).map(c=>c&&c!==n?c:n):[];r.push(u)}return r}function V(t,n,e,r){let s=x(n),i=x(e);if(s===0||i===0)return[];let o=Array.isArray(t)?t:[],u=[];for(let c=0;c<i;c++){let l=Array.isArray(o[c])?o[c]:[],a=Array.from({length:s},(q,N)=>{let T=l[N];return T===void 0?r:T});u.push(a)}return u}function At(t){let n=String(t??"").trim();if(!n||/^subgrid\b/i.test(n))return 0;let e=n.replace(/\[[^\]]*\]/g," ").trim();return e=e.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(r,s,i)=>Array.from({length:parseInt(s,10)||0},()=>"X").join(" ")),e=e.replace(/\s+/g," ").trim(),e?e.split(" ").filter(Boolean).length:0}function wt(t,n,e,r="."){return V(t,n,e,r)}function Rt(t,n,e,r,s="."){let i=Array.isArray(t)?t:[],o=i.length,u=o&&Array.isArray(i[0])?i[0].length:0;if(n<0||e<0||e>=o||n>=u)return i;let c=i.map(l=>l.slice());return c[e][n]=F(r,s),c}function Et(t,n){let e=Math.max(1,x(n)),r=x(t);return[r%e,Math.floor(r/e)]}function Ct(t={}){let n=s=>s!=null&&String(s).trim()!=="",e=s=>n(s)&&isNaN(Number(s)),r=s=>Number(s)<0;return n(t.gridArea)||n(t.gridColumnEnd)||n(t.gridRowEnd)||e(t.gridColumnStart)||e(t.gridRowStart)||r(t.gridColumnStart)||r(t.gridRowStart)?"Advanced":"Simple"}function z(t){let n=H(t);if(!n)return null;let e=h(P(n.count,n.unit));return{mode:"simple",template:t?String(t):null,normalised:e,simple:{count:n.count,unit:n.unit}}}function W(t){let n=L(t);if(!n.length)return null;let e=h(n.join(" "));return{mode:"tracks",template:t?String(t):null,normalised:e,tracks:n}}var U=[z,W];function It(t){let n=t??"";for(let e of U){let r=e(n);if(r)return r}return{mode:"raw",template:t?String(t):null,normalised:h(t??"")}}})();
