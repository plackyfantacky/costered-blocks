(()=>{var M0=Object.create;var Mt=Object.defineProperty;var S0=Object.getOwnPropertyDescriptor;var A0=Object.getOwnPropertyNames;var R0=Object.getPrototypeOf,N0=Object.prototype.hasOwnProperty;var ke=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var B0=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of A0(t))!N0.call(e,n)&&n!==o&&Mt(e,n,{get:()=>t[n],enumerable:!(r=S0(t,n))||r.enumerable});return e};var v=(e,t,o)=>(o=e!=null?M0(R0(e)):{},B0(t||!e||!e.__esModule?Mt(o,"default",{value:e,enumerable:!0}):o,e));var L=ke((go,St)=>{St.exports=wp.element});var H=ke((fo,At)=>{At.exports=wp.data});var V=ke((ho,Rt)=>{Rt.exports=wp.components});var de=ke((wo,Nt)=>{Nt.exports=wp.blockEditor});var a0=ke((Dr,i0)=>{i0.exports=wp.preferences});var Te=ke((en,c0)=>{c0.exports=wp.i18n});var Me=v(L()),oa=v(H()),q=v(V());var Xe=v(H()),qt=v(de()),Re=v(L());var K={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"]},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var Bt=e=>Array.isArray(e)?e:[],P0=e=>new Set(Bt(e));function re(e){return Object.fromEntries(Object.entries(K.attributes).filter(([t,o])=>o.group===e))}var Et=re("display"),Pt=re("dimension"),Lt=re("margin"),It=re("padding"),_t=re("flex"),Gt=re("flex-item"),Dt=re("grid"),Ke=re("grid-item"),Zt=re("position"),Ft=re("shared"),ko={...Et,...Pt,...Lt,...It,..._t,...Gt,...Dt,...Ke,...Zt,...Ft},Ot=new Set([...Object.keys(Ke)]),bo=Bt(K?.collections?.editorStyles),$t=P0(K?.collections?.unitless),M=K?.settings?.gridUnit||"1fr",To=!!K?.settings?.appendImportantToMirroredStyles,Co=K?.settings?.styleTagId||"costered-blocks-style-mirror",Ze=K?.settings?.reduxStoreKey||"costered/ui",yo=K?.settings?.breakpoints?.mobile??782,Mo=K?.settings?.breakpoints?.tablet??1024,So=K?.settings?.breakpoints?.desktop??1440;var L0=new Set([...Object.keys(Et),...Object.keys(Pt),...Object.keys(It),...Object.keys(Lt),...Object.keys(_t),...Object.keys(Gt),...Object.keys(Dt),...Object.keys(Ke),...Object.keys(Zt),...Object.keys(Ft)]),Ao=Object.fromEntries(Object.entries(K.attributes).map(([e,t])=>[e,t.css]));var he=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t},Ye=(e,t,o)=>{o==null||o===""?Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]:e[t]=o},Je=e=>e==null||e===""||e==="null"||e==="undefined";var I0="desktop",_0=Object.freeze({});function se(e,t){let o=e||_0,r={...o},n=he(o.costered),s=c=>{switch(c){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},l=(c,d=void 0)=>{let f=!!(d&&d.cascade),C=d&&Object.prototype.hasOwnProperty.call(d,"raw")?!!d.raw:!f,b=t||I0;if(C){let m=n?.[b]?.styles?.[c];return Je(m)?void 0:m}let u=s(b);for(let m of u){let g=n?.[m]?.styles?.[c];if(!Je(g))return g}};return Object.defineProperties(r,{$get:{value:l,enumerable:!1},$getCascade:{value:c=>l(c,{cascade:!0}),enumerable:!1},$getMany:{value:(c,d)=>{let f={};for(let k of c)f[k]=l(k,d);return f},enumerable:!1},$bp:{value:t,enumerable:!1}}),r}function Qe(e){let t=(0,Xe.useSelect)(l=>l(Ze)?.getBreakpoint?.()||"desktop",[]),o=(0,Xe.useSelect)(l=>e?l(qt.store).getBlockAttributes(e):null,[e]),r=(0,Re.useMemo)(()=>o?se(o,t):void 0,[o,t]),n=(0,Re.useCallback)((l,a)=>r?.$get?r.$get(l,a):{},[r]),s=(0,Re.useCallback)((l,a)=>{if(!r?.$get)return{};let p={};return l.forEach(c=>{p[c]=r.$get(c,a)}),p},[r]);return{get:n,getMany:s,bp:t,attributes:r}}var ie=v(L()),we=v(H());var G0=e=>typeof e=="string"&&e.trim().length>0,D0=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=Date.now().toString(36),t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},Ne=e=>{e&&!G0(e.costeredId)&&(e.costeredId=D0())};var Be=v(H());var Z0=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},F0=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},le=e=>{try{let o=(0,Be.select)(Ze);if(o&&typeof o.getBreakpoint=="function"){let r=o.getBreakpoint();if(r)return r}}catch{}let t=F0(e);if(t)return Z0(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let o=(0,Be.select)(STORE_KEY),r=o&&typeof o.getBreakpoint=="function"?o.getBreakpoint():null,n=(0,Be.select)("core/edit-post"),s=n&&(typeof n.getPreviewDeviceType=="function"&&n.getPreviewDeviceType()||typeof n.__experimentalGetPreviewDeviceType=="function"&&n.__experimentalGetPreviewDeviceType()),l=(0,Be.select)("core/edit-site"),a=l&&(typeof l.getDeviceType=="function"&&l.getDeviceType()||typeof l.__experimentalGetPreviewDeviceType=="function"&&l.__experimentalGetPreviewDeviceType()||typeof l.getPreviewDeviceType=="function"&&l.getPreviewDeviceType())}}catch{}return"desktop"};var O0="desktop";function j(e,t,o={trim:!0,emptyUnsets:!0,breakpoint:void 0}){let{trim:r=!0,emptyUnsets:n=!0,breakpoint:s}=o,l=(0,we.useSelect)(le,[]),a=s||l||O0,{updateBlockAttributes:p}=(0,we.useDispatch)("core/block-editor"),c=(0,ie.useMemo)(()=>{if(typeof e=="string"&&!t){let m=e;return g=>{if(m)if(typeof g=="function"){let i=(0,we.select)("core/block-editor").getBlockAttributes(m)||{},h=g(i)||i;p(m,h)}else p(m,g||{})}}if(typeof e=="function"&&typeof t=="string"){let m=e,g=t;return i=>{if(g)if(typeof i=="function"){let h=(0,we.select)("core/block-editor").getBlockAttributes(g)||{},y=i(h)||h;try{m(g,y)}catch{m(y)}}else try{m(g,i||{})}catch{m(i||{})}}}return typeof e=="function"?e:()=>{}},[e,t,p]),d=(0,ie.useCallback)((m,g)=>{if(m==null)return;if(Ot.has(g)){let h=typeof m=="string"&&r?m.trim():String(m);return n&&h===""?void 0:h}let i=m;if(r&&typeof i=="string"&&(i=i.trim()),!(n&&(i===""||i=="null"||i=="undefined"))){if($t.has(g)){if(typeof i=="string"&&/^-?\d+(\.\d+)?$/.test(i)){let h=Number(i);return Number.isFinite(h)?h:void 0}return typeof i=="number"&&Number.isFinite(i)?i:void 0}if(typeof i=="number")return Number.isFinite(i)?i:void 0;if(typeof i=="string")return i==="null"||i==="undefined"?void 0:i;try{return String(i)}catch{return}}},[r,n]),f=(0,ie.useCallback)((m,g)=>{c(i=>{let h={...i||{}};Ne(h),h.costered=he(h.costered);let y={...h.costered[a].styles},R=d(g,m);return Ye(y,m,R),h.costered[a]={...h.costered[a],styles:y},h})},[c,a,d]),k=(0,ie.useCallback)(m=>{!m||typeof m!="object"||c(g=>{let i={...g||{}};Ne(i),i.costered=he(i.costered);let h={...i.costered[a].styles};for(let[y,R]of Object.entries(m)){let G=d(R,y);Ye(h,y,G)}return i.costered[a]={...i.costered[a],styles:h},i})},[c,a,d]),C=(0,ie.useCallback)(m=>{c(g=>{let i={...g||{}};Ne(i),i.costered=he(i.costered);let h={...i.costered[a].styles};return m in h?(delete h[m],i.costered[a]={...i.costered[a],styles:h},i):g})},[c,a]),b=(0,ie.useCallback)(m=>{!Array.isArray(m)||m.length===0||c(g=>{let i={...g||{}};Ne(i),i.costered=he(i.costered);let h={...i.costered[a].styles},y=!1;for(let R of m)R in h&&(delete h[R],y=!0);return y?(i.costered[a]={...i.costered[a],styles:h},i):g})},[c,a]),u=(0,ie.useCallback)(m=>({set:(g,i)=>f(`${m}${g}`,i),setMany:g=>{let i={};for(let[h,y]of Object.entries(g))i[`${m}${h}`]=y;k(i)},unset:g=>C(`${m}${g}`),unsetMany:g=>b(g.map(i=>`${m}${i}`))}),[f,k,C,b]);return{set:f,setMany:k,unset:C,unsetMany:b,withPrefix:u,activeBreakpoint:a}}var ee=v(L());var $0=e=>{if(!e||typeof e!="string")return[];let t=e.split(/"\s*"\s*|'\s*'\s*|[\r\n]+/).map(o=>o.replace(/['"]/g,"").trim()).filter(Boolean);return t.length?t.map(o=>o.split(/\s+/)):[]},q0=e=>!Array.isArray(e)||!e.length?"":e.map(t=>`"${t.join(" ")}"`).join(`
`);function et(e){let t=tt(e),o=t?.parentId??null,r=t?.parentBlock??null,n=t&&t.parentAugmented||t&&t.parentAttrs||null,{set:s}=j(o),l=(0,ee.useMemo)(()=>{let u;return n&&typeof n.$get=="function"&&(u=n.$get("gridTemplateAreas",{cascade:!0}),typeof u=="string"&&u.trim()),u},[n&&n.$bp,r&&r.attributes&&r.attributes.gridTemplateAreas]),a=(0,ee.useMemo)(()=>{if(t&&typeof t.isGrid=="boolean")return t.isGrid;let u;n&&typeof n.$get=="function"?u=n.$get("display",{cascade:!0})||"":u=r&&r.attributes&&r.attributes.display},[t&&t.isGrid,n&&n.$bp,r&&r.attributes&&r.attributes.display]),p=(0,ee.useMemo)(()=>a?$0(l):[],[a,l]),c=(0,ee.useMemo)(()=>({count:p.length?p[0].length:0}),[p]),d=(0,ee.useMemo)(()=>({count:p.length}),[p]),f=(0,ee.useCallback)(u=>{if(!Array.isArray(u)||!u.length){s("gridTemplateAreas","");return}let m=Math.max(0,...u.map(i=>Array.isArray(i)?i.length:0)),g=u.map(i=>{let h=Array.isArray(i)?i.slice(0,m):[];for(;h.length<m;)h.push(".");return h.map(y=>y&&String(y).trim()||".")});s("gridTemplateAreas",q0(g))},[s]),k=(0,ee.useCallback)((u,m,g)=>{if(!Array.isArray(p)||!p.length)return;let i=p.map(y=>y.slice()),h=i[u];h&&(h[m]=g&&String(g).trim()||".",f(i))},[p,f]),C=(0,ee.useCallback)(({rows:u,cols:m})=>{let g=Math.max(0,Number(u)||0),i=Math.max(0,Number(m)||0),h=p.length,y=p.length?p[0].length:0,R=Array.from({length:g}).map((G,U)=>{let A=U<h?p[U]:[];return Array.from({length:i}).map((x,T)=>U<h&&T<y&&A[T]||".")});f(R)},[p,f]),b=(0,ee.useCallback)(()=>s("gridTemplateAreas",""),[s]);return{matrix:p,columnData:c,rowData:d,setCell:k,resize:C,clear:b}}var Fe=v(L());var or=Number.MAX_SAFE_INTEGER;var V0=v(L());var lt=v(H()),Qt=v(de()),it=v(L());var Vt=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"";function pe(e){return String(e||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function U0(e){let t=String(e||"").trim();if(!t)return[];let o=0,r=0,n="",s=[];for(let l=0;l<t.length;l++){let a=t[l];if(a==="("){o++,n+=a;continue}if(a===")"){o=Math.max(0,o-1),n+=a;continue}if(a==="["){r++,n+=a;continue}if(a==="]"){r=Math.max(0,r-1),n+=a;continue}if(a===" "&&o===0&&r===0){n&&(s.push(n),n="");continue}n+=a}return n&&s.push(n),s}function j0(e){if(!e)return null;let t=e.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return t?{count:parseInt(t[1],10),unit:t[2].trim()}:null}function be(e,t=M){return e>0?`repeat(${e}, ${t})`:null}var z0=/^(?:[0-9.]+(?:px|rem|em|ch|vh|vw|vmin|vmax|fr|%)|auto|max-content|min-content|fit-content\([^)]+\)|minmax\([^)]+\)|clamp\([^)]+\)|var\([^)]+\))$/i;function rt(e,t,o="1fr"){let r=Math.max(0,Number(t)||0),n=String(e||"").trim();if(r<=0)return n;let{count:s}=Oe(n);if(s===0){let d=String(o||"").trim()||"1fr";return`repeat(${r}, ${d})`}if(s>=r)return n;let l=r-s,a=String(o||"").trim()||"1fr",p=n.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(p){let d=p[2].trim();if(z0.test(d))return`repeat(${r}, ${d})`}let c=Array.from({length:l}).map(()=>a).join(" ");return`${n} ${c}`.trim()}function nt(e,t){if(!e||typeof e!="string")return"";let o=Math.max(0,t|0),r=e.replace(/\[[^\]]*\]/g," ").trim();if(!r)return"";let n=r.match(/^repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)\s*$/i);if(n){let s=n[2].trim();if(!/\s/.test(s))return o<=0?"":`repeat(${o}, ${s})`;let l=W0(r);return Ht(l,o)}return Ht(r,o)}function Oe(e,t=M){if(!e||typeof e!="string")return{count:0,unit:t};let o=e.trim();if(!o)return{count:0,unit:t};if(/^subgrid\b/i.test(o))return{count:0,unit:t};if(o=o.replace(/\[[^\]]*]/g," ").trim(),!o)return{count:0,unit:t};let r=o.match(/repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)$/i);if(r){let l=r[2];return{count:0,unit:zt(l,t)}}let{count:n,unit:s}=Ut(o,t);return{count:n,unit:s||t}}function Ut(e,t){let o=jt(e);if(o){let l=o.inner.trim(),{count:a,unit:p}=Ut(l,t);return{count:o.times*a,unit:p||zt(l,t)}}let r=ot(e),n=r.length,s="";if(r.length===1)s=Ee(r[0])||t;else{let l=r.find(Wt);s=Ee(l)||t}return{count:n,unit:s}}function jt(e){let t=e.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!t)return null;let o=parseInt(t[1],10),r=t[2];return!Number.isFinite(o)||o<0?null:{times:o,inner:r}}function ot(e){let t=[],o=0,r="";for(let n=0;n<e.length;n++){let s=e[n];if(s==="("){o++,r+=s;continue}if(s===")"){o=Math.max(0,o-1),r+=s;continue}if(o===0&&/\s/.test(s)){r.trim()&&t.push(r.trim()),r="";continue}r+=s}return r.trim()&&t.push(r.trim()),t}function zt(e,t){if(!e)return t;let o=jt(e);if(o){let s=ot(o.inner);if(s.length===1)return Ee(s[0])||t}let r=ot(e);if(r.length===1)return Ee(r[0])||t;let n=r.find(Wt);return Ee(n)||t}function Wt(e){return e?!!(/^(minmax|fit-content|clamp|var)\(/i.test(e)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(e)||/^(auto|max-content|min-content)$/i.test(e)):!1}function Ee(e){return e?e.trim():""}function W0(e){return e.replace(/repeat\(\s*([0-9]+)\s*,\s*([^)]+)\)/gi,(t,o,r)=>{let n=parseInt(o,10),s=r.trim();return Array.from({length:n}).map(()=>s).join(" ")})}function Ht(e,t){if(t<=0)return"";let o=0,r="",n=[];for(let l of e)l==="("&&o++,l===")"&&(o=Math.max(0,o-1)),/\s/.test(l)&&o===0?r&&(n.push(r),r=""):r+=l;r&&n.push(r);let s=n.slice(0,t);return s.length===0?"":s.join(" ")}function K0(e){let t=j0(e);if(!t)return null;let o=pe(be(t.count,t.unit));return{mode:"simple",template:e||null,normalised:o,simple:{count:t.count,unit:t.unit}}}function Y0(e){let t=U0(e);if(!t.length)return null;let o=pe(t.join(" "));return{mode:"tracks",template:e||null,normalised:o,tracks:t}}var J0=[K0,Y0];function st(e){let t=e||"";for(let o of J0){let r=o(t);if(r)return r}return{mode:"raw",template:e||null,normalised:pe(e||"")}}function Kt(e){let t=(e||"").trim();if(!t)return{hasAreas:!1,cols:0,rows:0};let o=t.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(n=>n.replace(/^['"]|['"]$/g,"").trim()).filter(n=>n&&!/^[\s]+$/.test(n));return o.length?{hasAreas:!0,cols:Math.max(0,...o.map(n=>n.split(/\s+/).filter(Boolean).length)),rows:o.length}:{hasAreas:!1,cols:0,rows:0}}function Yt(e,t="."){if(!Array.isArray(e)||e.length===0)return"";let o=e.map(n=>(Array.isArray(n)?n:[]).map(s=>{let l=String(s??"").trim();return l===""?t:l}));return o.some(n=>n.some(s=>s!==t))?o.map(n=>`"${n.join(" ")}"`).join(" "):""}function Jt(e,t="."){let o=String(e||"").trim();if(!o)return[];let r=[];return o.replace(/(['"])(.*?)\1/g,(n,s,l)=>(r.push(l),"")),r.map(n=>n.trim().split(/\s+/).map(s=>s&&s!==t?s:t))}function Xt(e,t,o,r="."){let n=[];for(let s=0;s<o;s++){let l=e[s]||[],a=Array.from({length:t},(p,c)=>l[c]??r);n.push(a)}return n}function ae(e){let t=(0,lt.useSelect)(l=>e?l(Qt.store).getBlock(e)?.attributes??{}:{},[e]),o=(0,lt.useSelect)(le,[]),r=(0,it.useMemo)(()=>se(t,o),[t,o]),n=(l,a={})=>r.$get(l,a);return(0,it.useMemo)(()=>{let l=n("gridTemplateColumns"),a=n("gridTemplateRows"),p=n("gridTemplateAreas"),c=st(l),d=st(a),{template:f,...k}=Kt(p,c.count,d.count);return{columns:c,rows:d,areas:{template:f,...k},activePane:{columns:c.mode,rows:d.mode}}},[o,r?.costered,r?.$get])}var xe=v(L()),e0=v(H()),t0=v(de());function at(e){let{updateBlockAttributes:t}=(0,e0.useDispatch)(t0.store),{set:o,unset:r}=j(t,e),n=ae(e),s=n?.columns?.template??null,l=n?.rows?.template??null,a=n?.areas?.template??null,p=(0,xe.useMemo)(()=>s?Oe(s):0,[s]),c=(0,xe.useMemo)(()=>l?Oe(l):0,[l]),d=(0,xe.useCallback)(C=>{let b=Yt(C,".");b?o("gridTemplateAreas",b):r("gridTemplateAreas")},[o,r]),f=(0,xe.useCallback)(()=>{r("gridTemplateAreas")},[r]),k=(0,xe.useCallback)((C=".")=>{let b=Jt(a,C),u=b[0]?.length||p||1,m=b.length||c||1;return Xt(b,u,m,C)},[a,p,c]);return{areasTemplate:a,trackColumnCount:p,trackRowCount:c,applyMatrixToStore:d,clearAreasInStore:f,seedFromStore:k}}var X0=v(L()),Q0=v(H()),fr=v(de());var ct=v(H()),br=v(de()),dt=v(L());function tt(e){let{parentId:t,parentBlock:o}=(0,ct.useSelect)(l=>{let a=l("core/block-editor"),p=e||a.getSelectedBlockClientId();if(!p)return{parentId:null,parentBlock:null};let c=a.getBlockRootClientId(p);return c?{parentId:c,parentBlock:a.getBlock(c)||null}:{parentId:null,parentBlock:null}},[e]),r=(0,ct.useSelect)(le,[]),n=(0,dt.useMemo)(()=>o?.attributes?se(o.attributes,r):null,[o?.attributes,r]),s=(0,dt.useMemo)(()=>{let l=n?.$get?.("display",{cascade:!0})??"";return/^(grid|inline-grid)$/i.test(String(l).trim())},[n,n?.$bp]);return{parentId:t,parentBlock:o,parent:n,isGrid:s,display:n?.$get("display",{cascade:!0}),cols:n?.$get("gridTemplateColumns",{cascade:!0}),rows:n?.$get("gridTemplateRows",{cascade:!0}),areas:n?.$get("gridTemplateAreas",{cascade:!0})}}var o0=v(H()),r0=v(de());function Pe(e,t){return(0,o0.useSelect)(o=>{if(e)return e;let r=o(r0.store),n=t||r.getSelectedBlockClientId();return(n?r.getBlock(n):null)?.name??null},[e,t])}var pt=v(H()),s0=v(de()),l0=v(L());var n0=Object.freeze({});function mt(){let e=(0,pt.useSelect)(le,[]),{selectedBlock:t,clientId:o,attrVersion:r}=(0,pt.useSelect)(s=>{let l=s(s0.store),a=l.getSelectedBlockClientId(),p=a?l.getBlock(a):null,c=p?.attributes||n0,d=c&&typeof c.costered=="object"&&c.costered||{},f=Object.keys(d&&d.desktop||{}).length,k=Object.keys(d&&d.tablet||{}).length,C=Object.keys(d&&d.mobile||{}).length,b=`${f}-${k}-${C}`;return{selectedBlock:p,clientId:a,attrVersion:b}},[]),n=(0,l0.useMemo)(()=>se(t?.attributes,e)||n0,[t,e,r]);return{selectedBlock:t,clientId:o,attributes:n}}var $e=v(H()),ut=v(a0());function me(e,t,o="costered-blocks"){let r=(0,$e.useSelect)(p=>p(ut.store).get(o,e)??t,[o,e,t]),{set:n,__experimentalReset:s}=(0,$e.useDispatch)(ut.store);return[r,p=>{e.startsWith("__invalid__")||n(o,e,p)},()=>{e.startsWith("__invalid__")||s?.(o,e)}]}var ue=(e,{blockName:t,variant:o}={})=>!t&&!o?e:t&&!o?`${e}:${t}`:!t&&o?`${e}#${o}`:`${e}:${t}#${o}`;var p0=v(Te());var d0={pluginSidebar:{noBlockSelected:"Please select a block to edit its settings.",title:"Costered Blocks",selectedBlock:"Selected block",blockWarningSummary:"Style changes may not appear in the editor",blockWarningDetails:"There may be some differences between the editor and the frontend. This is due to limitations with the block editor, which does not always allow custom inline styles to be displayed here."},displayControls:{panelTitle:"Display Controls",displayLabel:"Display",display:{unset:"unset / initial",block:"Block",inline:"Inline",flex:"Flex",grid:"Grid",none:"None"},visibilityLabel:"Visibility",visibility:{unset:"unset / initial",visible:"Visible",hidden:"Hidden",collapse:"Collapse"}},dimensionControls:{panelTitle:"Dimension Controls",dimensionPanel:"Dimensions",dimensions:{width:"Width",height:"Height"},minPanel:"Minimum Dimensions",minDimensions:{width:"Min Width",height:"Min Height"},maxPanel:"Maximum Dimensions",maxDimensions:{width:"Max Width",height:"Max Height"}},spacingControls:{panelTitle:"Spacing Controls",panelLabel:"Spacing",marginLabel:"Margin",paddingLabel:"Padding"},flexBoxControls:{panelTitle:"Flexbox Controls",flexWrapLabel:"Flex Wrap",flexWrapNone:"No Wrap",flexWrapWrap:"Wrap",flexWrapReverse:"Reverse",alignmentPanel:"Alignment",gapPanel:"Gap"},flexItemControls:{panelTitle:"Flex Item Controls",flexGrow:"Grow",flexShrink:"Shrink",flexBasis:"Basis",flexBasisPlaceholder:"Enter value",order:"Order"},gridControls:{panelTitle:"Grid Controls",templateMode:"Template Mode",simplePanel:{title:"Simple",description:"In Simple mode, you can define the number of columns. All columns equally divide the total available width.",columns:"Columns",columnsClear:"Clear Columns",columnSpan:"Use %1$s as column width",columnUnit:"Unit",rows:"Rows",rowsClear:"Clear Rows",rowSpan:"Use %1$s as row height",rowUnit:"Unit"},tracksPanel:{title:"Tracks",description:"In Tracks mode, you can define the exact track sizes using any valid CSS Grid value.",columns:{label:"Columns",clear:"Clear Columns",size:"Column Sizes",addPlaceholder:"Add track or [line names]",addToken:"Add column size",addLabel:"Add [line name]"},rows:{label:"Rows",clear:"Clear Rows",size:"Row Sizes",addPlaceholder:"Add track or [line names]",addToken:"Add row size",addLabel:"Add [line name]"}},gapPanel:{title:"Gap"},areasPanel:{title:"Grid Template Areas",sizeHint:"Grid Size: %1$d columns x %2$d rows",editLarge:"Edit in larger view",modalTitle:"Edit Grid Template Areas",noticePanel:{mismatchText:"Templates areas (%1$dx%2$d) do not match current tracks (%3$dx%4$d)",resizeToTracks:"Resize areas to match tracks",growTracksToAreas:"Grow tracks to match areas",shrinkTracks:{button:"Shrink tracks to areas",warning:"Shrinking tracks may remove named lines please review afterwards.",confirm:"Shrink tracks",cancel:"Cancel",heading:"Remove named lines?",description:"Shrinking tracks will drop line names (e.g. [sidebar-start]). This can change template references. Continue?"}}}},gridItemsControls:{panelTitle:"Grid Item Controls",simplePanel:{title:"Simple",columnStart:"Column Start",columnStartHelp:"%1$d columns",columnSpan:"Column Span",columnSpanHelp:"Max updates with start",rowStart:"Row Start",rowStartHelp:"%1$d rows",rowSpan:"Row Span",rowSpanHelp:"Max updates with start"},tracksPanel:{title:"Tracks",hasAreasNotice:"This item uses a named grid area. Line-based placement is disabled.",namedLineMismatch:"No named lines are defined in the parent grid.",zeroInvalid:"0 isn\u2019t a valid grid line. Use 1..N or negative indices like -1",columns:{legend:"Columns",trackStartMode:"Start uses",trackStartModeNamed:"Named Line",trackStartModeNumber:"Line Number",trackEndMode:"End uses",trackEndModeSpan:"Span",trackEndModeEnd:"End",startNumber:"Line Number",startNumberHelp:"Positive or negative line number",startNamed:"Named Line",startNamedHelp:"Named lines from parent grid template",spanNumber:"Span",spanNumberHelp:"Max updates with start",endAuto:"Auto",endAutoHelp:"Automatically size based on start/span",endNamed:"Named Line",endNamedHelp:"Named lines from parent grid template",endNumber:"Line Number",endNumberHelp:"Positive or negative line number"},rows:{legend:"Rows",trackStartMode:"Start uses",trackStartModeNamed:"Named Line",trackStartModeNumber:"Line Number",trackEndMode:"End uses",trackEndModeSpan:"Span",trackEndModeEnd:"End",startNumber:"Line Number",startNumberHelp:"Positive or negative line number",startNamed:"Named Line",startNamedHelp:"Named lines from parent grid template",spanNumber:"Span",spanNumberHelp:"Max updates with start",endAuto:"Auto",endAutoHelp:"Automatically size based on start/span",endNamed:"Named Line",endNamedHelp:"Named lines from parent grid template",endNumber:"Line Number",endNumberHelp:"Positive or negative line number"}},areasPanel:{title:"Areas",gridAreaLabel:"Named area (grid-area)",gridAreaNone:"\u2014 None \u2014",gridAreaHelp:"Setting a named area overrides row/column placement."},alignmentPanel:{title:"Alignment"},orderPanel:{title:"Order",label:"Order"}},positioningControls:{panelTitle:"Positioning Controls",position:{label:"Position",help:"Controls the positioning of the element.",values:{unset:"unset / initial",static:"Static",relative:"Relative",absolute:"Absolute",fixed:"Fixed",sticky:"Sticky"}},coordinates:{label:"Coordinates",help:"Set the coordinates for the element. Works with relative, absolute, fixed, and sticky positioning.",top:"Top",right:"Right",bottom:"Bottom",left:"Left",useCustom:"Use custom values (e.g auto, calc)"},zIndex:{label:"Z-Index",help:"Controls the stack order of the element. Elements with a higher z-index cover those with a lower one."}},flexDirection:{label:"Flex Direction",row:"Row",rowReverse:"Row Reverse",column:"Column",columnReverse:"Column Reverse"},justifyControls:{label:"Justify Content",start:"Start",end:"End",center:"Center",spaceAround:"Space Around",spaceBetween:"Space Between",spaceEvenly:"Space Evenly"},alignControls:{label:"Align Items",start:"Start",end:"End",center:"Center",stretch:"Stretch",baseline:"Baseline",spaceAround:"Space Around",spaceBetween:"Space Between",spaceEvenly:"Space Evenly"},customSelectControl:{defaultText:"choose..."},dimensionInputGroup:{label:"Dimensions",labelPre:"%1$s Dimensions",width:"Width",height:"Height",useCustom:"Use custom values (e.g auto, calc)"},directionalInputGroup:{label:"Directions",top:"Top",right:"Right",bottom:"Bottom",left:"Left",useCustom:"Use custom values (e.g auto, calc)"},gapControls:{label:"Gaps",rowLabel:"Row Gap",switchToSingle:"Switch to Single Gap",switchToDual:"Switch to Dual Gap",columnLabel:"Column Gap",useCustom:"Use custom values (e.g auto, calc)"},gridAxisAside:{label:"Grid Axis",horizontal:"Horizontal",vertical:"Vertical",pip:{noValue:"No value set",valueHere:"Value matches this panel",valueElsewhere:"Value set in %s panel",valueRaw:"Value set (unrecognised format)"},clearRows:"Clear Rows",clearColumns:"Clear Columns"},panelToggle:{label:"Panel"},token:{expand:"Edit token",collapse:"Close editor",remove:"Remove",moveLeft:"Move left",moveRight:"Move right"},tokenGrid:{title:"Cells",clear:"Clear",sizeHint:"Cells: %1$d columns x %2$d rows",tokenExpand:"Edit cell",tokenCollapse:"Close editor",tokenRemove:"Clear cell",tokenMoveLeft:"Previous cell",tokenMoveRight:"Next cell",addColumn:"Add column",removeColumn:"Remove column",addRow:"Add row",removeRow:"Remove row"},tokenEditor:{add:"Add",addToken:"Add token",addLineNames:"Add line names",listAriaLabel:"List of tokens",moveLeft:"Move left",moveRight:"Move right",remove:"Remove",expand:"Edit token",collapse:"Close editor"},tokenGridNotice:{mismatchText:"Cells (%1$dx%2$d) do not match current dimensions (%3$dx%4$d)",resizeToTracks:"Resize cells to match dimensions",growTracksToAreas:"Grow dimensions to match cells",shrinkTracks:{button:"Shrink dimensions to cells",warning:"Shrinking dimensions may remove columns/rows. Please review afterwards.",confirm:"Shrink dimensions",cancel:"Cancel",heading:"Remove rows/columns?",description:"Shrinking dimensions will drop rows/columns. Continue?"}}};var to="costered-blocks";function gt(e){if(typeof e=="string")return(0,p0.__)(e,to);if(Array.isArray(e))return e.map(gt);if(e&&typeof e=="object"){let t={};for(let[o,r]of Object.entries(e))t[o]=gt(r);return t}return e}var w=gt(d0);var ce=v(L()),O=v(V());var oo=({size:e=24,...t})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,...t},React.createElement("path",{d:"M11.271,12.013l0,-1.784c0,-0.403 0.327,-0.729 0.729,-0.729c0.402,0 0.729,0.326 0.729,0.729l-0,1.784l0.213,-0.214c0.284,-0.284 0.746,-0.284 1.03,0c0.284,0.285 0.284,0.746 0,1.031l-1.457,1.457c-0.137,0.137 -0.321,0.213 -0.515,0.213c-0.194,-0 -0.378,-0.076 -0.515,-0.213l-1.457,-1.457c-0.284,-0.285 -0.284,-0.746 -0,-1.031c0.284,-0.284 0.746,-0.284 1.03,0l0.213,0.214Z"}),React.createElement("path",{d:"M3.199,19.503l0,-2.001c0,-0.994 0.807,-1.8 1.801,-1.8l14,-0c0.994,-0 1.801,0.806 1.801,1.8l-0,2.001c-0,0.993 -0.807,1.8 -1.801,1.8l-14,-0c-0.994,-0 -1.801,-0.807 -1.801,-1.8Zm1.6,-0c0,0.11 0.09,0.2 0.201,0.2l14,-0c0.111,-0 0.201,-0.09 0.201,-0.2l-0,-2.001c-0,-0.111 -0.09,-0.2 -0.201,-0.2l-14,-0c-0.111,-0 -0.201,0.089 -0.201,0.2l0,2.001Z"}),React.createElement("path",{d:"M12.701,6.498l-0,-2.001c-0,-0.993 0.806,-1.8 1.8,-1.8l4.499,0c0.994,0 1.801,0.807 1.801,1.8l-0,2.001c-0,0.994 -0.807,1.8 -1.801,1.8l-4.499,0c-0.994,0 -1.8,-0.806 -1.8,-1.8Zm1.6,0c-0,0.111 0.089,0.2 0.2,0.2l4.499,0c0.111,0 0.201,-0.089 0.201,-0.2l-0,-2.001c-0,-0.11 -0.09,-0.2 -0.201,-0.2l-4.499,0c-0.111,0 -0.2,0.09 -0.2,0.2l-0,2.001Z"}),React.createElement("path",{d:"M3.199,6.498l0,-2.001c0,-0.993 0.807,-1.8 1.801,-1.8l4.499,0c0.994,0 1.8,0.807 1.8,1.8l0,2.001c0,0.994 -0.806,1.8 -1.8,1.8l-4.499,0c-0.994,0 -1.801,-0.806 -1.801,-1.8Zm1.6,0c0,0.111 0.09,0.2 0.201,0.2l4.499,0c0.111,0 0.2,-0.089 0.2,-0.2l0,-2.001c0,-0.11 -0.089,-0.2 -0.2,-0.2l-4.499,0c-0.111,0 -0.201,0.09 -0.201,0.2l0,2.001Z"})),ft=oo;var ro=({size:e=24,...t})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,...t},React.createElement("path",{fill:"currentColor",d:"M5 11q-.825 0-1.412-.587T3 9V5q0-.825.588-1.412T5 3h4q.825 0 1.413.588T11 5v4q0 .825-.587 1.413T9 11zm0 10q-.825 0-1.412-.587T3 19v-4q0-.825.588-1.412T5 13h4q.825 0 1.413.588T11 15v4q0 .825-.587 1.413T9 21zm10-10q-.825 0-1.412-.587T13 9V5q0-.825.588-1.412T15 3h4q.825 0 1.413.588T21 5v4q0 .825-.587 1.413T19 11zm0 10q-.825 0-1.412-.587T13 19v-4q0-.825.588-1.412T15 13h4q.825 0 1.413.588T21 15v4q0 .825-.587 1.413T19 21z"})),ht=ro;var no=({size:e=24,...t})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,...t},React.createElement("path",{d:"M11.271,12.013l0,-1.784c0,-0.403 0.327,-0.729 0.729,-0.729c0.402,0 0.729,0.326 0.729,0.729l-0,1.784l0.213,-0.214c0.284,-0.284 0.746,-0.284 1.03,0c0.284,0.285 0.284,0.746 0,1.031l-1.457,1.457c-0.137,0.137 -0.321,0.213 -0.515,0.213c-0.194,-0 -0.378,-0.076 -0.515,-0.213l-1.457,-1.457c-0.284,-0.285 -0.284,-0.746 -0,-1.031c0.284,-0.284 0.746,-0.284 1.03,0l0.213,0.214Z"}),React.createElement("path",{d:"M20.801,4.497l-0,2.001c-0,0.994 -0.807,1.8 -1.801,1.8l-14,0c-0.994,0 -1.801,-0.806 -1.801,-1.8l0,-2.001c0,-0.993 0.807,-1.8 1.801,-1.8l14,0c0.994,0 1.801,0.807 1.801,1.8Zm-1.6,0c-0,-0.11 -0.09,-0.2 -0.201,-0.2l-14,0c-0.111,0 -0.201,0.09 -0.201,0.2l0,2.001c0,0.111 0.09,0.2 0.201,0.2l14,0c0.111,0 0.201,-0.089 0.201,-0.2l-0,-2.001Z"}),React.createElement("path",{d:"M11.299,17.502l0,2.001c0,0.993 -0.806,1.8 -1.8,1.8l-4.499,-0c-0.994,-0 -1.801,-0.807 -1.801,-1.8l0,-2.001c0,-0.994 0.807,-1.8 1.801,-1.8l4.499,-0c0.994,-0 1.8,0.806 1.8,1.8Zm-1.6,-0c0,-0.111 -0.089,-0.2 -0.2,-0.2l-4.499,-0c-0.111,-0 -0.201,0.089 -0.201,0.2l0,2.001c0,0.11 0.09,0.2 0.201,0.2l4.499,-0c0.111,-0 0.2,-0.09 0.2,-0.2l0,-2.001Z"}),React.createElement("path",{d:"M20.801,17.502l-0,2.001c-0,0.993 -0.807,1.8 -1.801,1.8l-4.499,-0c-0.994,-0 -1.8,-0.807 -1.8,-1.8l-0,-2.001c-0,-0.994 0.806,-1.8 1.8,-1.8l4.499,-0c0.994,-0 1.801,0.806 1.801,1.8Zm-1.6,-0c-0,-0.111 -0.09,-0.2 -0.201,-0.2l-4.499,-0c-0.111,-0 -0.2,0.089 -0.2,0.2l-0,2.001c-0,0.11 0.089,0.2 0.2,0.2l4.499,-0c0.111,-0 0.201,-0.09 0.201,-0.2l-0,-2.001Z"})),wt=no;var xt=(e="")=>(e+"").trim().split(/\s+(?![^(]*\))/).filter(Boolean).slice(0,2),vt=(e="",t="")=>[e,t].filter(Boolean).join(" ").trim(),kt=e=>e==null?"":String(e).trim();var m0=v(V());function qe(e="",t={}){let{trim:o=!0,toLower:r=!1,toUpper:n=!1,toCapitalFirst:s=!1,toCapitalCase:l=!1,toCamelCase:a=!1,toDashes:p=!1,toSpaces:c=!1}=t,d=e;return typeof d!="string"&&(d=String(d)),o&&(d=d.trim()),r&&(d=d.toLowerCase()),n&&(d=d.toUpperCase()),s&&(d=d.charAt(0).toUpperCase()+d.slice(1)),l&&(d=d.replace(/\b\w/g,f=>f.toUpperCase())),a&&(d=d.replace(/[-_\s]+(.)?/g,(f,k)=>k?k.toUpperCase():"").replace(/^(.)/,f=>f.toLowerCase())),p&&(d=d.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()),c&&(d=d.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/[-_]+/g," ").toLowerCase()),d}function Ce(e){let{value:t,onChange:o,label:r}=e,n=qe(r,{toCapitalFirst:!0,trim:!0,toSpaces:!0});return React.createElement(m0.__experimentalUnitControl,{__next40pxDefaultSize:!0,label:n,value:t,onChange:o,placeholder:"0",style:{padding:"0 2px"},units:[{name:"rem",value:"rem",label:"rem"},{name:"px",value:"px",label:"px"},{name:"em",value:"em",label:"em"},{name:"%",value:"%",label:"%"},{name:"vw",value:"vw",label:"vw"},{name:"vh",value:"vh",label:"vh"}],isResettable:!0,allowReset:!0})}var u0=v(V());function bt({value:e,onChange:t,label:o,placeholder:r="",help:n=""}){let s=qe(o,{toDashes:!0,toSpaces:!1});return React.createElement("div",{style:{padding:"0 2px"}},React.createElement(u0.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:s,value:e,onChange:t,placeholder:r,help:n}))}function Tt({clientId:e,blockName:t=null}){let{get:o}=Qe(e),{set:r}=j(e),n=Pe(t,e),s=ue("gapMode",{blockName:n}),[l,a]=me(s,"unit"),p=ue("gapInputMode",{blockName:n}),[c,d]=me(p,"single"),f=o("gap")||"";(0,ce.useEffect)(()=>{c===void 0&&d(xt(f).length===2?"dual":"single")},[c,f]);let[k,C]=(0,ce.useMemo)(()=>{let y=xt(f);return[y[0]||"",y[1]||""]},[f]),b=(0,ce.useCallback)(y=>{let R=kt(y);if(c==="single")r("gap",R||void 0);else{let G=vt(R,C);r("gap",G||void 0)}},[c,r,C]),u=(0,ce.useCallback)(y=>{let R=kt(y),G=vt(k,R);r("gap",G||void 0)},[r,k]),m=l==="unit"?Ce:bt,g=c==="single"?w.gapControls.label:w.gapControls.columnLabel,i=(0,ce.useCallback)(()=>{d(c==="single"?"dual":"single")},[c,d]),h=(0,ce.useCallback)(()=>{a(l==="unit"?"text":"unit")},[l,a]);return React.createElement(O.Flex,{direction:"column",className:"gap-controls"},React.createElement(O.FlexBlock,null,React.createElement(O.Flex,{align:"flex-end",gap:1},React.createElement(O.FlexBlock,null,React.createElement(O.Flex,{gap:0,direction:"row",align:"flex-end"},React.createElement(O.FlexItem,null,React.createElement(m,{label:g,value:c==="single"?f:k,onChange:b,allowReset:!0})),c==="dual"&&React.createElement(O.FlexItem,null,React.createElement(m,{label:w.gapControls.rowLabel,value:C,onChange:u,allowReset:!0})))),React.createElement(O.FlexItem,null,React.createElement(O.Button,{icon:c==="single"?wt:ft,label:c==="single"?w.gapControls.switchToDual:w.gapControls.switchToSingle,onClick:i,style:{marginBottom:"2px"},"aria-pressed":c==="dual"})))),React.createElement(O.FlexBlock,null),React.createElement(O.FlexBlock,null,React.createElement(O.ToggleControl,{label:w.gapControls.useCustom,checked:l==="text",onChange:h,__nextHasNoMarginBottom:!0})))}var te=v(L()),_e=v(V()),x0=v(Te());var $=v(L()),Ie=v(V());var Y=v(L()),J=v(V());function Le({index:e,value:t,isExpanded:o,onToggle:r,onRemove:n,onChange:s,onMoveLeft:l,onMoveRight:a,labels:p,emptyPlaceholder:c,floatingEditor:d=!1,popoverPlacement:f="bottom-start",popoverWidth:k}){let C=(0,Y.useRef)(null),b=(0,Y.useRef)(null),u=(0,Y.useRef)("pointer"),m=(0,Y.useCallback)(A=>{let D=A?.inputRef?.current||A||null;b.current=D},[]);(0,Y.useEffect)(()=>{if(!(!o||!b.current)){if(u.current==="keyboard"){let A=b.current;A.focus?.({preventScroll:!0});let D=typeof A.value=="string"?A.value.length:0;typeof A.setSelectionRange=="function"&&A.setSelectionRange(D,D)}u.current="pointer"}},[o]);let g={expand:w.token.expand,collapse:w.token.collapse,remove:w.token.remove,moveLeft:w.token.moveLeft,moveRight:w.token.moveRight,...p},i=t&&t.trim().length?t:c??"",h=(0,Y.useCallback)(A=>{A.stopPropagation(),n(e)},[e,n]),y=(0,Y.useCallback)(()=>{u.current="pointer",r(e,!o)},[e,o,r]),R=(0,Y.useCallback)(()=>{u.current="keyboard",r(e,!o)},[e,o,r]),G=(0,Y.useCallback)(A=>{A.key==="Enter"||A.key===" "?(A.preventDefault(),R()):A.key==="Escape"&&o&&(A.preventDefault(),r(e,!1))},[R,e,o,r]),U=React.createElement("div",{id:`costered-blocks--token--panel-${e}`,className:"costered-blocks--token--panel"},React.createElement(J.TextControl,{ref:m,value:t??"",placeholder:c??"",onChange:A=>s(e,A),onBlur:A=>s(e,A?.target?.value??""),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),React.createElement("div",{className:"costered-blocks--token--actions"},React.createElement(J.Tooltip,{text:g.moveLeft},React.createElement(J.Button,{icon:"arrow-left-alt2",onClick:()=>l(e),label:g.moveLeft,variant:"tertiary"})),React.createElement(J.Tooltip,{text:g.moveRight},React.createElement(J.Button,{icon:"arrow-right-alt2",onClick:()=>a(e),label:g.moveRight,variant:"tertiary"}))));return React.createElement("div",{className:`costered-blocks--token ${o?"is-expanded":""}`},React.createElement("div",{className:"costered-blocks--token--chip",ref:C},React.createElement("button",{type:"button",className:"costered-blocks--token--chipButton","aria-expanded":o,"aria-controls":`costered-token-panel-${e}`,onClick:y,onKeyDown:G,title:o?g.collapse:g.expand},React.createElement("span",{className:"costered-blocks--token--chipText"},i)),React.createElement(J.Tooltip,{text:g.remove},React.createElement(J.Button,{icon:"no-alt",label:g.remove,onClick:h,variant:"tertiary",className:"costered-blocks--token--remove"}))),!d&&o&&U,d&&o&&React.createElement(J.Popover,{className:"costered-blocks--token--popover",anchor:C.current,placement:f,onClose:()=>r(e,!1),focusOnMount:"firstElement",expandOnMobile:!0},React.createElement("div",{className:"costered-blocks--token--popoverInner",style:k?{width:k}:void 0},U)))}function g0(e){let{matrix:t,columnData:o,rowData:r,setCell:n,resize:s,clear:l,emptyToken:a=".",labels:p={},onEditingChange:c}=e,d=Math.max(1,Number(o)||0),f=Math.max(1,Number(r)||0),[k,C]=(0,$.useState)(null),b=(0,$.useRef)(null),u=(0,$.useCallback)((x,T)=>T*d+x,[d]),m=(0,$.useCallback)(x=>{let T=x%d,N=Math.floor(x/d);return[T,N]},[d]);(0,$.useEffect)(()=>{c?.(k!=null)},[k,c]),(0,$.useEffect)(()=>{C(x=>{if(x==null)return x;let[T,N]=m(x);return T<d&&N<f?x:null})},[d,f,m]);let g=(0,$.useCallback)((x,T)=>{C((typeof T=="boolean"?T:k!==x)?x:null)},[k]),i=(0,$.useCallback)(x=>{let[T,N]=m(x);T<=0||C(u(T-1,N))},[m,u]),h=(0,$.useCallback)(x=>{let[T,N]=m(x);T>=d-1||C(u(T+1,N))},[m,u,d]),y=Number(o)||0,R=Number(r)||0,G=(0,$.useCallback)(()=>s(o+1,r),[s,o,r]),U=(0,$.useCallback)(()=>s(Math.max(1,o-1),r),[s,o,r]),A=(0,$.useCallback)(()=>s(o,r+1),[s,o,r]),D=(0,$.useCallback)(()=>s(o,Math.max(1,r-1)),[s,o,r]);return React.createElement("div",{className:"costered-blocks--token-grid--area",ref:b},React.createElement("div",{className:"costered-blocks--token-grid--row costered-blocks--token-grid--row-head"},React.createElement("div",{className:"costered-blocks--token-grid--cell costered-blocks--token-grid--cell-corner"})," ",Array.from({length:d}).map((x,T)=>React.createElement("div",{className:"costered-blocks--token-grid--cell costered-blocks--token-grid--cell-head",key:`col-${T}`},React.createElement("div",{key:`header-col-${T}`,className:"costered-blocks--token-grid--controls"},React.createElement(Ie.Button,{onClick:U,disabled:y<=1,variant:"tertiary",icon:"minus",label:p.removeColumn}),React.createElement(Ie.Button,{onClick:G,variant:"tertiary",icon:"plus",label:p.addColumn}))))),t.map((x,T)=>React.createElement("div",{key:`row-${T}`,className:"costered-blocks--token-grid--row"},React.createElement("div",{className:"costered-blocks--token-grid--cell costered-blocks--token-grid--cell-head"},React.createElement("div",{className:"costered-blocks--token-grid--controls"},React.createElement(Ie.Button,{onClick:D,disabled:R<=1,variant:"tertiary",icon:"minus",label:p.removeRow}),React.createElement(Ie.Button,{onClick:A,variant:"tertiary",icon:"plus",label:p.addRow}))),x.map((N,S)=>{let E=u(S,T),F=N===a?"":N;return React.createElement("div",{key:`cell-${S}-${T}`,className:"costered-blocks--token-grid--cell"},React.createElement(Le,{index:E,value:F,isExpanded:k===E,onToggle:g,onRemove:W=>{let[fe,Se]=m(W);n(fe,Se,""),C(null)},onChange:(W,fe)=>{let[Se,B]=m(W);n(Se,B,fe)},onMoveLeft:i,onMoveRight:h,emptyPlaceholder:a,floatingEditor:!0,popoverWidth:b.current?.offsetWidth??void 0,labels:{expand:p.tokenExpand,collapse:p.tokenCollapse,remove:p.tokenRemove,moveLeft:p.tokenMoveLeft,moveRight:p.tokenMoveRight}}))}))))}var f0=v(Te()),h0=v(H()),ve=v(L()),Z=v(V());function w0({clientId:e,columnData:t,rowData:o,gridMatrix:{resize:r},labels:n=w.tokenGridNotice}){let{updateBlockAttributes:s}=(0,h0.useDispatch)("core/block-editor"),{set:l}=j(s,e),{trackColumnCount:a,trackRowCount:p}=at(e),c=ae(e),[d,f]=(0,ve.useState)(!1),k=S=>S&&typeof S=="object"?S.count??0:Number(S)||0,C=(S,E)=>S&&typeof S=="object"&&S.unit?S.unit:E,b=Number(t)||0,u=Number(o)||0,m=k(a),g=k(p),i=C(a,M),h=C(p,"auto"),y=b!==m,R=u!==g,G=b<m||u<g,U=(0,ve.useCallback)(()=>{r(m||b||1,g||u||1)},[r,m,g,b,u]),A=b>m,D=u>g,x=(0,ve.useCallback)(()=>{let S=c?.columns?.template||"",E=c?.rows?.template||"",F=A?rt(S,b,i):S,W=D?rt(E,u,h):E;F===S&&W===E||(l("gridTemplateColumns",F),l("gridTemplateRows",W))},[b,u,i,h,c,l]),T=(0,ve.useCallback)(()=>{let S=nt(c?.columns?.template||"",b),E=nt(c?.rows?.template||"",u);l("gridTemplateColumns",S),l("gridTemplateRows",E)},[b,u,c,l]),N=(0,ve.useCallback)(()=>{/\[[^\]]+]/.test(c?.columns?.template||"")||/\[[^\]]+]/.test(c?.rows?.template||"")?f(!0):T()},[c,T]);return!y&&!R?null:React.createElement(Z.Flex,{direction:"column",gap:2,className:"costered-blocks--grid-area-notices"},React.createElement(Z.Notice,{status:"info",isDismissible:!1},(0,f0.sprintf)(n.mismatchText,b,u,m,g),React.createElement(Z.Flex,{direction:"column",gap:2,style:{marginTop:8}},React.createElement(Z.FlexBlock,null,React.createElement(Z.Button,{variant:"secondary",onClick:U},n.resizeToTracks)),A||D&&React.createElement(Z.FlexBlock,null,React.createElement(Z.Button,{variant:"secondary",onClick:x,disabled:!A&&!D},n.growTracksToAreas)),G&&React.createElement(Z.FlexBlock,null,React.createElement(Z.Button,{variant:"secondary",isDestructive:!0,onClick:N},n.shrinkTracks.button)))),G&&React.createElement(Z.Notice,{status:"warning",isDismissible:!1,className:"costered-blocks--grid-area-notice--shrink-warning"},React.createElement("span",null,n.shrinkTracks.warning)),React.createElement(Z.__experimentalConfirmDialog,{isOpen:d,onConfirm:()=>{T(),f(!1)},onCancel:()=>f(!1),confirmButtonText:n.shrinkTracks.confirm,cancelButtonText:n.shrinkTracks.cancel},React.createElement(Z.__experimentalHeading,null,n.shrinkTracks.heading),React.createElement("p",null,n.shrinkTracks.description)))}function He({clientId:e,labels:t={}}){let[o,r]=(0,te.useState)(!1),n=(0,te.useRef)(null),s=(0,te.useMemo)(()=>({...w.tokenGrid,...t.tokenGrid}),[t]),l=(0,te.useMemo)(()=>({...w.tokenGridNotice,...t.tokenGridNotice}),[t]),{matrix:a,columnData:p,rowData:c,setCell:d,resize:f,clear:k}=et(e),C=Array.isArray(a)&&Array.isArray(a[0])?a[0].length:0,b=Array.isArray(a)?a.length:0,u=C!==p||b!==c,m=(0,te.useCallback)(g=>{n.current&&clearTimeout(n.current),g?r(!0):n.current=setTimeout(()=>r(!1),60)},[]);return(0,te.useEffect)(()=>()=>{n.current&&clearTimeout(n.current)},[]),React.createElement(_e.Flex,{direction:"column",gap:2,className:"costered-blocks--token-grid-component"},u&&React.createElement(w0,{clientId:e,columnData:C,rowData:b,gridMatrix:a,labels:l}),React.createElement(_e.Flex,{direction:"row",gap:2,align:"center",justify:"space-between",className:"costered-blocks--token-grid-header"},React.createElement(_e.FlexItem,null,React.createElement("span",{className:"costered-blocks--token-grid-help"},(0,x0.sprintf)(s.sizeHint,C,b)))),React.createElement(g0,{matrix:a,columnData:C,rowData:b,emptyToken:".",labels:s,setCell:d,resize:f,clear:k,onEditingChange:m}))}var ne=v(L()),je=v(V());var Ve=v(L()),X=v(V());function so({value:e,onChange:t,label:o="",isBlock:r=!0,children:n,...s}){let l=(0,Ve.useCallback)(a=>t(a),[t]);return React.createElement(X.__experimentalToggleGroupControl,{className:`costered-blocks--custom-toggle-group ${e?"has-selection":"is-empty"}`,label:o,value:e,onChange:l,isBlock:r,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isDeselectable:!0,...s},n)}function lo({value:e,label:t,disabled:o}){return React.createElement(X.__experimentalToggleGroupControlOption,{className:"costered-blocks--custom-toggle-group--text-option",value:e,label:t,disabled:o})}function io({value:e,icon:t,label:o,showTooltip:r=!0,disabled:n}){return React.createElement(X.__experimentalToggleGroupControlOptionIcon,{className:"costered-blocks--custom-toggle-group--icon-option",value:e,icon:t,"aria-label":o,label:o,showTooltip:r,disabled:n})}function ao({value:e,icon:t,label:o,disabled:r}){return React.createElement(X.__experimentalToggleGroupControlOption,{className:"costered-blocks--custom-toggle-group--combined-option",value:e,"aria-label":o,label:React.createElement(X.Flex,{direction:"column",gap:0,align:"center",style:{paddingBlock:"0.5em"}},React.createElement(X.FlexItem,null,t),React.createElement(X.FlexItem,null,o)),disabled:r})}var Ue=(0,Ve.memo)(so);Ue.TextOption=lo;Ue.IconOption=io;Ue.CombinedOption=ao;var Ge=Ue;function co({value:e,onChange:t,panels:o,panelProps:r={},label:n=w.panelToggle.label,forceActive:s=!1,className:l,children:a,...p}){let c=ne.Children.toArray(a).map(u=>u?.props?.value).filter(u=>typeof u=="string"&&u.length>0),d=c.length>0?c:Object.keys(o||{}),f=d[0]??null;(0,ne.useEffect)(()=>{d.length&&(!e||!d.includes(e))&&t?.(f)},[e,f,d.join("|")]);let k=(0,ne.useCallback)(u=>{let m=u??null;s&&m===null||t?.(m)},[t,s]),C=e?o?.[e]:null,b=typeof r=="function"?e?r(e):{}:r;return React.createElement(je.Flex,{direction:"column",gap:2,className:l,...p},React.createElement(Ge,{label:n,value:e||void 0,onChange:k},a),C?React.createElement(je.FlexBlock,null,React.createElement(ne.Suspense,{fallback:null},React.createElement(C,{...b}))):null)}var ze=(0,ne.memo)(co);ze.TextOption=Ge.TextOption;ze.IconOption=Ge.IconOption;ze.CombinedOption=Ge.CombinedOption;var We=ze;var P=v(L()),b0=v(H()),z=v(V()),Ct=v(Te());var De=v(V()),v0=v(Te());function ye({axis:e,canClear:t=!1,onClear:o,active:r,owner:n=null,here:s=null,label:l}){let a=l||(e==="columns"?w.gridAxisAside.clearColumns:w.gridAxisAside.clearRows),p=!!t,c=typeof r=="boolean"?r:p&&n&&s&&n===s,f=p?c?"here":p&&n&&s&&n!=="raw"&&n!==s&&!c?"elsewhere":"none":"none",k=f==="none"?w.gridAxisAside.pip.noValue:f==="here"?w.gridAxisAside.pip.valueHere:n==="raw"?w.gridAxisAside.pip.valueRaw:(0,v0.sprintf)(w.gridAxisAside.pip.valueElsewhere,Vt(n));return React.createElement("div",{className:`costered-blocks--grid-axis-aside ${f==="here"?"is-owned-here":""} ${f==="elsewhere"?"is-elsewhere":""}`,"data-state":f,"data-owner":n||"none","data-here":s||"none","aria-label":e},React.createElement(De.Tooltip,{text:k},React.createElement("span",{className:"costered-blocks--grid-axis-aside--pip"})),React.createElement(De.Tooltip,{text:a},React.createElement(De.Button,{icon:"trash",label:a,onClick:o,disabled:!p,variant:"tertiary",className:"costered-blocks--grid-axis-aside__clear"})))}var k0={mode:"raw",template:null,normalised:"",simple:null,tracks:null};function T0({clientId:e}){if(!e)return null;let{updateBlockAttributes:t}=(0,b0.useDispatch)("core/block-editor"),{set:o,unset:r}=j(t,e),n=ae(e)||{},s=n.columns??k0,l=n.rows??k0,[a,p]=(0,P.useState)(s.simple?.count??0),[c,d]=(0,P.useState)(s.simple?.unit??M),[f,k]=(0,P.useState)((s.simple?.unit??M)===M),[C,b]=(0,P.useState)(l.simple?.count??0),[u,m]=(0,P.useState)(l.simple?.unit??M),[g,i]=(0,P.useState)((l.simple?.unit??M)===M),h=s?.normalised??"",y=l?.normalised??"";(0,P.useEffect)(()=>{p(s.simple?.count??0),d(s.simple?.unit??M),k((s.simple?.unit??M)===M)},[h]),(0,P.useEffect)(()=>{b(l.simple?.count??0),m(l.simple?.unit??M),i((l.simple?.unit??M)===M)},[y]);let R=(0,P.useMemo)(()=>f?M:c||M,[f,c]),G=(0,P.useMemo)(()=>g?M:u||M,[g,u]),U=be(a,R),A=be(C,G),D=(0,P.useCallback)((B,I)=>{let Ae=be(B,I);Ae==null?r("gridTemplateColumns"):o("gridTemplateColumns",Ae)},[o,r]),x=(0,P.useCallback)((B,I)=>{let Ae=be(B,I);Ae==null?r("gridTemplateRows"):o("gridTemplateRows",Ae)},[o,r]),T=(0,P.useCallback)(B=>{let I=typeof B=="number"?B:parseInt(B||"0",10);p(I),D(I,f?M:c)},[f,c,D]),N=(0,P.useCallback)(B=>{let I=typeof B=="number"?B:parseInt(B||"0",10);b(I),x(I,g?M:u)},[g,u,x]),S=(0,P.useCallback)(B=>{k(B);let I=B?M:c||M;!B&&!c&&d(I),D(a,I)},[a,c,D]),E=(0,P.useCallback)(B=>{i(B);let I=B?M:u||M;!B&&!u&&m(I),x(C,I)},[C,u,x]),F=(0,P.useCallback)(B=>{let I=(B||"").trim();d(I),D(a,f?M:I||M)},[a,f,D]),W=(0,P.useCallback)(B=>{let I=(B||"").trim();m(I),x(C,g?M:I||M)},[C,g,x]),fe=(0,P.useCallback)(()=>{p(0),r("gridTemplateColumns")},[r]),Se=(0,P.useCallback)(()=>{b(0),r("gridTemplateRows")},[r]);return React.createElement(z.Flex,{direction:"column",gap:6},React.createElement(z.FlexBlock,{className:"costered-blocks--grid-panel-simple--description"},w.gridControls.simplePanel.description),React.createElement(z.Flex,{direction:"column",gap:3,className:"costered-blocks--grid-panel-simple--axis-controls"},React.createElement(z.Flex,{direction:"row",justify:"space-between",align:"center"},React.createElement("span",{className:"costered-blocks--grid-panel-simple--axis-label"},w.gridControls.simplePanel.columns),React.createElement(ye,{axis:"columns",canClear:!!s?.template,onClear:fe,owner:n.activePane.columns,here:"simple",label:w.gridControls.simplePanel.columnsClear})),React.createElement(z.RangeControl,{min:0,max:12,step:1,value:a,onChange:T,className:"costered-blocks--grid-columns-simple--axis-control",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),React.createElement(z.ToggleControl,{label:(0,Ct.sprintf)(w.gridControls.simplePanel.columnSpan,M),checked:f,onChange:S,__nextHasNoMarginBottom:!0}),!f&&React.createElement(Ce,{label:w.gridControls.simplePanel.columnUnit,value:c,onChange:F})),React.createElement(z.Flex,{direction:"column",gap:2,className:"costered-blocks--grid-panel-simple--axis-controls"},React.createElement(z.Flex,{direction:"row",justify:"space-between",align:"center"},React.createElement("span",{className:"costered-blocks--grid-panel-simple--axis-label"},w.gridControls.simplePanel.rows),React.createElement(ye,{axis:"rows",canClear:!!l.template,onClear:Se,owner:n.activePane.rows,here:"simple",label:w.gridControls.simplePanel.rowsClear})),React.createElement(z.RangeControl,{min:0,max:12,step:1,value:C,onChange:N,className:"costered-blocks--grid-rows-simple--axis-control",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),React.createElement(z.ToggleControl,{label:(0,Ct.sprintf)(w.gridControls.simplePanel.rowSpan,M),checked:g,onChange:E,__nextHasNoMarginBottom:!0}),!g&&React.createElement(Ce,{label:w.gridControls.simplePanel.rowUnit,value:u,onChange:W})))}var _=v(L()),C0=v(H()),oe=v(V());var Q=v(L()),ge=v(V());function yt({tokens:e,onAdd:t,onEdit:o,onRemove:r,onMove:n,labels:s,allowLineNames:l=!0}){let a=(0,Q.useMemo)(()=>({...w.tokenEditor,...s}),[s]),[p,c]=(0,Q.useState)(""),[d,f]=(0,Q.useState)(null),k=(0,Q.useCallback)(()=>{let i=String(p||"").trim();i&&(t(i),c(""),f(null))},[p,t]),C=(0,Q.useCallback)(()=>{let i=String(p||"").trim();i&&(t(`[${i}]`),c(""),f(null))},[p,t]),b=(0,Q.useCallback)((i,h)=>{f(h?i:null)},[]),u=(0,Q.useCallback)((i,h)=>{o(i,h)},[o]),m=(0,Q.useCallback)(i=>{r(i),f(h=>h===i?null:h>i?h-1:h)},[r]),g=(0,Q.useCallback)((i,h)=>{n(i,h),f(y=>y===i?i+h:y===i+h?i:y)},[n]);return React.createElement("div",{className:"costered-blocks--token-editor",role:"list","aria-label":a.listAriaLabel},React.createElement("div",{className:"costered-blocks--token-editor--list"},e.map((i,h)=>React.createElement(Le,{key:`token-${h}`,index:h,value:i,isExpanded:d===h,onToggle:b,onRemove:m,onChange:u,onMoveLeft:y=>g(y,-1),onMoveRight:y=>g(y,1),labels:a}))),React.createElement("div",{className:"costered-blocks--token-editor--add"},React.createElement(ge.TextControl,{placeholder:a.addPlaceholder,value:p,onChange:c,onKeyDown:i=>{i.key==="Enter"&&k()},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),l?React.createElement(ge.Flex,{className:"costered-blocks--token-editor--add-options",gap:0,align:"center"},React.createElement(ge.Button,{icon:"editor-code",onClick:k,label:a.addToken}),React.createElement(ge.Button,{icon:"tag",onClick:C,label:a.addLabel})):React.createElement(ge.Button,{variant:"secondary",onClick:k},a.addToken)))}function y0({clientId:e}){if(!e)return null;let{updateBlockAttributes:t}=(0,C0.useDispatch)("core/block-editor"),{set:o,unset:r}=j(t,e),n=ae(e),s=n?.columns,l=n?.rows,a=(0,_.useMemo)(()=>s?s.tracks?.length?s.tracks:s.template?[String(s.template)]:[]:[],[s]),p=(0,_.useMemo)(()=>l?l.tracks?.length?l.tracks:l.template?[String(l.template)]:[]:[],[l]),[c,d]=(0,_.useState)(a),[f,k]=(0,_.useState)(p),C=s&&(s.normalised??pe(s.template||""))||"",b=l&&(l.normalised??pe(l.template||""))||"";(0,_.useEffect)(()=>{d(a)},[C]),(0,_.useEffect)(()=>{k(p)},[b]);let u=(0,_.useCallback)(x=>{let T=x.map(N=>String(N||"").trim()).filter(Boolean);return T.length?T.join(" "):null},[]),m=(0,_.useCallback)(x=>{let T=u(x);T==null?r("gridTemplateColumns"):o("gridTemplateColumns",T)},[u,o,r]),g=(0,_.useCallback)(x=>{let T=u(x);T==null?r("gridTemplateRows"):o("gridTemplateRows",T)},[u,o,r]),i=(0,_.useMemo)(()=>{let x=u(c);return!!s?.template&&pe(x||"")===C},[s?.template,C,c,u]),h=(0,_.useMemo)(()=>{let x=u(f);return!!l?.template&&pe(x||"")===b},[l?.template,b,f,u]),y=(0,_.useCallback)((x,T,N,S)=>{let E=String(S||"").trim();if(!E)return;let F=[...x,E];T(F),N(F)},[]),R=(0,_.useCallback)((x,T,N,S,E)=>{let F=x.slice();F[S]=E,T(F),N(F)},[]),G=(0,_.useCallback)((x,T,N,S)=>{let E=x.slice();E.splice(S,1),T(E),N(E)},[]),U=(0,_.useCallback)((x,T,N,S,E)=>{let F=S+E;if(F<0||F>=x.length)return;let W=x.slice(),fe=W.splice(S,1)[0];W.splice(F,0,fe),T(W),N(W)},[]),A=(0,_.useCallback)(()=>{d([]),r("gridTemplateColumns")},[r]),D=(0,_.useCallback)(()=>{k([]),r("gridTemplateRows")},[r]);return React.createElement(oe.Flex,{direction:"column",gap:6},React.createElement(oe.FlexBlock,null,w.gridControls.tracksPanel.description),React.createElement(oe.FlexBlock,null,React.createElement(oe.Flex,{direction:"column",gap:3,className:"costered-blocks--grid-panel-tracks--axis-controls"},React.createElement(oe.Flex,{direction:"row",justify:"space-between",align:"center"},React.createElement("span",{className:"costered-blocks--grid-panel-tracks--axis-label"},w.gridControls.tracksPanel.columns.label),React.createElement(ye,{axis:"columns",canClear:!!s?.template,onClear:A,owner:n.activePane.columns,here:"tracks",label:w.gridControls.tracksPanel.columns.clear})),React.createElement(yt,{tokens:c,setTokens:d,onAdd:x=>y(c,d,m,x),onEdit:(x,T)=>R(c,d,m,x,T),onRemove:x=>G(c,d,m,x),onMove:(x,T)=>U(c,d,m,x,T),labels:{addPlaceholder:w.gridControls.tracksPanel.columns.addPlaceholder,addToken:w.gridControls.tracksPanel.columns.addToken,addLabel:w.gridControls.tracksPanel.columns.addLabel}}))),React.createElement(oe.FlexBlock,null,React.createElement(oe.Flex,{direction:"column",gap:3,className:"costered-blocks--grid-panel-tracks--axis-controls"},React.createElement(oe.Flex,{direction:"row",gap:2,justify:"space-between",align:"center"},React.createElement(oe.FlexBlock,null,React.createElement("span",{className:"costered-blocks--grid-panel-tracks--axis-label"},w.gridControls.tracksPanel.rows.label)),React.createElement(ye,{axis:"rows",canClear:!!l?.template,onClear:D,owner:n.activePane.rows,here:"tracks",label:w.gridControls.tracksPanel.rows.clear})),React.createElement(yt,{tokens:f,setTokens:k,onAdd:x=>y(f,k,g,x),onEdit:(x,T)=>R(f,k,g,x,T),onRemove:x=>G(f,k,g,x),onMove:(x,T)=>U(f,k,g,x,T),labels:{addPlaceholder:w.gridControls.tracksPanel.rows.addPlaceholder,addToken:w.gridControls.tracksPanel.rows.addToken,addLabel:w.gridControls.tracksPanel.rows.addLabel}}))))}var po=()=>{let{selectedBlock:e,clientId:t}=mt(),{name:o}=e,[r,n]=(0,Me.useState)(null),[s,l]=(0,Me.useState)(!1),a=(0,Me.useCallback)(()=>l(!0),[]),p=(0,Me.useCallback)(()=>l(!1),[]),c=Pe(o,t),d=ue("gridTemplatePanelOpen",{blockName:c}),f=ue("gridGapPanelOpen",{blockName:c}),k=ue("gridTemplateAreasPanelOpen",{blockName:c}),[C,b]=me(d,!0),[u,m]=me(f,!1),[g,i]=me(k,!1);return React.createElement(q.Panel,{className:"costered-blocks--tab--grid-controls"},React.createElement(q.PanelBody,{title:w.gridControls.panelTitle,className:"costered-blocks--grid-controls--template-axis-inner",initialOpen:C,onToggle:b},React.createElement(We,{className:"costered-blocks--grid-controls--template-axis",value:r,onChange:n,label:w.gridControls.templateMode,forceActive:!0,panels:{simple:T0,tracks:y0},panelProps:{clientId:t}},React.createElement(We.TextOption,{value:"simple",label:w.gridControls.simplePanel.title}),React.createElement(We.TextOption,{value:"tracks",label:w.gridControls.tracksPanel.title}))),React.createElement(q.PanelBody,{title:w.gridControls.gapPanel.title,className:"costered-blocks--grid-controls--gap-inner",initialOpen:u,onToggle:m},React.createElement(q.Flex,{direction:"column",expanded:!0,className:"costered-blocks--grid-controls--gap"},React.createElement(q.FlexBlock,null,React.createElement(Tt,{clientId:t,blockName:o})))),React.createElement(q.PanelBody,{title:w.gridControls.areasPanel.title,className:"costered-blocks--grid-controls--template-areas-inner",initialOpen:g,onToggle:i},React.createElement(q.Flex,{direction:"column",gap:4,className:"costered-blocks--grid-controls--template-areas"},React.createElement(He,{clientId:t,labels:{tokenGrid:w.gridControls.areasPanel,tokenGridNotice:w.gridControls.areasPanel.noticePanel}}),React.createElement(q.Flex,{justify:"flex-end"},React.createElement(q.Button,{variant:"secondary",onClick:a},w.gridControls.areasPanel.editLarge))),s&&React.createElement(q.Modal,{title:w.gridControls.gridTemplateAreasModal,onRequestClose:p,className:"costered-blocks--grid-controls--modal costered-blocks--modal--wide",shouldCloseOnClickOutside:!0},React.createElement(He,{clientId:t,labels:{tokenGrid:w.gridControls.areasPanel,tokenGridNotice:w.gridControls.areasPanel.noticePanel}}))))},mo=(e={})=>{let t=(typeof e?.$get=="function"?e.$get("display"):e?.display)??"";return/^(grid|inline-grid)$/i.test(String(t))},ga={name:"grid-controls",title:w.gridControls.panelTitle,icon:React.createElement(ht,null),isVisible:({attributes:e})=>mo(e),render:()=>React.createElement(po,null)};})();
