(()=>{var se=Object.create;var A=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var ne=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pe=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ie(e))!ce.call(t,i)&&i!==r&&A(t,i,{get:()=>e[i],enumerable:!(o=oe(e,i))||o.enumerable});return t};var v=(t,e,r)=>(r=t!=null?se(ne(t)):{},pe(e||!t||!t.__esModule?A(r,"default",{value:t,enumerable:!0}):r,t));var j=O((_e,L)=>{L.exports=wp.hooks});var P=O((ke,M)=>{M.exports=wp.data});var U=O((he,G)=>{G.exports=wp.element});var re=v(j()),B=v(P()),T=v(U());var K=t=>{let e={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...t||{}};return e.desktop={styles:{},...e.desktop||{}},e.tablet={styles:{},...e.tablet||{}},e.mobile={styles:{},...e.mobile||{}},e.desktop.styles={...e.desktop.styles||{}},e.tablet.styles={...e.tablet.styles||{}},e.mobile.styles={...e.mobile.styles||{}},e};var I=t=>t==null||t===""||t==="null"||t==="undefined";var ae="desktop",le=Object.freeze({});function Y(t,e){let r=t||le,o={...r},i=K(r.costered),u=p=>{switch(p){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},n=(p,a=void 0)=>{let l=a&&Object.prototype.hasOwnProperty.call(a,"cascade")?!!a.cascade:!0,s=a&&Object.prototype.hasOwnProperty.call(a,"raw")?!!a.raw:!l,b=e||ae;if(s){let x=i?.[b]?.styles?.[p];return I(x)?void 0:x}let R=u(b);for(let x of R){let w=i?.[x]?.styles?.[p];if(!I(w))return w}};return Object.defineProperties(o,{$get:{value:n,enumerable:!1},$getCascade:{value:p=>n(p,{cascade:!0}),enumerable:!1},$getMany:{value:(p,a)=>{let l={};for(let s of p)l[s]=n(s,a);return l},enumerable:!1},$bp:{value:e,enumerable:!1}}),o}var h=v(P());var c={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var z=t=>Array.isArray(t)?t:[],ge=t=>new Set(z(t));function d(t){return Object.fromEntries(Object.entries(c.attributes).filter(([e,r])=>r.group===t))}var N=d("display"),H=d("dimension"),W=d("margin"),$=d("padding"),F=d("flex"),q=d("flex-item"),V=d("grid"),S=d("grid-item"),X=d("position"),J=d("shared"),Oe={...N,...H,...W,...$,...F,...q,...V,...S,...X,...J},Pe=new Set([...Object.keys(S)]),Ie=z(c?.collections?.editorStyles),Be=ge(c?.collections?.unitless),Ce=c?.settings?.gridUnit||"1fr",Ae=!!c?.settings?.appendImportantToMirroredStyles,Le=c?.settings?.styleTagId||"costered-blocks-style-mirror",Q=c?.settings?.reduxStoreKey||"costered/ui",je=c?.settings?.breakpoints?.mobile??782,Me=c?.settings?.breakpoints?.tablet??1024,Ge=c?.settings?.breakpoints?.desktop??1440,Ue=c?.collections?.clearSets?.gridAreas,Ke=c?.collections?.clearSets?.gridColumns,Ye=c?.collections?.clearSets?.gridRows;var Z=new Set([...Object.keys(N),...Object.keys(H),...Object.keys($),...Object.keys(W),...Object.keys(F),...Object.keys(q),...Object.keys(V),...Object.keys(S),...Object.keys(X),...Object.keys(J)]),ee=Object.fromEntries(Object.entries(c.attributes).map(([t,e])=>[t,e.css]));var ue=t=>{let e=String(t||"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},me=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},te=t=>{try{let r=(0,h.select)(Q);if(r&&typeof r.getBreakpoint=="function"){let o=r.getBreakpoint();if(o)return o}}catch{}let e=me(t);if(e)return ue(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,h.select)(STORE_KEY),o=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,i=(0,h.select)("core/edit-post"),u=i&&(typeof i.getPreviewDeviceType=="function"&&i.getPreviewDeviceType()||typeof i.__experimentalGetPreviewDeviceType=="function"&&i.__experimentalGetPreviewDeviceType()),n=(0,h.select)("core/edit-site"),m=n&&(typeof n.getDeviceType=="function"&&n.getDeviceType()||typeof n.__experimentalGetPreviewDeviceType=="function"&&n.__experimentalGetPreviewDeviceType()||typeof n.getPreviewDeviceType=="function"&&n.getPreviewDeviceType())}}catch{}return"desktop"};var fe=t=>t.replace(/-([a-z])/g,(e,r)=>r.toUpperCase()),y=t=>{if(t==null)return!1;let e=String(t).trim();return e!==""&&e!=="undefined"&&e!=="null"},ye={marginInlineStart:"margin-inline-start",marginInlineEnd:"margin-inline-end",marginBlockStart:"margin-block-start",marginBlockEnd:"margin-block-end"},be=Object.keys(S||{}),g={};for(let t of be)g[t]={css:S[t]?.css||t,attr:fe(S[t]?.css||t)};function xe(t={}){let e=s=>typeof t?.$get=="function"?t.$get(s):t?.[s],r={},o=!1,i=!1,u=!1,n=!1,m=!1;if(y(e("marginTop"))){let s=String(e("marginTop"));r.marginTop=s,r.marginBlockStart=s,o=!0,i=!0}if(y(e("marginBottom"))){let s=String(e("marginBottom"));r.marginBottom=s,r.marginBlockEnd=s,o=!0,u=!0}if(y(e("marginLeft"))){let s=String(e("marginLeft"));r.marginLeft=s,r.marginInlineStart=s,o=!0,n=!0}if(y(e("marginRight"))){let s=String(e("marginRight"));r.marginRight=s,r.marginInlineEnd=s,o=!0,m=!0}if(y(e("zIndex"))){let s=Number(e("zIndex"));r.zIndex=s,o=!0}let f=String(e(g.gridArea.attr)||"").trim();f&&!f.includes("/")&&!/\bspan\b/i.test(f)&&(r[g.gridArea.attr]=f,o=!0);let p=(e(g.gridColumn.attr)||"").trim();p&&(r[g.gridColumn.attr]=p,o=!0);let a=(e(g.gridRow.attr)||"").trim();a&&(r[g.gridRow.attr]=a,o=!0);for(let s of Z){if(s==="marginTop"||s==="marginBottom"||s==="marginLeft"||s==="marginRight"||s==="zIndex"||s==="z-index"||s===g.gridArea.attr||s===g.gridColumn.attr||s===g.gridRow.attr)continue;let b=e(s);y(b)&&(r[s]=String(b),o=!0)}let l=y(e("flexDirection"));return l&&!r.display&&(r.display="flex",o=!0),Object.keys(r).forEach(s=>{y(r[s])?r[s]=String(r[s]).trim():delete r[s]}),{style:r,any:o,hasMt:i,hasMb:u,hasMl:n,hasMr:m,haveFlexDir:l}}function Se(t){let e=(0,T.memo)(r=>{let i=(0,B.useSelect)(_=>r.clientId?_("core/block-editor").getBlock(r.clientId):null,[r.clientId])?.attributes||{},u=(0,B.useSelect)(te,[]),n=(0,T.useMemo)(()=>Y(i,u),[i,u]),{style:m,any:f,hasMt:p,hasMb:a,hasMl:l,hasMr:s,haveFlexDir:b}=(0,T.useMemo)(()=>xe(n),[n,n?.$bp]);(0,T.useLayoutEffect)(()=>{if(!r.clientId)return;let _=document.querySelector(`[data-block="${r.clientId}"]`);if(!_)return;let k=_;k.classList.contains("block-editor-block-list__layout")||(k=_.querySelector(":scope > .block-editor-inner-blocks > .block-editor-block-list__layout")||k);for(let[D,E]of Object.entries(m))if(typeof E<"u"){let C=ee[D]||ye[D]||D;E!=null&&E!==""?k.style.setProperty(C,E,"important"):k.style.removeProperty(C)}},[r.clientId,m,l,s,b]);let R=[r?.wrapperProps?.className||"",f?"is-cb-mirrored":"",p?"has-cb-mt":"",a?"has-cb-mb":"",l?"has-cb-ml":"",s?"has-cb-mr":""].filter(Boolean).join(" "),x=n?.costeredId||n?.costeredID||i?.costeredId||i?.costeredID||null,w={...r.wrapperProps||{},className:R,style:f?{...r.wrapperProps?.style||{},...m}:{},...x?{"data-costered":String(x)}:{}};return React.createElement(t,{...r,wrapperProps:w})});return e.displayName="CosteredBlocks/EditorSizeMirror",e}(0,re.addFilter)("editor.BlockListBlock","costered-blocks/editor-size-mirror",Se,100);})();
