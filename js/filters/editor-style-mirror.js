(()=>{var le=Object.create;var N=Object.defineProperty;var ge=Object.getOwnPropertyDescriptor;var ue=Object.getOwnPropertyNames;var me=Object.getPrototypeOf,ye=Object.prototype.hasOwnProperty;var _=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var fe=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ue(e))!ye.call(r,s)&&s!==t&&N(r,s,{get:()=>e[s],enumerable:!(i=ge(e,s))||i.enumerable});return r};var B=(r,e,t)=>(t=r!=null?le(me(r)):{},fe(e||!r||!r.__esModule?N(t,"default",{value:r,enumerable:!0}):t,r));var H=_((_e,$)=>{$.exports=wp.hooks});var A=_((Ae,Y)=>{Y.exports=wp.data});var F=_((Oe,z)=>{z.exports=wp.element});var de=B(H()),U=B(A()),S=B(F());var W=r=>{let e=s=>{let d=s?.styles;return d&&typeof d=="object"&&!Array.isArray(d)?{...s,styles:{...d}}:{...s||{},styles:{}}},t=r&&typeof r=="object"?r:{},i=!!t.desktop||!!t.tablet||!!t.mobile;return{desktop:e(t.desktop),tablet:e(t.tablet),mobile:e(t.mobile)}};var O=r=>r==null||r===""||r==="null"||r==="undefined";var be="desktop",Se=Object.freeze({});function q(r,e){let t=r?r[e]:void 0;return typeof t=="string"||typeof t=="number"?t:void 0}function V(r,e){let t=r||Se,i={...t},s=W(t.costered),d=a=>{switch(a){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},l=(a,c={})=>{let g=c&&Object.prototype.hasOwnProperty.call(c,"cascade")?!!c.cascade:!0,n=c&&Object.prototype.hasOwnProperty.call(c,"raw")?!!c.raw:!g,p=e||be;if(n){let b=q(s?.[p]?.styles||{},a);return O(b)?void 0:b}let E=d(p);for(let b of E){let C=q(s?.[b]?.styles||{},a);if(!O(C))return C}};return Object.defineProperties(i,{$get:{value:l,enumerable:!1},$getCascade:{value:a=>l(a,{cascade:!0}),enumerable:!1},$getMany:{value:(a,c)=>{let g={};for(let n=0;n<a.length;n++){let p=a[n];g[p]=l(p,c)}return g},enumerable:!1},$bp:{value:e,enumerable:!1}}),i}var I=B(A());var o={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var x=r=>Array.isArray(r)?r:[],Te=r=>new Set(x(r));function u(r){let e=o.attributes||{};return Object.fromEntries(Object.entries(e).filter(([,t])=>t.group===r))}var X=u("display"),Q=u("dimension"),Z=u("margin"),ee=u("padding"),te=u("flex"),re=u("flex-item"),ne=u("grid"),k=u("grid-item"),ie=u("position"),se=u("shared"),Ge={...X,...Q,...Z,...ee,...te,...re,...ne,...k,...ie,...se},je=new Set([...Object.keys(k)]),Ke=x(o?.collections?.editorStyles),Ue=Te(o?.collections?.unitless),Je=o?.settings?.gridUnit||"1fr",Ne=!!o?.settings?.appendImportantToMirroredStyles,$e=o?.settings?.styleTagId||"costered-blocks-style-mirror",v=o?.settings?.reduxStoreKey||"costered/ui",He=o?.settings?.breakpoints?.mobile??782,Ye=o?.settings?.breakpoints?.tablet??1024,ze=o?.settings?.breakpoints?.desktop??1440,Fe=x(o?.collections?.clearSets?.gridAreas),We=x(o?.collections?.clearSets?.gridColumns),qe=x(o?.collections?.clearSets?.gridRows);var oe=new Set([...Object.keys(X),...Object.keys(Q),...Object.keys(ee),...Object.keys(Z),...Object.keys(te),...Object.keys(re),...Object.keys(ne),...Object.keys(k),...Object.keys(ie),...Object.keys(se)]),ae=Object.fromEntries(Object.entries(o.attributes).map(([r,e])=>[r,e.css]));var D="desktop",M="tablet",L="mobile",Re=r=>{let e=String(r??"").toLowerCase();return e==="tablet"||e==="medium"?M:e==="mobile"||e==="phone"?L:D},ce=r=>{try{let t=r?.("core/editor")?.getDeviceType?.();if(t)return t}catch{}try{let e=r("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=r("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},pe=r=>{try{let i=(typeof r=="function"?r(v):(0,I.select)(v))?.getBreakpoint?.();if(i===D||i===M||i===L)return i}catch{}let e=ce(typeof r=="function"?r:I.select);if(e)return Re(e);if(typeof window<"u"){let t=window.__COSTERED_VIEWPORT_BP;if(t===D||t===M||t===L)return t}return"desktop"};var xe=r=>r.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),y=r=>{if(r==null)return!1;let e=String(r).trim();return e!==""&&e!=="undefined"&&e!=="null"},Pe={marginInlineStart:"margin-inline-start",marginInlineEnd:"margin-inline-end",marginBlockStart:"margin-block-start",marginBlockEnd:"margin-block-end"},Ce={gridArea:{css:"grid-area",attr:"gridArea"},gridColumn:{css:"grid-column",attr:"gridColumn"},gridRow:{css:"grid-row",attr:"gridRow"}},P={...Ce},we=Object.keys(k||{});for(let r of we){let e=k[r]?.css??P[r]?.css??r;P[r]={css:e,attr:xe(e)}}var G=P.gridArea.attr,j=P.gridColumn.attr,K=P.gridRow.attr;function Be(r={}){let e=n=>{let p=r?.$get;return typeof p=="function"?p(n):r?.[n]},t={},i=!1,s=!1,d=!1,l=!1,f=!1;if(y(e("marginTop"))){let n=String(e("marginTop"));t.marginTop=n,t.marginBlockStart=n,i=!0,s=!0}if(y(e("marginBottom"))){let n=String(e("marginBottom"));t.marginBottom=n,t.marginBlockEnd=n,i=!0,d=!0}if(y(e("marginLeft"))){let n=String(e("marginLeft"));t.marginLeft=n,t.marginInlineStart=n,i=!0,l=!0}if(y(e("marginRight"))){let n=String(e("marginRight"));t.marginRight=n,t.marginInlineEnd=n,i=!0,f=!0}if(y(e("zIndex"))){let n=Number(e("zIndex"));t.zIndex=n,i=!0}let m=String(e(G)??"").trim();m&&!m.includes("/")&&!/\bspan\b/i.test(m)&&(t[G]=m,i=!0);let a=String(e(j)??"").trim();a&&(t[j]=a,i=!0);let c=String(e(K)??"").trim();c&&(t[K]=c,i=!0);for(let n of Array.from(oe)){if(n==="marginTop"||n==="marginBottom"||n==="marginLeft"||n==="marginRight"||n==="zIndex"||n==="z-index"||n===G||n===j||n===K)continue;let p=e(n);y(p)&&(t[n]=String(p),i=!0)}let g=y(e("flexDirection"));return g&&!t.display&&(t.display="flex",i=!0),Object.keys(t).forEach(n=>{y(t[n])?t[n]=String(t[n]).trim():delete t[n]}),{style:t,any:i,hasMt:s,hasMb:d,hasMl:l,hasMr:f,haveFlexDir:g}}function Ee(r){let e=(0,S.memo)(t=>{let s=(0,U.useSelect)(T=>t.clientId?T("core/block-editor").getBlock(t.clientId):null,[t.clientId])?.attributes||{},d=(0,U.useSelect)(pe,[]),l=(0,S.useMemo)(()=>V(s,d),[s,d]),{style:f,any:m,hasMt:a,hasMb:c,hasMl:g,hasMr:n,haveFlexDir:p}=(0,S.useMemo)(()=>Be(l),[l,l?.$bp]);(0,S.useLayoutEffect)(()=>{if(!t.clientId)return;let T=document.querySelector(`[data-block="${t.clientId}"]`);if(!T)return;let R=T;R.classList.contains("block-editor-block-list__layout")||(R=T.querySelector(":scope > .block-editor-inner-blocks > .block-editor-block-list__layout")||R);for(let[h,w]of Object.entries(f))if(typeof w<"u"){let J=ae[h]||Pe[h]||h;w!=null&&w!==""?R.style.setProperty(J,String(w),"important"):R.style.removeProperty(J)}},[t.clientId,f,g,n,p]);let E=[t?.wrapperProps?.className??"",m?"is-cb-mirrored":"",a?"has-cb-mt":"",c?"has-cb-mb":"",g?"has-cb-ml":"",n?"has-cb-mr":""].filter(Boolean).join(" "),b=l?.costeredId||l?.costeredID||s?.costeredId||s?.costeredID||null,C={...t.wrapperProps||{},className:E,style:m?{...t.wrapperProps?.style||{},...f}:{},...b?{"data-costered":String(b)}:{}};return wp.element.createElement(r,{...t,wrapperProps:C})});return e.displayName="CosteredBlocks/EditorSizeMirror",e}(0,de.addFilter)("editor.BlockListBlock","costered-blocks/editor-size-mirror",Ee,100);})();
