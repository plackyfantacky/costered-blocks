(()=>{var Qt=Object.create;var at=Object.defineProperty;var te=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var re=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var oe=(e,t,n,c)=>{if(t&&typeof t=="object"||typeof t=="function")for(let m of ee(t))!ne.call(e,m)&&m!==n&&at(e,m,{get:()=>t[m],enumerable:!(c=te(t,m))||c.enumerable});return e};var g=(e,t,n)=>(n=e!=null?Qt(re(e)):{},oe(t||!e||!e.__esModule?at(n,"default",{value:e,enumerable:!0}):n,e));var E=z((Le,pt)=>{pt.exports=wp.element});var A=z((je,lt)=>{lt.exports=wp.data});var D=z((Ue,dt)=>{dt.exports=wp.blockEditor});var Ct=z((Qr,_t)=>{_t.exports=wp.preferences});var f=g(E());var et=g(A()),At=g(D()),H=g(E());var h={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var mt=e=>Array.isArray(e)?e:[],ie=e=>new Set(mt(e));function I(e){return Object.fromEntries(Object.entries(h.attributes).filter(([t,n])=>n.group===e))}var ft=I("display"),gt=I("dimension"),yt=I("margin"),xt=I("padding"),St=I("flex"),ht=I("flex-item"),bt=I("grid"),J=I("grid-item"),kt=I("position"),Tt=I("shared"),Fe={...ft,...gt,...yt,...xt,...St,...ht,...bt,...J,...kt,...Tt},wt=new Set([...Object.keys(J)]),Ye=mt(h?.collections?.editorStyles),Et=ie(h?.collections?.unitless),ce=h?.settings?.gridUnit||"1fr",We=!!h?.settings?.appendImportantToMirroredStyles,ze=h?.settings?.styleTagId||"costered-blocks-style-mirror",X=h?.settings?.reduxStoreKey||"costered/ui",Xe=h?.settings?.breakpoints?.mobile??782,Ve=h?.settings?.breakpoints?.tablet??1024,qe=h?.settings?.breakpoints?.desktop??1440,Ze=h?.collections?.clearSets?.gridAreas,Je=h?.collections?.clearSets?.gridColumns,Qe=h?.collections?.clearSets?.gridRows;var ue=new Set([...Object.keys(ft),...Object.keys(gt),...Object.keys(xt),...Object.keys(yt),...Object.keys(St),...Object.keys(ht),...Object.keys(bt),...Object.keys(J),...Object.keys(kt),...Object.keys(Tt)]),tr=Object.fromEntries(Object.entries(h.attributes).map(([e,t])=>[e,t.css]));var $=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t},Q=(e,t,n)=>{n==null||n===""?Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]:e[t]=n},tt=e=>e==null||e===""||e==="null"||e==="undefined";var ae="desktop",pe=Object.freeze({});function O(e,t){let n=e||pe,c={...n},m=$(n.costered),x=o=>{switch(o){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},a=(o,s=void 0)=>{let k=s&&Object.prototype.hasOwnProperty.call(s,"cascade")?!!s.cascade:!0,T=s&&Object.prototype.hasOwnProperty.call(s,"raw")?!!s.raw:!k,_=t||ae;if(T){let C=m?.[_]?.styles?.[o];return tt(C)?void 0:C}let v=x(_);for(let C of v){let u=m?.[C]?.styles?.[o];if(!tt(u))return u}};return Object.defineProperties(c,{$get:{value:a,enumerable:!1},$getCascade:{value:o=>a(o,{cascade:!0}),enumerable:!1},$getMany:{value:(o,s)=>{let k={};for(let T of o)k[T]=a(T,s);return k},enumerable:!1},$bp:{value:t,enumerable:!1}}),c}function rt(e){let t=(0,et.useSelect)(a=>a(X)?.getBreakpoint?.()||"desktop",[]),n=(0,et.useSelect)(a=>e?a(At.store).getBlockAttributes(e):null,[e]),c=(0,H.useMemo)(()=>n?O(n,t):void 0,[n,t]),m=(0,H.useCallback)((a,d)=>c?.$get?c.$get(a,d):{},[c]),x=(0,H.useCallback)((a,d)=>{if(!c?.$get)return{};let b={};return a.forEach(o=>{b[o]=c.$get(o,d)}),b},[c]);return{get:m,getMany:x,bp:t,attributes:c}}var M=g(E()),B=g(A());var le=e=>typeof e=="string"&&e.trim().length>0,de=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=Date.now().toString(36),t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},K=e=>{e&&!le(e.costeredId)&&(e.costeredId=de())};var F=g(A());var me=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},fe=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},G=e=>{try{let n=(0,F.select)(X);if(n&&typeof n.getBreakpoint=="function"){let c=n.getBreakpoint();if(c)return c}}catch{}let t=fe(e);if(t)return me(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let n=(0,F.select)(STORE_KEY),c=n&&typeof n.getBreakpoint=="function"?n.getBreakpoint():null,m=(0,F.select)("core/edit-post"),x=m&&(typeof m.getPreviewDeviceType=="function"&&m.getPreviewDeviceType()||typeof m.__experimentalGetPreviewDeviceType=="function"&&m.__experimentalGetPreviewDeviceType()),a=(0,F.select)("core/edit-site"),d=a&&(typeof a.getDeviceType=="function"&&a.getDeviceType()||typeof a.__experimentalGetPreviewDeviceType=="function"&&a.__experimentalGetPreviewDeviceType()||typeof a.getPreviewDeviceType=="function"&&a.getPreviewDeviceType())}}catch{}return"desktop"};var ge="desktop";function V(e,t,n={trim:!0,emptyUnsets:!0,breakpoint:void 0}){let{trim:c=!0,emptyUnsets:m=!0,breakpoint:x}=n,a=(0,B.useSelect)(G,[]),d=x||a||ge,{updateBlockAttributes:b}=(0,B.useDispatch)("core/block-editor"),o=(0,M.useMemo)(()=>{if(typeof e=="string"&&!t){let u=e;return i=>{if(u)if(typeof i=="function"){let r=(0,B.select)("core/block-editor").getBlockAttributes(u)||{},l=i(r)||r;b(u,l)}else b(u,i||{})}}if(typeof e=="function"&&typeof t=="string"){let u=e,i=t;return r=>{if(i)if(typeof r=="function"){let l=(0,B.select)("core/block-editor").getBlockAttributes(i)||{},S=r(l)||l;try{u(i,S)}catch{u(S)}}else try{u(i,r||{})}catch{u(r||{})}}}return typeof e=="function"?e:()=>{}},[e,t,b]),s=(0,M.useCallback)((u,i)=>{if(u==null)return;if(wt.has(i)){let l=typeof u=="string"&&c?u.trim():String(u);return m&&l===""?void 0:l}let r=u;if(c&&typeof r=="string"&&(r=r.trim()),!(m&&(r===""||r=="null"||r=="undefined"))){if(Et.has(i)){if(typeof r=="string"&&/^-?\d+(\.\d+)?$/.test(r)){let l=Number(r);return Number.isFinite(l)?l:void 0}return typeof r=="number"&&Number.isFinite(r)?r:void 0}if(typeof r=="number")return Number.isFinite(r)?r:void 0;if(typeof r=="string")return r==="null"||r==="undefined"?void 0:r;try{return String(r)}catch{return}}},[c,m]),k=(0,M.useCallback)((u,i)=>{o(r=>{let l={...r||{}};K(l),l.costered=$(l.costered);let S={...l.costered[d].styles},R=s(i,u);return Q(S,u,R),l.costered[d]={...l.costered[d],styles:S},l})},[o,d,s]),T=(0,M.useCallback)(u=>{!u||typeof u!="object"||o(i=>{let r={...i||{}};K(r),r.costered=$(r.costered);let l={...r.costered[d].styles};for(let[S,R]of Object.entries(u)){let L=s(R,S);Q(l,S,L)}return r.costered[d]={...r.costered[d],styles:l},r})},[o,d,s]),_=(0,M.useCallback)(u=>{o(i=>{let r={...i||{}};K(r),r.costered=$(r.costered);let l={...r.costered[d].styles};return u in l?(delete l[u],r.costered[d]={...r.costered[d],styles:l},r):i})},[o,d]),v=(0,M.useCallback)(u=>{!Array.isArray(u)||u.length===0||o(i=>{let r={...i||{}};K(r),r.costered=$(r.costered);let l={...r.costered[d].styles},S=!1;for(let R of u)R in l&&(delete l[R],S=!0);return S?(r.costered[d]={...r.costered[d],styles:l},r):i})},[o,d]),C=(0,M.useCallback)(u=>({set:(i,r)=>k(`${u}${i}`,r),setMany:i=>{let r={};for(let[l,S]of Object.entries(i))r[`${u}${l}`]=S;T(r)},unset:i=>_(`${u}${i}`),unsetMany:i=>v(i.map(r=>`${u}${r}`))}),[k,T,_,v]);return{set:k,setMany:T,unset:_,unsetMany:v,withPrefix:C,activeBreakpoint:d}}var Rt=g(E());var nt=g(E());function q(e){let{set:t,setMany:n,unset:c}=V(e),m=(0,nt.useCallback)(a=>{if(!a||typeof a!="string"){c("gridArea");return}t("gridArea",a.trim())},[t,c]),x=(0,nt.useCallback)((a,d,b,o)=>{let s={};a!==void 0&&(s.gridRowStart=a||void 0),d!==void 0&&(s.gridRowEnd=d||void 0),b!==void 0&&(s.gridColumnStart=b||void 0),o!==void 0&&(s.gridColumnEnd=o||void 0),n(s)},[n]);return{setArea:m,setTracks:x,set:t,setMany:n,unset:c}}var he=g(A()),be=g(D()),ke=g(E());var It=g(E()),Ee=g(A()),Ae=g(D());var Re=g(E()),Ie=g(A()),Nr=g(D());var _e=g(A()),Ce=g(E());var Me=g(A()),ve=g(D());var De=g(A()),$e=g(D()),Be=g(E());var Zr=Object.freeze({});var Mt=g(A()),Pe=g(Ct());function P(e,t,n){return Math.min(Math.max(e,t),n)}function w(e,t=1){let n=Number(e);return Number.isFinite(n)?n:t}function N(e){if(typeof e=="number")return Number.isInteger(e);let t=String(e);return/^-?\d+$/.test(t)}function ot(e,t=1){let n=parseInt(e,10);return Number.isFinite(n)&&n!==0?n:t}function vt(e){let t=parseInt(e,10);return Number.isFinite(t)?t:""}var st=e=>{let t={start:"",span:"",end:""},n=String(e||"").trim();if(!n)return t;let c=n.split("/").map(d=>d.trim());if(c.length===1)return/^span\s+\d+$/i.test(c[0])?t.span=c[0].replace(/^span\s+/i,""):t.start=c[0],t;let m=c[0],x=c[1];t.start=m||"auto";let a=/^span\s+(\d+)$/i.exec(x);return a?t.span=a[1]:t.end=x,t};var it=e=>{let t=new Set,n=/\[([^\]]+)\]/g,c;for(;(c=n.exec(String(e||"")))!==null;){let m=c[1].trim();m&&m.split(/\s+/).forEach(x=>t.add(x))}return Array.from(t)},Dt=e=>/\//.test(String(e||""))||/\bspan\s+\d+\b/i.test(String(e||""));var $t=Number.MAX_SAFE_INTEGER;function Oe({clientId:e,setMany:t,parentMeta:n}){if(!e)return null;let{get:c}=rt(e),m=Dt(c("gridArea")),{columns:x,rows:a,columnTemplate:d,rowTemplate:b}=n,o=(0,f.useMemo)(()=>st(c("gridColumn")),[c]),s=(0,f.useMemo)(()=>st(c("gridRow")),[c]),k=o.end?"end":"span",T=s.end?"end":"span",[_,v]=(0,f.useState)(k),[C,u]=(0,f.useState)(T);(0,f.useEffect)(()=>{v(k)},[k]),(0,f.useEffect)(()=>{u(T)},[T]);let i=q(t,"gridColumn",_),r=q(t,"gridRow",C),l=(0,f.useMemo)(()=>it(d),[d]),S=(0,f.useMemo)(()=>it(b),[b]),R=l.length>0,L=S.length>0,ct=(p,y)=>y?N(p)?"number":"named":"number",Bt=p=>p?N(p)?"number":p==="auto"?"auto":"named":"number",ut=(p,y)=>{let Z=Bt(p);return y?Z:Z==="named"?"number":Z},Pt=ct(o.start,R),Ot=ct(s.start,L),Gt=ut(o.end,R),Nt=ut(s.end,L),j=(0,f.useMemo)(()=>{if(!x||!N(o.start))return $t;let p=P(w(o.start,1),1,x);return Math.max(1,x-p+1)},[x,o.start]),U=(0,f.useMemo)(()=>{if(!a||!N(s.start))return $t;let p=P(w(s.start,1),1,a);return Math.max(1,a-p+1)},[a,s.start]),[Lt,Y]=(0,f.useState)(null),[jt,W]=(0,f.useState)(null);(0,f.useEffect)(()=>{Y(null)},[c("gridColumn")]),(0,f.useEffect)(()=>{W(null)},[c("gridRow")]);let Ut=(0,f.useCallback)(p=>{let y=w(p,1);o.end?i({start:y,end:o.end}):i({start:y,span:P(w(o.span,1),1,j)})},[o.end,o.span,j,i]),Ht=(0,f.useCallback)(p=>{let y=String(p||"auto").trim()||"auto";o.end?i({start:y,end:o.end}):i({start:y,span:w(o.span,1)})},[o.end,o.span,i]),Kt=(0,f.useCallback)(p=>{let y=P(w(p,1),1,j);i({start:o.start||"auto",span:y})},[o.start,j,i]),Ft=(0,f.useCallback)(p=>{Y(p),p!==0&&(i({start:o.start||"auto",end:ot(p,1)}),Y(null))},[o.start,i]),Yt=(0,f.useCallback)(p=>{i({start:o.start||"auto",end:String(p||"auto").trim()||"auto"})},[o.start,i]),Wt=(0,f.useCallback)(()=>{i({start:o.start||"auto",end:"auto"})},[o.start,i]),zt=(0,f.useCallback)(p=>{let y=w(p,1);s.end?r({start:y,end:s.end}):r({start:y,span:P(w(s.span,1),1,U)})},[s.end,s.span,U,r]),Xt=(0,f.useCallback)(p=>{let y=String(p||"auto").trim()||"auto";s.end?r({start:y,end:s.end}):r({start:y,span:w(s.span,1)})},[s.end,s.span,r]),Vt=(0,f.useCallback)(p=>{let y=P(w(p,1),1,U);r({start:s.start||"auto",span:y})},[s.start,U,r]),qt=(0,f.useCallback)(p=>{W(p),p!==0&&(r({start:s.start||"auto",end:ot(p,1)}),W(null))},[s.start,r]),Zt=(0,f.useCallback)(p=>{r({start:s.start||"auto",end:String(p||"auto").trim()||"auto"})},[s.start,r]),Jt=(0,f.useCallback)(()=>{r({start:s.start||"auto",end:"auto"})},[s.start,r]);return{hasArea:m,disabledLines:m,numbers:{isIntToken:N,toInt:w,parseSigned:vt},column:{values:{...o},modes:{uiStart:Pt,uiEnd:Gt,mode:_},setMode:v,named:{lines:l,hasLines:R},caps:{span:j},drafts:{end:Lt,setEnd:Y},handlers:{onStartNumber:Ut,onStartNamed:Ht,onSpan:Kt,onEndNumber:Ft,onEndNamed:Yt,onEndAuto:Wt}},row:{values:{...s},modes:{uiStart:Ot,uiEnd:Nt,mode:C},setMode:u,named:{lines:S,hasLines:L},caps:{span:U},drafts:{end:jt,setEnd:W},handlers:{onStartNumber:zt,onStartNamed:Xt,onSpan:Vt,onEndNumber:qt,onEndNamed:Zt,onEndAuto:Jt}}}}})();
