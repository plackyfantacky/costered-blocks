(()=>{var ee=Object.create;var lt=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var oe=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ie=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of re(t))!se.call(e,a)&&a!==r&&lt(e,a,{get:()=>t[a],enumerable:!(i=ne(t,a))||i.enumerable});return e};var g=(e,t,r)=>(r=e!=null?ee(oe(e)):{},ie(t||!e||!e.__esModule?lt(r,"default",{value:e,enumerable:!0}):r,e));var E=z((Ke,dt)=>{dt.exports=wp.element});var I=z((Ue,mt)=>{mt.exports=wp.data});var P=z((Ve,ft)=>{ft.exports=wp.blockEditor});var _t=z((rr,Bt)=>{Bt.exports=wp.preferences});var f=g(E());var nt=g(I()),It=g(P()),L=g(E());var w={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var gt=e=>Array.isArray(e)?e:[],ce=e=>new Set(gt(e));function M(e){return Object.fromEntries(Object.entries(w.attributes).filter(([t,r])=>r.group===e))}var yt=M("display"),bt=M("dimension"),St=M("margin"),kt=M("padding"),xt=M("flex"),wt=M("flex-item"),ht=M("grid"),tt=M("grid-item"),At=M("position"),Tt=M("shared"),Ye={...yt,...bt,...St,...kt,...xt,...wt,...ht,...tt,...At,...Tt},Rt=new Set([...Object.keys(tt)]),ze=gt(w?.collections?.editorStyles),Et=ce(w?.collections?.unitless),ae=w?.settings?.gridUnit||"1fr",Xe=!!w?.settings?.appendImportantToMirroredStyles,qe=w?.settings?.styleTagId||"costered-blocks-style-mirror",X=w?.settings?.reduxStoreKey||"costered/ui",Ze=w?.settings?.breakpoints?.mobile??782,Je=w?.settings?.breakpoints?.tablet??1024,Qe=w?.settings?.breakpoints?.desktop??1440,tn=w?.collections?.clearSets?.gridAreas,en=w?.collections?.clearSets?.gridColumns,nn=w?.collections?.clearSets?.gridRows;var pe=new Set([...Object.keys(yt),...Object.keys(bt),...Object.keys(kt),...Object.keys(St),...Object.keys(xt),...Object.keys(wt),...Object.keys(ht),...Object.keys(tt),...Object.keys(At),...Object.keys(Tt)]),rn=Object.fromEntries(Object.entries(w.attributes).map(([e,t])=>[e,t.css]));var $=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t};var et=e=>e==null||e===""||e==="null"||e==="undefined";var le="desktop",de=Object.freeze({});function N(e,t){let r=e||de,i={...r},a=$(r.costered),y=u=>{switch(u){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},p=(u,s=void 0)=>{let h=s&&Object.prototype.hasOwnProperty.call(s,"cascade")?!!s.cascade:!0,A=s&&Object.prototype.hasOwnProperty.call(s,"raw")?!!s.raw:!h,C=t||le;if(A){let R=a?.[C]?.styles?.[u];return et(R)?void 0:R}let B=y(C);for(let R of B){let D=a?.[R]?.styles?.[u];if(!et(D))return D}};return Object.defineProperties(i,{$get:{value:p,enumerable:!1},$getCascade:{value:u=>p(u,{cascade:!0}),enumerable:!1},$getMany:{value:(u,s)=>{let h={};for(let A of u)h[A]=p(A,s);return h},enumerable:!1},$bp:{value:t,enumerable:!1}}),i}function rt(e){let t=(0,nt.useSelect)(p=>p(X)?.getBreakpoint?.()||"desktop",[]),r=(0,nt.useSelect)(p=>e?p(It.store)?.getBlockAttributes?.(e):void 0,[e]),i=(0,L.useMemo)(()=>r?N(r,t):void 0,[r,t]),a=(0,L.useCallback)((p,b)=>{if(i?.$get)return i.$get(p,b)},[i]),y=(0,L.useCallback)((p,b)=>{let d={};if(!i?.$get){for(let u=0;u<p.length;u++)d[p[u]]=void 0;return d}for(let u=0;u<p.length;u++){let s=p[u];d[s]=i.$get(s,b)}return d},[i]);return(0,L.useMemo)(()=>({get:a,getMany:y,bp:t,attributes:i}),[a,y,t,i])}var v=g(E()),_=g(I());function me(e){return Array.isArray(e)}function Mt(e){if(me(e)){let[t,r,i]=e;return i!==void 0?{property:t,value:r,important:i}:{property:t,value:r}}return e}function ot(e,t,r,i){let a=Array.isArray(e)?e.slice():[],y=-1;for(let b=0;b<a.length;b++)if(Mt(a[b]).property===t){y=b;break}let p=i!==void 0?{property:t,value:r,important:i}:{property:t,value:r};return y===-1?a.push(p):a[y]=p,a}function st(e,t){let r=Array.isArray(e)?Array.from(e):[],i=[];for(let a=0;a<r.length;a++)Mt(r[a]).property!==t&&i.push(r[a]);return i}var fe=e=>typeof e=="string"&&e.trim().length>0,ge=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=Date.now().toString(36),t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},V=e=>{e&&!fe(e.costeredId)&&(e.costeredId=ge())};var H=g(I());var ye=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},be=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},j=e=>{try{let r=(0,H.select)(X);if(r&&typeof r.getBreakpoint=="function"){let i=r.getBreakpoint();if(i)return i}}catch{}let t=be(e);if(t)return ye(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,H.select)(STORE_KEY),i=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,a=(0,H.select)("core/edit-post"),y=a&&(typeof a.getPreviewDeviceType=="function"&&a.getPreviewDeviceType()||typeof a.__experimentalGetPreviewDeviceType=="function"&&a.__experimentalGetPreviewDeviceType()),p=(0,H.select)("core/edit-site"),b=p&&(typeof p.getDeviceType=="function"&&p.getDeviceType()||typeof p.__experimentalGetPreviewDeviceType=="function"&&p.__experimentalGetPreviewDeviceType()||typeof p.getPreviewDeviceType=="function"&&p.getPreviewDeviceType())}}catch{}return"desktop"};var Se="desktop";function q(e,t,r={trim:!0,emptyUnsets:!0}){let i=(typeof t=="object"?t:r)||{},{trim:a=!0,emptyUnsets:y=!0,breakpoint:p}=i,b=(0,_.useSelect)(j,[]),d=p||b||Se,{updateBlockAttributes:u}=(0,_.useDispatch)("core/block-editor"),s=(0,v.useMemo)(()=>{if(typeof e=="string"&&!t){let o=e;return c=>{if(o)if(typeof c=="function"){let n=(0,_.select)("core/block-editor")?.getBlockAttributes(o)||{},m=c(n)||n;u(o,m)}else u(o,c||{})}}if(typeof e=="function"&&typeof t=="string"){let o=e,c=t;return n=>{if(!c)return;if(typeof n=="function"){let S=(0,_.select)("core/block-editor")?.getBlockAttributes(c)||{},x=n(S)||S;try{o(c,x)}catch{o(x)}return}let m=n||{};try{o(c,m)}catch{o(m)}}}if(typeof e=="function"){let o=e;return c=>{if(typeof c=="function"){let n=(0,_.select)("core/block-editor")?.getBlockAttributes?.(void 0)||{},m=c(n)||n;o(m)}else o(c||{})}}return()=>{}},[e,t,u]),h=(0,v.useCallback)((o,c)=>{if(o==null)return;if(Rt.has(c)){let m=typeof o=="string"&&a?o.trim():String(o);return y&&m===""?void 0:m}let n=o;if(a&&typeof n=="string"&&(n=n.trim()),!(y&&(n===""||n=="null"||n=="undefined"))){if(Et.has(c)){if(typeof n=="string"&&/^-?\d+(\.\d+)?$/.test(n)){let m=Number(n);return Number.isFinite(m)?m:void 0}return typeof n=="number"&&Number.isFinite(n)?n:void 0}if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(typeof n=="string")return n==="null"||n==="undefined"?void 0:n;try{return String(n)}catch{return}}},[a,y]),A=(0,v.useCallback)((o,c)=>{s(n=>{let m={...n||{}};V(m),m.costered=$(m.costered);let S=m.costered[d].styles,x=h(c,o),G=ot(S,o,x);return m.costered[d]={...m.costered[d],styles:G},m})},[s,d,h]),C=(0,v.useCallback)(o=>{!o||typeof o!="object"||s(c=>{let n={...c||{}};V(n),n.costered=$(n.costered);let S=n.costered[d].styles;for(let[x,G]of Object.entries(o)){let J=h(G,x);S=ot(S,x,J)}return n.costered[d]={...n.costered[d],styles:S||[]},n})},[s,d,h]),B=(0,v.useCallback)(o=>{s(c=>{let n={...c||{}};V(n),n.costered=$(n.costered);let m=n.costered[d].styles,S=st(m,o);return(m?.length||0)===S.length?c:(n.costered[d]={...n.costered[d],styles:S},n)})},[s,d]),R=(0,v.useCallback)(o=>{!Array.isArray(o)||o.length===0||s(c=>{let n={...c||{}};V(n),n.costered=$(n.costered);let S=n.costered[d]?.styles;for(let x=0;x<o.length;x++)S=st(S,o[x]);return n.costered[d]={...n.costered[d],styles:S||[]},n})},[s,d]),D=(0,v.useCallback)(o=>({set:(c,n)=>A(`${o}${c}`,n),setMany:c=>{let n={};for(let[m,S]of Object.entries(c))n[`${o}${m}`]=S;C(n)},unset:c=>B(`${o}${c}`),unsetMany:c=>R(c.map(n=>`${o}${n}`))}),[A,C,B,R]);return{set:A,setMany:C,unset:B,unsetMany:R,withPrefix:D,activeBreakpoint:d}}var Ct=g(E());var it=g(E());function Z(e){let{set:t,setMany:r,unset:i}=q(e),a=(0,it.useCallback)(p=>{if(!p||typeof p!="string"){i("gridArea");return}t("gridArea",p.trim())},[t,i]),y=(0,it.useCallback)((p,b,d,u)=>{let s={};p!==void 0&&(s.gridRowStart=p||void 0),b!==void 0&&(s.gridRowEnd=b||void 0),d!==void 0&&(s.gridColumnStart=d||void 0),u!==void 0&&(s.gridColumnEnd=u||void 0),r(s)},[r]);return{setArea:a,setTracks:y,set:t,setMany:r,unset:i}}var he=g(I()),Ae=g(P()),Te=g(E());var vt=g(E()),Ie=g(I()),Me=g(P());var Ce=g(E()),ve=g(I()),Kn=g(P());var Be=g(I()),_e=g(E());var De=g(I()),Pe=g(P());var $e=g(I()),Oe=g(P()),Ge=g(E());var er=Object.freeze({});var Dt=g(I()),Ne=g(_t());function O(e,t,r){return Math.min(Math.max(e,t),r)}function T(e,t=1){let r=Number(e);return Number.isFinite(r)?r:t}function W(e){if(typeof e=="number")return Number.isInteger(e);let t=String(e);return/^-?\d+$/.test(t)}function ut(e,t=1){let r=parseInt(e,10);return Number.isFinite(r)&&r!==0?r:t}function Pt(e){let t=parseInt(e,10);return Number.isFinite(t)?t:""}var ct=e=>{let t={start:"",span:"",end:""},r=String(e||"").trim();if(!r)return t;let i=r.split("/").map(b=>b.trim());if(i.length===1)return/^span\s+\d+$/i.test(i[0])?t.span=i[0].replace(/^span\s+/i,""):t.start=i[0],t;let a=i[0],y=i[1];t.start=a||"auto";let p=/^span\s+(\d+)$/i.exec(y);return p?t.span=p[1]:t.end=y,t};var at=e=>{let t=new Set,r=/\[([^\]]+)\]/g,i;for(;(i=r.exec(String(e||"")))!==null;){let a=i[1].trim();a&&a.split(/\s+/).forEach(y=>t.add(y))}return Array.from(t)},$t=e=>/\//.test(String(e||""))||/\bspan\s+\d+\b/i.test(String(e||""));var Ot=Number.MAX_SAFE_INTEGER;function Le({clientId:e,setMany:t,parentMeta:r}){if(!e)return null;let{get:i}=rt(e),a=$t(i("gridArea")),{columns:y,rows:p,columnTemplate:b,rowTemplate:d}=r,u=(0,f.useMemo)(()=>ct(i("gridColumn")),[i]),s=(0,f.useMemo)(()=>ct(i("gridRow")),[i]),h=u.end?"end":"span",A=s.end?"end":"span",[C,B]=(0,f.useState)(h),[R,D]=(0,f.useState)(A);(0,f.useEffect)(()=>{B(h)},[h]),(0,f.useEffect)(()=>{D(A)},[A]);let o=Z(t,"gridColumn",C),c=Z(t,"gridRow",R),n=(0,f.useMemo)(()=>at(b),[b]),m=(0,f.useMemo)(()=>at(d),[d]),S=n.length>0,x=m.length>0,G=(l,k)=>k?W(l)?"number":"named":"number",J=l=>l?W(l)?"number":l==="auto"?"auto":"named":"number",pt=(l,k)=>{let Q=J(l);return k?Q:Q==="named"?"number":Q},Gt=G(u.start,S),Nt=G(s.start,x),Lt=pt(u.end,S),jt=pt(s.end,x),K=(0,f.useMemo)(()=>{if(!y||!W(u.start))return Ot;let l=O(T(u.start,1),1,y);return Math.max(1,y-l+1)},[y,u.start]),U=(0,f.useMemo)(()=>{if(!p||!W(s.start))return Ot;let l=O(T(s.start,1),1,p);return Math.max(1,p-l+1)},[p,s.start]),[Wt,F]=(0,f.useState)(null),[Kt,Y]=(0,f.useState)(null);(0,f.useEffect)(()=>{F(null)},[i("gridColumn")]),(0,f.useEffect)(()=>{Y(null)},[i("gridRow")]);let Ut=(0,f.useCallback)(l=>{let k=T(l,1);u.end?o({start:k,end:u.end}):o({start:k,span:O(T(u.span,1),1,K)})},[u.end,u.span,K,o]),Vt=(0,f.useCallback)(l=>{let k=String(l||"auto").trim()||"auto";u.end?o({start:k,end:u.end}):o({start:k,span:T(u.span,1)})},[u.end,u.span,o]),Ht=(0,f.useCallback)(l=>{let k=O(T(l,1),1,K);o({start:u.start||"auto",span:k})},[u.start,K,o]),Ft=(0,f.useCallback)(l=>{F(l),l!==0&&(o({start:u.start||"auto",end:ut(l,1)}),F(null))},[u.start,o]),Yt=(0,f.useCallback)(l=>{o({start:u.start||"auto",end:String(l||"auto").trim()||"auto"})},[u.start,o]),zt=(0,f.useCallback)(()=>{o({start:u.start||"auto",end:"auto"})},[u.start,o]),Xt=(0,f.useCallback)(l=>{let k=T(l,1);s.end?c({start:k,end:s.end}):c({start:k,span:O(T(s.span,1),1,U)})},[s.end,s.span,U,c]),qt=(0,f.useCallback)(l=>{let k=String(l||"auto").trim()||"auto";s.end?c({start:k,end:s.end}):c({start:k,span:T(s.span,1)})},[s.end,s.span,c]),Zt=(0,f.useCallback)(l=>{let k=O(T(l,1),1,U);c({start:s.start||"auto",span:k})},[s.start,U,c]),Jt=(0,f.useCallback)(l=>{Y(l),l!==0&&(c({start:s.start||"auto",end:ut(l,1)}),Y(null))},[s.start,c]),Qt=(0,f.useCallback)(l=>{c({start:s.start||"auto",end:String(l||"auto").trim()||"auto"})},[s.start,c]),te=(0,f.useCallback)(()=>{c({start:s.start||"auto",end:"auto"})},[s.start,c]);return{hasArea:a,disabledLines:a,numbers:{isIntToken:W,toInt:T,parseSigned:Pt},column:{values:{...u},modes:{uiStart:Gt,uiEnd:Lt,mode:C},setMode:B,named:{lines:n,hasLines:S},caps:{span:K},drafts:{end:Wt,setEnd:F},handlers:{onStartNumber:Ut,onStartNamed:Vt,onSpan:Ht,onEndNumber:Ft,onEndNamed:Yt,onEndAuto:zt}},row:{values:{...s},modes:{uiStart:Nt,uiEnd:jt,mode:R},setMode:D,named:{lines:m,hasLines:x},caps:{span:U},drafts:{end:Kt,setEnd:Y},handlers:{onStartNumber:Xt,onStartNamed:qt,onSpan:Zt,onEndNumber:Jt,onEndNamed:Qt,onEndAuto:te}}}}})();
