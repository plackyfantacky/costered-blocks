(()=>{var Vt=Object.create;var ot=Object.defineProperty;var Xt=Object.getOwnPropertyDescriptor;var qt=Object.getOwnPropertyNames;var Zt=Object.getPrototypeOf,Jt=Object.prototype.hasOwnProperty;var W=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Qt=(e,t,s,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let m of qt(t))!Jt.call(e,m)&&m!==s&&ot(e,m,{get:()=>t[m],enumerable:!(d=Xt(t,m))||d.enumerable});return e};var l=(e,t,s)=>(s=e!=null?Vt(Zt(e)):{},Qt(t||!e||!e.__esModule?ot(s,"default",{value:e,enumerable:!0}):s,e));var k=W((Ce,st)=>{st.exports=wp.element});var A=W((Me,it)=>{it.exports=wp.data});var _=W((Be,ct)=>{ct.exports=wp.blockEditor});var wt=W((Xr,At)=>{At.exports=wp.preferences});var p=l(k());var oe=l(A()),se=l(_()),ht=l(k());var h={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"]},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var ut=e=>Array.isArray(e)?e:[],ee=e=>new Set(ut(e));function E(e){return Object.fromEntries(Object.entries(h.attributes).filter(([t,s])=>s.group===e))}var at=E("display"),pt=E("dimension"),lt=E("margin"),dt=E("padding"),mt=E("flex"),ft=E("flex-item"),gt=E("grid"),q=E("grid-item"),yt=E("position"),bt=E("shared"),Ge={...at,...pt,...lt,...dt,...mt,...ft,...gt,...q,...yt,...bt},St=new Set([...Object.keys(q)]),Oe=ut(h?.collections?.editorStyles),xt=ee(h?.collections?.unitless),re=h?.settings?.gridUnit||"1fr",Ne=!!h?.settings?.appendImportantToMirroredStyles,Le=h?.settings?.styleTagId||"costered-blocks-style-mirror",Z=h?.settings?.reduxStoreKey||"costered/ui",je=h?.settings?.breakpoints?.mobile??782,Ue=h?.settings?.breakpoints?.tablet??1024,Ke=h?.settings?.breakpoints?.desktop??1440;var ne=new Set([...Object.keys(at),...Object.keys(pt),...Object.keys(dt),...Object.keys(lt),...Object.keys(mt),...Object.keys(ft),...Object.keys(gt),...Object.keys(q),...Object.keys(yt),...Object.keys(bt)]),Fe=Object.fromEntries(Object.entries(h.attributes).map(([e,t])=>[e,t.css]));var D=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t},J=(e,t,s)=>{s==null||s===""?Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]:e[t]=s};var Ve=Object.freeze({});var R=l(k()),v=l(A());var ie=e=>typeof e=="string"&&e.trim().length>0,ce=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=Date.now().toString(36),t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},L=e=>{e&&!ie(e.costeredId)&&(e.costeredId=ce())};var j=l(A());var ue=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},ae=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},P=e=>{try{let s=(0,j.select)(Z);if(s&&typeof s.getBreakpoint=="function"){let d=s.getBreakpoint();if(d)return d}}catch{}let t=ae(e);if(t)return ue(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let s=(0,j.select)(STORE_KEY),d=s&&typeof s.getBreakpoint=="function"?s.getBreakpoint():null,m=(0,j.select)("core/edit-post"),S=m&&(typeof m.getPreviewDeviceType=="function"&&m.getPreviewDeviceType()||typeof m.__experimentalGetPreviewDeviceType=="function"&&m.__experimentalGetPreviewDeviceType()),g=(0,j.select)("core/edit-site"),f=g&&(typeof g.getDeviceType=="function"&&g.getDeviceType()||typeof g.__experimentalGetPreviewDeviceType=="function"&&g.__experimentalGetPreviewDeviceType()||typeof g.getPreviewDeviceType=="function"&&g.getPreviewDeviceType())}}catch{}return"desktop"};var pe="desktop";function U(e,t,s={trim:!0,emptyUnsets:!0,breakpoint:void 0}){let{trim:d=!0,emptyUnsets:m=!0,breakpoint:S}=s,g=(0,v.useSelect)(P,[]),f=S||g||pe,{updateBlockAttributes:a}=(0,v.useDispatch)("core/block-editor"),i=(0,R.useMemo)(()=>{if(typeof e=="string"&&!t){let n=e;return o=>{if(n)if(typeof o=="function"){let r=(0,v.select)("core/block-editor").getBlockAttributes(n)||{},u=o(r)||r;a(n,u)}else a(n,o||{})}}if(typeof e=="function"&&typeof t=="string"){let n=e,o=t;return r=>{if(o)if(typeof r=="function"){let u=(0,v.select)("core/block-editor").getBlockAttributes(o)||{},b=r(u)||u;try{n(o,b)}catch{n(b)}}else try{n(o,r||{})}catch{n(r||{})}}}return typeof e=="function"?e:()=>{}},[e,t,a]),x=(0,R.useCallback)((n,o)=>{if(n==null)return;if(St.has(o)){let u=typeof n=="string"&&d?n.trim():String(n);return m&&u===""?void 0:u}let r=n;if(d&&typeof r=="string"&&(r=r.trim()),!(m&&(r===""||r=="null"||r=="undefined"))){if(xt.has(o)){if(typeof r=="string"&&/^-?\d+(\.\d+)?$/.test(r)){let u=Number(r);return Number.isFinite(u)?u:void 0}return typeof r=="number"&&Number.isFinite(r)?r:void 0}if(typeof r=="number")return Number.isFinite(r)?r:void 0;if(typeof r=="string")return r==="null"||r==="undefined"?void 0:r;try{return String(r)}catch{return}}},[d,m]),I=(0,R.useCallback)((n,o)=>{i(r=>{let u={...r||{}};L(u),u.costered=D(u.costered);let b={...u.costered[f].styles},w=x(o,n);return J(b,n,w),u.costered[f]={...u.costered[f],styles:b},u})},[i,f,x]),C=(0,R.useCallback)(n=>{!n||typeof n!="object"||i(o=>{let r={...o||{}};L(r),r.costered=D(r.costered);let u={...r.costered[f].styles};for(let[b,w]of Object.entries(n)){let F=x(w,b);J(u,b,F)}return r.costered[f]={...r.costered[f],styles:u},r})},[i,f,x]),M=(0,R.useCallback)(n=>{i(o=>{let r={...o||{}};L(r),r.costered=D(r.costered);let u={...r.costered[f].styles};return n in u?(delete u[n],r.costered[f]={...r.costered[f],styles:u},r):o})},[i,f]),B=(0,R.useCallback)(n=>{!Array.isArray(n)||n.length===0||i(o=>{let r={...o||{}};L(r),r.costered=D(r.costered);let u={...r.costered[f].styles},b=!1;for(let w of n)w in u&&(delete u[w],b=!0);return b?(r.costered[f]={...r.costered[f],styles:u},r):o})},[i,f]),K=(0,R.useCallback)(n=>({set:(o,r)=>I(`${n}${o}`,r),setMany:o=>{let r={};for(let[u,b]of Object.entries(o))r[`${n}${u}`]=b;C(r)},unset:o=>M(`${n}${o}`),unsetMany:o=>B(o.map(r=>`${n}${r}`))}),[I,C,M,B]);return{set:I,setMany:C,unset:M,unsetMany:B,withPrefix:K,activeBreakpoint:f}}var Tt=l(k());var Q=l(k());function V(e){let{set:t,setMany:s,unset:d}=U(e),m=(0,Q.useCallback)(g=>{if(!g||typeof g!="string"){d("gridArea");return}t("gridArea",g.trim())},[t,d]),S=(0,Q.useCallback)((g,f,a,i)=>{let x={};g!==void 0&&(x.gridRowStart=g||void 0),f!==void 0&&(x.gridRowEnd=f||void 0),a!==void 0&&(x.gridColumnStart=a||void 0),i!==void 0&&(x.gridColumnEnd=i||void 0),s(x)},[s]);return{setArea:m,setTracks:S,set:t,setMany:s,unset:d}}var de=l(A()),me=l(_()),fe=l(k());var kt=l(k()),ye=l(A()),be=l(_());var Se=l(k()),xe=l(A()),Rr=l(_());var he=l(A()),Mr=l(_()),Te=l(k());var ke=l(A()),Ae=l(_());var we=l(A()),Ee=l(_()),Re=l(k());var zr=Object.freeze({});var Et=l(A()),_e=l(wt());function $(e,t,s){return Math.min(Math.max(e,t),s)}function T(e,t=1){let s=Number(e);return Number.isFinite(s)?s:t}function G(e){if(typeof e=="number")return Number.isInteger(e);let t=String(e);return/^-?\d+$/.test(t)}function tt(e,t=1){let s=parseInt(e,10);return Number.isFinite(s)&&s!==0?s:t}function Rt(e){let t=parseInt(e,10);return Number.isFinite(t)?t:""}var et=e=>{let t={start:"",span:"",end:""},s=String(e||"").trim();if(!s)return t;let d=s.split("/").map(f=>f.trim());if(d.length===1)return/^span\s+\d+$/i.test(d[0])?t.span=d[0].replace(/^span\s+/i,""):t.start=d[0],t;let m=d[0],S=d[1];t.start=m||"auto";let g=/^span\s+(\d+)$/i.exec(S);return g?t.span=g[1]:t.end=S,t};var rt=e=>{let t=new Set,s=/\[([^\]]+)\]/g,d;for(;(d=s.exec(String(e||"")))!==null;){let m=d[1].trim();m&&m.split(/\s+/).forEach(S=>t.add(S))}return Array.from(t)},_t=e=>/\//.test(String(e||""))||/\bspan\s+\d+\b/i.test(String(e||""));var It=Number.MAX_SAFE_INTEGER;function Ie({attributes:e,setMany:t,parentMeta:s}){let d=_t(e.gridArea),{columns:m,rows:S,columnTemplate:g,rowTemplate:f}=s,a=(0,p.useMemo)(()=>et(e.gridColumn),[e.gridColumn]),i=(0,p.useMemo)(()=>et(e.gridRow),[e.gridRow]),x=a.end?"end":"span",I=i.end?"end":"span",[C,M]=(0,p.useState)(x),[B,K]=(0,p.useState)(I);(0,p.useEffect)(()=>{M(x)},[x]),(0,p.useEffect)(()=>{K(I)},[I]);let n=V(t,"gridColumn",C),o=V(t,"gridRow",B),r=(0,p.useMemo)(()=>rt(g),[g]),u=(0,p.useMemo)(()=>rt(f),[f]),b=r.length>0,w=u.length>0,F=(c,y)=>y?G(c)?"number":"named":"number",vt=c=>c?G(c)?"number":c==="auto"?"auto":"named":"number",nt=(c,y)=>{let X=vt(c);return y?X:X==="named"?"number":X},$t=F(a.start,b),Ct=F(i.start,w),Mt=nt(a.end,b),Bt=nt(i.end,w),O=(0,p.useMemo)(()=>{if(!m||!G(a.start))return It;let c=$(T(a.start,1),1,m);return Math.max(1,m-c+1)},[m,a.start]),N=(0,p.useMemo)(()=>{if(!S||!G(i.start))return It;let c=$(T(i.start,1),1,S);return Math.max(1,S-c+1)},[S,i.start]),[Dt,Y]=(0,p.useState)(null),[Pt,H]=(0,p.useState)(null);(0,p.useEffect)(()=>{Y(null)},[e.gridColumn]),(0,p.useEffect)(()=>{H(null)},[e.gridRow]);let Gt=(0,p.useCallback)(c=>{let y=T(c,1);a.end?n({start:y,end:a.end}):n({start:y,span:$(T(a.span,1),1,O)})},[a.end,a.span,O,n]),Ot=(0,p.useCallback)(c=>{let y=String(c||"auto").trim()||"auto";a.end?n({start:y,end:a.end}):n({start:y,span:T(a.span,1)})},[a.end,a.span,n]),Nt=(0,p.useCallback)(c=>{let y=$(T(c,1),1,O);n({start:a.start||"auto",span:y})},[a.start,O,n]),Lt=(0,p.useCallback)(c=>{Y(c),c!==0&&(n({start:a.start||"auto",end:tt(c,1)}),Y(null))},[a.start,n]),jt=(0,p.useCallback)(c=>{n({start:a.start||"auto",end:String(c||"auto").trim()||"auto"})},[a.start,n]),Ut=(0,p.useCallback)(()=>{n({start:a.start||"auto",end:"auto"})},[a.start,n]),Kt=(0,p.useCallback)(c=>{let y=T(c,1);i.end?o({start:y,end:i.end}):o({start:y,span:$(T(i.span,1),1,N)})},[i.end,i.span,N,o]),Ft=(0,p.useCallback)(c=>{let y=String(c||"auto").trim()||"auto";i.end?o({start:y,end:i.end}):o({start:y,span:T(i.span,1)})},[i.end,i.span,o]),Yt=(0,p.useCallback)(c=>{let y=$(T(c,1),1,N);o({start:i.start||"auto",span:y})},[i.start,N,o]),Ht=(0,p.useCallback)(c=>{H(c),c!==0&&(o({start:i.start||"auto",end:tt(c,1)}),H(null))},[i.start,o]),Wt=(0,p.useCallback)(c=>{o({start:i.start||"auto",end:String(c||"auto").trim()||"auto"})},[i.start,o]),zt=(0,p.useCallback)(()=>{o({start:i.start||"auto",end:"auto"})},[i.start,o]);return{hasArea:d,disabledLines:d,numbers:{isIntToken:G,toInt:T,parseSigned:Rt},column:{values:{...a},modes:{uiStart:$t,uiEnd:Mt,mode:C},setMode:M,named:{lines:r,hasLines:b},caps:{span:O},drafts:{end:Dt,setEnd:Y},handlers:{onStartNumber:Gt,onStartNamed:Ot,onSpan:Nt,onEndNumber:Lt,onEndNamed:jt,onEndAuto:Ut}},row:{values:{...i},modes:{uiStart:Ct,uiEnd:Bt,mode:B},setMode:K,named:{lines:u,hasLines:w},caps:{span:N},drafts:{end:Pt,setEnd:H},handlers:{onStartNumber:Kt,onStartNamed:Ft,onSpan:Yt,onEndNumber:Ht,onEndNamed:Wt,onEndAuto:zt}}}}})();
