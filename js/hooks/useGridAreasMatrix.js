(()=>{var bt=Object.create;var X=Object.defineProperty;var St=Object.getOwnPropertyDescriptor;var xt=Object.getOwnPropertyNames;var ht=Object.getPrototypeOf,Tt=Object.prototype.hasOwnProperty;var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kt=(e,t,c,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xt(t))!Tt.call(e,i)&&i!==c&&X(e,i,{get:()=>t[i],enumerable:!(a=St(t,i))||a.enumerable});return e};var u=(e,t,c)=>(c=e!=null?bt(ht(e)):{},kt(t||!e||!e.__esModule?X(c,"default",{value:e,enumerable:!0}):c,e));var h=O((oe,q)=>{q.exports=wp.element});var T=O((se,Z)=>{Z.exports=wp.data});var I=O((ie,J)=>{J.exports=wp.blockEditor});var ft=O((Cr,mt)=>{mt.exports=wp.preferences});var k=u(h());var vt=u(T()),$t=u(I()),lt=u(h());var x={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"]},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var Q=e=>Array.isArray(e)?e:[],wt=e=>new Set(Q(e));function A(e){return Object.fromEntries(Object.entries(x.attributes).filter(([t,c])=>c.group===e))}var tt=A("display"),et=A("dimension"),rt=A("margin"),nt=A("padding"),ot=A("flex"),st=A("flex-item"),it=A("grid"),j=A("grid-item"),ct=A("position"),ut=A("shared"),ae={...tt,...et,...rt,...nt,...ot,...st,...it,...j,...ct,...ut},at=new Set([...Object.keys(j)]),pe=Q(x?.collections?.editorStyles),pt=wt(x?.collections?.unitless),Et=x?.settings?.gridUnit||"1fr",le=!!x?.settings?.appendImportantToMirroredStyles,de=x?.settings?.styleTagId||"costered-blocks-style-mirror",U=x?.settings?.reduxStoreKey||"costered/ui",me=x?.settings?.breakpoints?.mobile??782,fe=x?.settings?.breakpoints?.tablet??1024,ge=x?.settings?.breakpoints?.desktop??1440;var Rt=new Set([...Object.keys(tt),...Object.keys(et),...Object.keys(nt),...Object.keys(rt),...Object.keys(ot),...Object.keys(st),...Object.keys(it),...Object.keys(j),...Object.keys(ct),...Object.keys(ut)]),ye=Object.fromEntries(Object.entries(x.attributes).map(([e,t])=>[e,t.css]));var $=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t},K=(e,t,c)=>{c==null||c===""?Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]:e[t]=c},F=e=>e==null||e===""||e==="null"||e==="undefined";var _t="desktop",It=Object.freeze({});function B(e,t){let c=e||It,a={...c},i=$(c.costered),S=d=>{switch(d){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},f=(d,y=void 0)=>{let b=!!(y&&y.cascade),v=y&&Object.prototype.hasOwnProperty.call(y,"raw")?!!y.raw:!b,R=t||_t;if(v){let n=i?.[R]?.styles?.[d];return F(n)?void 0:n}let m=S(R);for(let n of m){let s=i?.[n]?.styles?.[d];if(!F(s))return s}};return Object.defineProperties(a,{$get:{value:f,enumerable:!1},$getCascade:{value:d=>f(d,{cascade:!0}),enumerable:!1},$getMany:{value:(d,y)=>{let b={};for(let w of d)b[w]=f(w,y);return b},enumerable:!1},$bp:{value:t,enumerable:!1}}),a}var E=u(h()),M=u(T());var Ct=e=>typeof e=="string"&&e.trim().length>0,Mt=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=Date.now().toString(36),t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},D=e=>{e&&!Ct(e.costeredId)&&(e.costeredId=Mt())};var P=u(T());var Bt=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},Dt=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},C=e=>{try{let c=(0,P.select)(U);if(c&&typeof c.getBreakpoint=="function"){let a=c.getBreakpoint();if(a)return a}}catch{}let t=Dt(e);if(t)return Bt(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let c=(0,P.select)(STORE_KEY),a=c&&typeof c.getBreakpoint=="function"?c.getBreakpoint():null,i=(0,P.select)("core/edit-post"),S=i&&(typeof i.getPreviewDeviceType=="function"&&i.getPreviewDeviceType()||typeof i.__experimentalGetPreviewDeviceType=="function"&&i.__experimentalGetPreviewDeviceType()),f=(0,P.select)("core/edit-site"),p=f&&(typeof f.getDeviceType=="function"&&f.getDeviceType()||typeof f.__experimentalGetPreviewDeviceType=="function"&&f.__experimentalGetPreviewDeviceType()||typeof f.getPreviewDeviceType=="function"&&f.getPreviewDeviceType())}}catch{}return"desktop"};var Pt="desktop";function G(e,t,c={trim:!0,emptyUnsets:!0,breakpoint:void 0}){let{trim:a=!0,emptyUnsets:i=!0,breakpoint:S}=c,f=(0,M.useSelect)(C,[]),p=S||f||Pt,{updateBlockAttributes:l}=(0,M.useDispatch)("core/block-editor"),d=(0,E.useMemo)(()=>{if(typeof e=="string"&&!t){let n=e;return s=>{if(n)if(typeof s=="function"){let r=(0,M.select)("core/block-editor").getBlockAttributes(n)||{},o=s(r)||r;l(n,o)}else l(n,s||{})}}if(typeof e=="function"&&typeof t=="string"){let n=e,s=t;return r=>{if(s)if(typeof r=="function"){let o=(0,M.select)("core/block-editor").getBlockAttributes(s)||{},g=r(o)||o;try{n(s,g)}catch{n(g)}}else try{n(s,r||{})}catch{n(r||{})}}}return typeof e=="function"?e:()=>{}},[e,t,l]),y=(0,E.useCallback)((n,s)=>{if(n==null)return;if(at.has(s)){let o=typeof n=="string"&&a?n.trim():String(n);return i&&o===""?void 0:o}let r=n;if(a&&typeof r=="string"&&(r=r.trim()),!(i&&(r===""||r=="null"||r=="undefined"))){if(pt.has(s)){if(typeof r=="string"&&/^-?\d+(\.\d+)?$/.test(r)){let o=Number(r);return Number.isFinite(o)?o:void 0}return typeof r=="number"&&Number.isFinite(r)?r:void 0}if(typeof r=="number")return Number.isFinite(r)?r:void 0;if(typeof r=="string")return r==="null"||r==="undefined"?void 0:r;try{return String(r)}catch{return}}},[a,i]),b=(0,E.useCallback)((n,s)=>{d(r=>{let o={...r||{}};D(o),o.costered=$(o.costered);let g={...o.costered[p].styles},_=y(s,n);return K(g,n,_),o.costered[p]={...o.costered[p],styles:g},o})},[d,p,y]),w=(0,E.useCallback)(n=>{!n||typeof n!="object"||d(s=>{let r={...s||{}};D(r),r.costered=$(r.costered);let o={...r.costered[p].styles};for(let[g,_]of Object.entries(n)){let z=y(_,g);K(o,g,z)}return r.costered[p]={...r.costered[p],styles:o},r})},[d,p,y]),v=(0,E.useCallback)(n=>{d(s=>{let r={...s||{}};D(r),r.costered=$(r.costered);let o={...r.costered[p].styles};return n in o?(delete o[n],r.costered[p]={...r.costered[p],styles:o},r):s})},[d,p]),R=(0,E.useCallback)(n=>{!Array.isArray(n)||n.length===0||d(s=>{let r={...s||{}};D(r),r.costered=$(r.costered);let o={...r.costered[p].styles},g=!1;for(let _ of n)_ in o&&(delete o[_],g=!0);return g?(r.costered[p]={...r.costered[p],styles:o},r):s})},[d,p]),m=(0,E.useCallback)(n=>({set:(s,r)=>b(`${n}${s}`,r),setMany:s=>{let r={};for(let[o,g]of Object.entries(s))r[`${n}${o}`]=g;w(r)},unset:s=>v(`${n}${s}`),unsetMany:s=>R(s.map(r=>`${n}${r}`))}),[b,w,v,R]);return{set:b,setMany:w,unset:v,unsetMany:R,withPrefix:m,activeBreakpoint:p}}var N=u(h());var Fe=Number.MAX_SAFE_INTEGER;var Ot=u(h());var Nt=u(T()),Lt=u(I()),jt=u(h());var dt=u(h()),Kt=u(T()),Ft=u(I());var Yt=u(h()),Ht=u(T()),ur=u(I());var Y=u(T()),fr=u(I()),H=u(h());function W(e){let{parentId:t,parentBlock:c}=(0,Y.useSelect)(f=>{let p=f("core/block-editor"),l=e||p.getSelectedBlockClientId();if(!l)return{parentId:null,parentBlock:null};let d=p.getBlockRootClientId(l);return d?{parentId:d,parentBlock:p.getBlock(d)||null}:{parentId:null,parentBlock:null}},[e]),a=(0,Y.useSelect)(C,[]),i=(0,H.useMemo)(()=>c?.attributes?B(c.attributes,a):null,[c?.attributes,a]),S=(0,H.useMemo)(()=>{let f=i?.$get?.("display",{cascade:!0})??"";return/^(grid|inline-grid)$/i.test(String(f).trim())},[i,i?.$bp]);return{parentId:t,parentBlock:c,parent:i,isGrid:S,display:i?.$get("display",{cascade:!0}),cols:i?.$get("gridTemplateColumns",{cascade:!0}),rows:i?.$get("gridTemplateRows",{cascade:!0}),areas:i?.$get("gridTemplateAreas",{cascade:!0})}}var Wt=u(T()),zt=u(I());var Vt=u(T()),Xt=u(I()),qt=u(h());var vr=Object.freeze({});var gt=u(T()),Zt=u(ft());var Qt=e=>{if(!e||typeof e!="string")return[];let t=e.split(/"\s*"\s*|'\s*'\s*|[\r\n]+/).map(c=>c.replace(/['"]/g,"").trim()).filter(Boolean);return t.length?t.map(c=>c.split(/\s+/)):[]},te=e=>!Array.isArray(e)||!e.length?"":e.map(t=>`"${t.join(" ")}"`).join(`
`);function Jt(e){let t=W(e),c=t?.parentId??null,a=t?.parentBlock??null,i=t&&t.parentAugmented||t&&t.parentAttrs||null,{set:S}=G(c),f=(0,k.useMemo)(()=>{let m;return i&&typeof i.$get=="function"&&(m=i.$get("gridTemplateAreas",{cascade:!0}),typeof m=="string"&&m.trim()),m},[i&&i.$bp,a&&a.attributes&&a.attributes.gridTemplateAreas]),p=(0,k.useMemo)(()=>{if(t&&typeof t.isGrid=="boolean")return t.isGrid;let m;i&&typeof i.$get=="function"?m=i.$get("display",{cascade:!0})||"":m=a&&a.attributes&&a.attributes.display},[t&&t.isGrid,i&&i.$bp,a&&a.attributes&&a.attributes.display]),l=(0,k.useMemo)(()=>p?Qt(f):[],[p,f]),d=(0,k.useMemo)(()=>({count:l.length?l[0].length:0}),[l]),y=(0,k.useMemo)(()=>({count:l.length}),[l]),b=(0,k.useCallback)(m=>{if(!Array.isArray(m)||!m.length){S("gridTemplateAreas","");return}let n=Math.max(0,...m.map(r=>Array.isArray(r)?r.length:0)),s=m.map(r=>{let o=Array.isArray(r)?r.slice(0,n):[];for(;o.length<n;)o.push(".");return o.map(g=>g&&String(g).trim()||".")});S("gridTemplateAreas",te(s))},[S]),w=(0,k.useCallback)((m,n,s)=>{if(!Array.isArray(l)||!l.length)return;let r=l.map(g=>g.slice()),o=r[m];o&&(o[n]=s&&String(s).trim()||".",b(r))},[l,b]),v=(0,k.useCallback)(({rows:m,cols:n})=>{let s=Math.max(0,Number(m)||0),r=Math.max(0,Number(n)||0),o=l.length,g=l.length?l[0].length:0,_=Array.from({length:s}).map((z,L)=>{let yt=L<o?l[L]:[];return Array.from({length:r}).map((re,V)=>L<o&&V<g&&yt[V]||".")});b(_)},[l,b]),R=(0,k.useCallback)(()=>S("gridTemplateAreas",""),[S]);return{matrix:l,columnData:d,rowData:y,setCell:w,resize:v,clear:R}}})();
