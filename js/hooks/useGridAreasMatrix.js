(()=>{var jt=Object.create;var pt=Object.defineProperty;var Wt=Object.getOwnPropertyDescriptor;var Ut=Object.getOwnPropertyNames;var Ht=Object.getPrototypeOf,Kt=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ft=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Ut(e))!Kt.call(t,r)&&r!==n&&pt(t,r,{get:()=>e[r],enumerable:!(o=Wt(e,r))||o.enumerable});return t};var k=(t,e,n)=>(n=t!=null?jt(Ht(t)):{},Ft(e||!t||!t.__esModule?pt(n,"default",{value:t,enumerable:!0}):n,t));var R=Y((Me,dt)=>{dt.exports=wp.element});var v=Y((Be,lt)=>{lt.exports=wp.data});var N=Y((Ie,mt)=>{mt.exports=wp.blockEditor});var Gt=Y((qn,Nt)=>{Nt.exports=wp.preferences});var M=k(R());var Jt=k(v()),Qt=k(N()),Mt=k(R());var C={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var ft=t=>Array.isArray(t)?t:[],Vt=t=>new Set(ft(t));function B(t){return Object.fromEntries(Object.entries(C.attributes).filter(([e,n])=>n.group===t))}var gt=B("display"),yt=B("dimension"),kt=B("margin"),bt=B("padding"),St=B("flex"),wt=B("flex-item"),xt=B("grid"),q=B("grid-item"),At=B("position"),ht=B("shared"),_e={...gt,...yt,...kt,...bt,...St,...wt,...xt,...q,...At,...ht},Tt=new Set([...Object.keys(q)]),De=ft(C?.collections?.editorStyles),Ct=Vt(C?.collections?.unitless),Z=C?.settings?.gridUnit||"1fr",$e=!!C?.settings?.appendImportantToMirroredStyles,Oe=C?.settings?.styleTagId||"costered-blocks-style-mirror",J=C?.settings?.reduxStoreKey||"costered/ui",Ne=C?.settings?.breakpoints?.mobile??782,Ge=C?.settings?.breakpoints?.tablet??1024,Le=C?.settings?.breakpoints?.desktop??1440,je=C?.collections?.clearSets?.gridAreas,We=C?.collections?.clearSets?.gridColumns,Ue=C?.collections?.clearSets?.gridRows;var zt=new Set([...Object.keys(gt),...Object.keys(yt),...Object.keys(bt),...Object.keys(kt),...Object.keys(St),...Object.keys(wt),...Object.keys(xt),...Object.keys(q),...Object.keys(At),...Object.keys(ht)]),He=Object.fromEntries(Object.entries(C.attributes).map(([t,e])=>[t,e.css]));var P=t=>{let e=t||{},n=r=>{if(Array.isArray(r))return r;if(r&&typeof r=="object"){let i=[];for(let[a,u]of Object.entries(r))u!==void 0&&i.push({property:a,value:u});return i}return[]},o={desktop:{styles:[]},tablet:{styles:[]},mobile:{styles:[]},...e};return o.desktop={styles:n(e.desktop.styles),...e.desktop||{}},o.tablet={styles:n(e.tablet.styles),...e.tablet||{}},o.mobile={styles:n(e.mobile.styles),...e.mobile||{}},o};var Q=t=>t==null||t===""||t==="null"||t==="undefined";function Xt(t){return Array.isArray(t)}function tt(t){if(Xt(t)){let[e,n,o]=t;return o!==void 0?{property:e,value:n,important:o}:{property:e,value:n}}return t}function Rt(t){if(!Array.isArray(t)||t.length===0)return[];let e=[];for(let n=0;n<t.length;n++)e.push(tt(t[n]));return e}function et(t,e,n,o){let r=Array.isArray(t)?t.slice():[],i=-1;for(let u=0;u<r.length;u++)if(tt(r[u]).property===e){i=u;break}let a=o!==void 0?{property:e,value:n,important:o}:{property:e,value:n};return i===-1?r.push(a):r[i]=a,r}function L(t,e){let n=Array.isArray(t)?Array.from(t):[],o=[];for(let r=0;r<n.length;r++)tt(n[r]).property!==e&&o.push(n[r]);return o}var qt="desktop",Zt=Object.freeze({});function vt(t,e){let n=Rt(t);for(let o=0;o<n.length;o++){let r=n[o];if(r.property===e)return r.value}}function G(t,e){let n=t||Zt,o={...n},r=P(n.costered),i=S=>{switch(S){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},a=(S,f={})=>{let h=f&&Object.prototype.hasOwnProperty.call(f,"cascade")?!!f.cascade:!0,A=f&&Object.prototype.hasOwnProperty.call(f,"raw")?!!f.raw:!h,m=e||qt;if(A){let b=vt(r?.[m]?.styles,S);return Q(b)?void 0:b}let y=i(m);for(let b of y){let g=vt(r?.[b]?.styles,S);if(!Q(g))return g}};return Object.defineProperties(o,{$get:{value:a,enumerable:!1},$getCascade:{value:S=>a(S,{cascade:!0}),enumerable:!1},$getMany:{value:(S,f)=>{let h={};for(let A=0;A<S.length;A++){let m=S[A];h[m]=a(m,f)}return h},enumerable:!1},$bp:{value:e,enumerable:!1}}),o}var E=k(R()),D=k(v());function te(t){return typeof t=="string"&&t.trim().length>0}function ee(){let t=globalThis?.crypto?.randomUUID;if(typeof t=="function")return t.call(globalThis.crypto);let e=Date.now().toString(36),n=Math.random().toString(36).slice(2,10);return`${e}-${n}`}function j(t){t&&(te(t.costeredId)||(t.costeredId=ee()))}var W=k(v());var ne=t=>{let e=String(t??"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},re=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},_=t=>{try{let n=(0,W.select)(J);if(n&&typeof n.getBreakpoint=="function"){let o=n.getBreakpoint();if(o)return o}}catch{}let e=re(t);if(e)return ne(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let n=(0,W.select)(STORE_KEY),o=n&&typeof n.getBreakpoint=="function"?n.getBreakpoint():null,r=(0,W.select)("core/edit-post"),i=r&&(typeof r.getPreviewDeviceType=="function"&&r.getPreviewDeviceType()||typeof r.__experimentalGetPreviewDeviceType=="function"&&r.__experimentalGetPreviewDeviceType()),a=(0,W.select)("core/edit-site"),u=a&&(typeof a.getDeviceType=="function"&&a.getDeviceType()||typeof a.__experimentalGetPreviewDeviceType=="function"&&a.__experimentalGetPreviewDeviceType()||typeof a.getPreviewDeviceType=="function"&&a.getPreviewDeviceType())}}catch{}return"desktop"};var oe="desktop";function V(t,e,n={trim:!0,emptyUnsets:!0}){let o=(typeof e=="object"?e:n)||{},{trim:r=!0,emptyUnsets:i=!0,breakpoint:a}=o,u=(0,D.useSelect)(_,[]),p=a||u||oe,{updateBlockAttributes:S}=(0,D.useDispatch)("core/block-editor"),f=(0,E.useMemo)(()=>{if(typeof t=="string"){let c=t;return d=>{if(c)if(typeof d=="function"){let s=(0,D.select)("core/block-editor")?.getBlockAttributes(c)||{},l=d(s)||s;S(c,l)}else S(c,d||{})}}if(typeof t=="function"&&typeof e=="string"){let c=t,d=e;return s=>{if(!d)return;if(typeof s=="function"){let w=(0,D.select)("core/block-editor")?.getBlockAttributes(d)||{},T=s(w)||w;try{c(d,T)}catch{c(T)}return}let l=s||{};try{c(d,l)}catch{c(l)}}}if(typeof t=="function"){let c=t;return d=>{if(typeof d=="function"){let s=d({});c(s)}else c(d||{})}}return()=>{}},[t,e,S]),h=(0,E.useCallback)((c,d)=>{if(c==null)return;if(Tt.has(d)){let l=typeof c=="string"&&r?c.trim():String(c);return i&&l===""?void 0:l}let s=c;if(r&&typeof s=="string"&&(s=s.trim()),!(i&&(s===""||s=="null"||s=="undefined"))){if(Ct.has(d)){if(typeof s=="string"&&/^-?\d+(\.\d+)?$/.test(s)){let l=Number(s);return Number.isFinite(l)?l:void 0}return typeof s=="number"&&Number.isFinite(s)?s:void 0}if(typeof s=="number")return Number.isFinite(s)?s:void 0;if(typeof s=="string")return s==="null"||s==="undefined"?void 0:s;try{return String(s)}catch{return}}},[r,i]),A=(0,E.useCallback)((c,d)=>{f(s=>{let l={...s||{}};j(l),l.costered=P(l.costered);let w=l.costered[p].styles,T=h(d,c),I=T===void 0?L(w,c):et(w,c,T);return l.costered[p]={...l.costered[p],styles:I},l})},[f,p,h]),m=(0,E.useCallback)(c=>{!c||typeof c!="object"||f(d=>{let s={...d||{}};j(s),s.costered=P(s.costered);let w=s.costered[p].styles;for(let[T,I]of Object.entries(c)){let F=h(I,T);w=F===void 0?L(w,T):et(w,T,F)}return s.costered[p]={...s.costered[p],styles:w||[]},s})},[f,p,h]),y=(0,E.useCallback)(c=>{f(d=>{let s={...d||{}};j(s),s.costered=P(s.costered);let l=s.costered[p].styles,w=L(l,c);return(l?.length||0)===w.length?d:(s.costered[p]={...s.costered[p],styles:w},s)})},[f,p]),b=(0,E.useCallback)(c=>{!Array.isArray(c)||c.length===0||f(d=>{let s={...d||{}};j(s),s.costered=P(s.costered);let w=s.costered[p]?.styles;for(let T=0;T<c.length;T++)w=L(w,c[T]);return s.costered[p]={...s.costered[p],styles:w||[]},s})},[f,p]),g=(0,E.useCallback)(c=>({set:(d,s)=>A(`${c}${d}`,s),setMany:d=>{let s={};for(let[l,w]of Object.entries(d))s[`${c}${l}`]=w;m(s)},unset:d=>y(`${c}${d}`),unsetMany:d=>b(d.map(s=>`${c}${s}`))}),[A,m,y,b]);return{set:A,setMany:m,unset:y,unsetMany:b,withPrefix:g,activeBreakpoint:p}}var z=k(R());var xn=Number.MAX_SAFE_INTEGER;var ue=k(R());var it=k(v()),Dt=k(N()),ut=k(R());function rt(t){return String(t??"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function ae(t){let e=String(t??"").trim();if(!e)return[];let n=0,o=0,r="",i=[];for(let a=0;a<e.length;a++){let u=e[a];if(u==="("){n++,r+=u;continue}if(u===")"){n=Math.max(0,n-1),r+=u;continue}if(u==="["){o++,r+=u;continue}if(u==="]"){o=Math.max(0,o-1),r+=u;continue}if(u===" "&&n===0&&o===0){r&&(i.push(r),r="");continue}r+=u}return r&&i.push(r),i}function ce(t){let e=String(t??"").trim();if(!e)return null;let n=e.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!n||n[1]===void 0||n[2]===void 0)return null;let o=Number.parseInt(n[1],10),r=n[2].trim();return!Number.isFinite(o)||o<0||r===""?null:{count:o,unit:r}}function pe(t,e=Z){return t>0?`repeat(${t}, ${e})`:null}function H(t,e=Z){if(!t||typeof t!="string")return{count:0,unit:e};let n=t.trim();if(!n)return{count:0,unit:e};if(/^subgrid\b/i.test(n))return{count:0,unit:e};if(n=n.replace(/\[[^\]]*]/g," ").trim(),!n)return{count:0,unit:e};let o=n.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(o){let i=o[2];return{count:0,unit:nt(i,e)}}let r=de(n,e);return{count:r.count,unit:r.unit||e}}function de(t,e){let n=Bt(t);if(n){let u=n.inner.trim(),S=U(u).length,f=nt(u,e);return{count:n.times*S,unit:f||e}}let o=U(t),r=0,i="";for(let u of o){if(/^\s*repeat\(/i.test(u)){let p=It(u);if(p){r+=p.count,!i&&p.unitHint&&(i=p.unitHint);continue}r+=1;continue}r+=1,!i&&X(u)&&(i=$(u)??"")}let a=i||nt(t,e);return{count:r,unit:a||e}}function Bt(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let n=parseInt(e[1],10),o=e[2];return!Number.isFinite(n)||n<0?null:{times:n,inner:o}}function It(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let n=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let o=parseInt(n[1],10)||0;if(o<=0)return{count:0,unitHint:""};let r=n[2].trim(),i=U(r),a=o*i.length,u="";if(i.length===1)u=$(i[0])??"";else{let p=i.find(X);u=$(p)??""}return{count:a,unitHint:u}}function U(t){let e=[],n=0,o="";for(let r=0;r<t.length;r++){let i=t[r];if(i==="("){n++,o+=i;continue}if(i===")"){n=Math.max(0,n-1),o+=i;continue}if(n===0&&/\s/.test(i)){o.trim()&&e.push(o.trim()),o="";continue}o+=i}return o.trim()&&e.push(o.trim()),e}function nt(t,e){if(!t)return e;let n=Bt(t);if(n){let i=U(n.inner);if(i.length===1)return $(i[0])||e;let a=i.find(X);if(a)return $(a)||e}let o=U(t);if(o.length===1)return $(o[0])||e;let r=o.find(X);if(r)return $(r)||e;for(let i of o){let a=It(i);if(a&&a.unitHint)return a.unitHint}return e}function X(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function $(t){return t?t.trim():""}function x(t){let e=Number(t);return Number.isFinite(e)&&e>=0?Math.floor(e):0}function Et(t){let e=String(t??"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let n=[],o=/"([^"]*)"|'([^']*)'/g,r;for(;r=o.exec(e);){let a=(r[1]??r[2]??"").trim();a&&n.push(a)}return n.length?{hasAreas:!0,cols:n.reduce((a,u)=>{let p=u.split(/\s+/).filter(Boolean).length;return Math.max(a,p)},0),rows:n.length}:{hasAreas:!1,cols:0,rows:0}}function Pt(t,e="."){if(!Array.isArray(t)||t.length===0)return"";let n=t.map(r=>(Array.isArray(r)?r:[]).map(i=>{let a=String(i??"").trim();return a===""?e:a}));return n.some(r=>r.some(i=>i!==e))?n.map(r=>`"${r.join(" ")}"`).join(" "):""}function _t(t,e="."){let n=String(t??"").trim();if(!n)return[];let o=[],r=/"([^"]*)"|'([^']*)'/g,i;for(;i=r.exec(n);){let a=(i[1]??i[2]??"").trim(),u=a.length?a.split(/\s+/g).map(p=>p&&p!==e?p:e):[];o.push(u)}return o}function K(t,e,n,o){let r=x(e),i=x(n);if(r===0||i===0)return[];let a=Array.isArray(t)?t:[],u=[];for(let p=0;p<i;p++){let S=Array.isArray(a[p])?a[p]:[],f=Array.from({length:r},(h,A)=>{let m=S[A];return m===void 0?o:m});u.push(f)}return u}function ot(t){let e=String(t??"").trim();if(!e||/^subgrid\b/i.test(e))return 0;let n=e.replace(/\[[^\]]*\]/g," ").trim();return n=n.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(o,r,i)=>Array.from({length:parseInt(r,10)||0},()=>"X").join(" ")),n=n.replace(/\s+/g," ").trim(),n?n.split(" ").filter(Boolean).length:0}function le(t){let e=ce(t);if(!e)return null;let n=rt(pe(e.count,e.unit));return{mode:"simple",template:t?String(t):null,normalised:n,simple:{count:e.count,unit:e.unit}}}function me(t){let e=ae(t);if(!e.length)return null;let n=rt(e.join(" "));return{mode:"tracks",template:t?String(t):null,normalised:n,tracks:e}}var fe=[le,me];function st(t){let e=t??"";for(let n of fe){let o=n(e);if(o)return o}return{mode:"raw",template:t?String(t):null,normalised:rt(t??"")}}function at(t){let e=(0,it.useSelect)(i=>t?i(Dt.store).getBlock(t)?.attributes??void 0:void 0,[t]),n=(0,it.useSelect)(_,[]),o=(0,ut.useMemo)(()=>e&&n?G(e,n):void 0,[e,n]);if(!o)return;let r=i=>String(o.$get(i)??"");return(0,ut.useMemo)(()=>{let i=r("gridTemplateColumns"),a=r("gridTemplateRows"),u=r("gridTemplateAreas"),p=st(i),S=st(a),f=ot(i),h=ot(a),A={...p,count:f},m={...S,count:h},y=Et(u),b={template:u||"",hasAreas:y.hasAreas,cols:y.cols,rows:y.rows};return{columns:A,rows:m,areas:b,activePane:{columns:A.mode,rows:m.mode}}},[o.$get,o.costered,n])}var O=k(R()),$t=k(v()),Ot=k(N());function ct(t){let{set:e,unset:n}=V(t),o=(0,$t.useSelect)(m=>m(Ot.store)?.getBlock?.(t)?.innerBlocks?.length||0,[t]),r=at(t),i=r?.columns?.template??"",a=r?.rows?.template??"",u=r?.areas?.template??"",p=(0,O.useMemo)(()=>{if(i){let y=H(i),b=x(y?.count??y);if(b>0)return b}let m=x(r?.rows?.count)||(()=>{if(!a)return 0;let y=H(a);return x(y?.count??y)})();return m>0&&o>0?Math.ceil(o/m):0},[i,a,r?.rows?.count,o]),S=(0,O.useMemo)(()=>{let m=x(r?.rows?.count);if(m>0)return m;if(a){let b=H(a),g=x(b?.count??b);if(g>0)return g}let y=x(p);return y>0&&o>0?Math.ceil(o/y):0},[a,r?.rows?.count,p,o]),f=(0,O.useCallback)(m=>{let y=Pt(m,".");y?e("gridTemplateAreas",y):n("gridTemplateAreas")},[e,n]),h=(0,O.useCallback)(()=>{n("gridTemplateAreas")},[n]),A=(0,O.useCallback)((m=".")=>{let y=_t(u,m),b=x(y[0]?.length)||x(p),g=x(y.length)||x(S);return b===0&&g>0&&o>0?b=Math.ceil(o/g):g===0&&b>0&&o>0&&(g=Math.ceil(o/b)),b===0&&(b=1),g===0&&(g=1),K(y.map(d=>d.map(s=>String(s||m))),b,g,m)},[u,p,S,o]);return{areasTemplate:u,trackColumnCount:p,trackRowCount:S,applyMatrixToStore:f,clearAreasInStore:h,seedFromStore:A}}var ge=k(R()),ye=k(v());var ke=k(v()),be=k(R());var Se=k(v()),we=k(N());var xe=k(v()),Ae=k(N()),he=k(R());var zn=Object.freeze({});var Lt=k(v()),Te=k(Gt()),Ce=k(R());function Re(t){let{areasTemplate:e,trackColumnCount:n,trackRowCount:o,applyMatrixToStore:r,clearAreasInStore:i,seedFromStore:a}=ct(t),u=(0,M.useMemo)(()=>a("."),[a]),p=(0,M.useMemo)(()=>({count:u?.[0]?.length||x(n)}),[u,n]),S=(0,M.useMemo)(()=>({count:u?.length||x(o)}),[u,o]),f=(0,M.useCallback)(g=>{let c=g[0]?.length||0,d=g.length||0,s=g.map(w=>w.map(T=>{let I=String(T??"").trim();return I===""?".":I})),l=K(s,c,d,".");r(l)},[r]),h=(0,M.useMemo)(()=>{let g=u?.length||0,c=g&&u[0]?.length||0;return{rows:g,cols:c}},[u]),A=(0,M.useCallback)((g,c)=>g>=0&&g<h.cols&&c>=0&&c<h.rows,[h]),m=(0,M.useCallback)((g,c,d)=>{let s=u;if(s.length===0)return;let l=Math.trunc(x(g))||0,w=Math.trunc(x(c))||0;if(!A(l,w))return;let T=String(d??"").trim()||".",I=s.map(F=>F.slice());I[w][l]=T,f(I)},[u,f,A]),y=(0,M.useCallback)(({rows:g,cols:c})=>{let d=x(g),s=x(c);if(!(d>0&&s>0))return;let l=K(u,s,d,".");f(l)},[u,f]),b=(0,M.useCallback)(()=>i(),[i]);return{matrix:u,columnData:p,rowData:S,setCell:m,resize:y,clear:b}}})();
