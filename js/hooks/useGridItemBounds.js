(()=>{var pt=Object.create;var v=Object.defineProperty;var mt=Object.getOwnPropertyDescriptor;var dt=Object.getOwnPropertyNames;var lt=Object.getPrototypeOf,ft=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var gt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of dt(e))!ft.call(t,o)&&o!==r&&v(t,o,{get:()=>e[o],enumerable:!(n=mt(e,o))||n.enumerable});return t};var u=(t,e,r)=>(r=t!=null?pt(lt(t)):{},gt(e||!t||!t.__esModule?v(r,"default",{value:t,enumerable:!0}):r,t));var d=y((Lt,B)=>{B.exports=wp.element});var f=y((de,tt)=>{tt.exports=wp.data});var E=y((le,et)=>{et.exports=wp.blockEditor});var ut=y((Me,at)=>{at.exports=wp.preferences});var N=u(d());var b=u(d());var ht=u(d());var T={display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}};function m(t){return Object.fromEntries(Object.entries(T).filter(([e,r])=>r.group===t))}var D=m("display"),F=m("dimension"),z=m("margin"),W=m("padding"),K=m("flex"),Y=m("flex-item"),U=m("grid"),_=m("grid-item"),H=m("position"),q=m("shared"),Dt={...D,...F,...z,...W,...K,...Y,...U,..._,...H,...q},St=new Set([...Object.keys(_)]);var k="1fr";var Ft=new Set([...Object.keys(D),...Object.keys(F),...Object.keys(W),...Object.keys(z),...Object.keys(K),...Object.keys(Y),...Object.keys(U),...Object.keys(_),...Object.keys(H),...Object.keys(q)]),zt=Object.fromEntries(Object.entries(T).map(([t,e])=>[t,e.css]));var R=u(d());function O(t){return String(t||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function wt(t){let e=String(t||"").trim();if(!e)return[];let r=0,n=0,o="",s=[];for(let i=0;i<e.length;i++){let a=e[i];if(a==="("){r++,o+=a;continue}if(a===")"){r=Math.max(0,r-1),o+=a;continue}if(a==="["){n++,o+=a;continue}if(a==="]"){n=Math.max(0,n-1),o+=a;continue}if(a===" "&&r===0&&n===0){o&&(s.push(o),o="");continue}o+=a}return o&&s.push(o),s}function bt(t){if(!t)return null;let e=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return e?{count:parseInt(e[1],10),unit:e[2].trim()}:null}function yt(t,e=k){return t>0?`repeat(${t}, ${e})`:null}function M(t,e=k){if(!t||typeof t!="string")return{count:0,unit:e};let r=t.trim();if(!r)return{count:0,unit:e};if(/^subgrid\b/i.test(r))return{count:0,unit:e};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:e};let n=r.match(/repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)$/i);if(n){let i=n[2];return{count:0,unit:Z(i,e)}}let{count:o,unit:s}=V(r,e);return{count:o,unit:s||e}}function V(t,e){let r=X(t);if(r){let i=r.inner.trim(),{count:a,unit:p}=V(i,e);return{count:r.times*a,unit:p||Z(i,e)}}let n=G(t),o=n.length,s="";if(n.length===1)s=h(n[0])||e;else{let i=n.find(J);s=h(i)||e}return{count:o,unit:s}}function X(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10),n=e[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:n}}function G(t){let e=[],r=0,n="";for(let o=0;o<t.length;o++){let s=t[o];if(s==="("){r++,n+=s;continue}if(s===")"){r=Math.max(0,r-1),n+=s;continue}if(r===0&&/\s/.test(s)){n.trim()&&e.push(n.trim()),n="";continue}n+=s}return n.trim()&&e.push(n.trim()),e}function Z(t,e){if(!t)return e;let r=X(t);if(r){let s=G(r.inner);if(s.length===1)return h(s[0])||e}let n=G(t);if(n.length===1)return h(n[0])||e;let o=n.find(J);return h(o)||e}function J(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function h(t){return t?t.trim():""}function Mt(t){let e=bt(t);if(!e)return null;let r=O(yt(e.count,e.unit));return{mode:"simple",template:t||null,normalised:r,simple:{count:e.count,unit:e.unit}}}function At(t){let e=wt(t);if(!e.length)return null;let r=O(e.join(" "));return{mode:"tracks",template:t||null,normalised:r,tracks:e}}var Rt=[Mt,At];function P(t){let e=t||"";for(let r of Rt){let n=r(e);if(n)return n}return{mode:"raw",template:t||null,normalised:O(t||"")}}function Q(t){let e=(t||"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let r=e.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(o=>o.replace(/^['"]|['"]$/g,"").trim()).filter(o=>o&&!/^[\s]+$/.test(o));return r.length?{hasAreas:!0,cols:Math.max(0,...r.map(o=>o.split(/\s+/).filter(Boolean).length)),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function w(t,e="."){let r=String(t||"").trim();if(!r)return[];let n=[];return r.replace(/(['"])(.*?)\1/g,(o,s,i)=>(n.push(i),"")),n.map(o=>o.trim().split(/\s+/).map(s=>s&&s!==e?s:e))}function A(t,e,r,n="."){let o=[];for(let s=0;s<r;s++){let i=t[s]||[],a=Array.from({length:e},(p,x)=>i[x]??n);o.push(a)}return o}var I=u(d());var ce=Number.MAX_SAFE_INTEGER;var Ct=u(d());var rt=u(f()),nt=u(E()),ot=u(d());function C(t){let e=(0,rt.useSelect)(n=>t?n(nt.store).getBlock(t)?.attributes??{}:{},[t]);return(0,ot.useMemo)(()=>{let n=P(e.gridTemplateColumns),o=P(e.gridTemplateRows),s=e.gridTemplateAreas??null,i=Q(s);return{columns:n,rows:o,areas:{template:s,...i},activePane:{columns:n.mode,rows:o.mode}}},[e.gridTemplateColumns,e.gridTemplateRows,e.gridTemplateAreas])}var st=u(d()),$t=u(f()),Tt=u(E());var it=u(f());function j(){return(0,it.useSelect)(t=>{let e=t("core/block-editor"),r=e.getSelectedBlockClientId();if(!r)return{parentId:null,parentAttrs:null,parentBlock:null};let n=e.getBlockRootClientId(r);if(!n)return{parentId:null,parentAttrs:null,parentBlock:null};let o=e.getBlock(n)||null,s=o?.attributes??null;return{parentId:n,parentAttrs:s,parentBlock:o}},[])}var _t=u(f()),kt=u(E());var Gt=u(f());var ct=u(f()),Ot=u(ut());function L(t="."){let{parentId:e}=j(),r=C(e),n=r?.columns?.template??"",o=r?.rows?.template??"",s=r?.areas?.template??"",i=(0,b.useMemo)(()=>{let c=M(n).count;return c>0?c:w(s,t)[0]?.length||0},[n,s,t]),a=(0,b.useMemo)(()=>{let c=M(o).count;return c>0?c:w(s,t).length||0},[o,s,t]),p=(0,b.useMemo)(()=>{let c=w(s,t),l=c[0]?.length||i||1,S=c.length||a||1;return A(c,l,S,t)},[s,i,a,t]),x=(0,b.useMemo)(()=>{let c=new Set;for(let l of p)for(let S of l){let $=String(S||"").trim();$&&$!==t&&c.add($)}return Array.from(c)},[p,t]);return{parentId:e,hasGrid:!!(n||o||s),columns:i,rows:a,matrix:p,areaNames:x,areasTemplate:s,columnTemplate:n,rowTemplate:o,emptyToken:t}}function Pt(t){let{columns:e,rows:r}=L(),n=1,o=e||1/0,s=1,i=r||1/0,a=(0,N.useMemo)(()=>{let g=Number(t.gridColumnStart)||1;return e?Math.max(1,e-g+1):1/0},[t.gridColumnStart,e]),p=(0,N.useMemo)(()=>{let g=Number(t.gridRowStart)||1;return r?Math.max(1,r-g+1):1/0},[t.gridRowStart,r]),x=(0,N.useMemo)(()=>{let g=Math.min(Math.max(Number(t.gridColumnStart)||1,n),o||1),c=Math.min(Math.max(Number(t.gridRowStart)||1,s),i||1),l=Math.min(Math.max(Number(t.gridColumnSpan)||1,1),a||1),S=Math.min(Math.max(Number(t.gridRowSpan)||1,1),p||1);return{gridColumnStart:g,gridColumnSpan:l,gridRowStart:c,gridRowSpan:S}},[t.gridColumnStart,t.gridColumnSpan,t.gridRowStart,t.gridRowSpan,o,i,a,p]);return{colStartMin:n,colStartMax:o,rowStartMin:s,rowStartMax:i,colSpanMin:1,colSpanMax:a,rowSpanMin:1,rowSpanMax:p,clamped:x}}})();
