(()=>{var it=Object.create;var G=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var ut=Object.getOwnPropertyNames;var at=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty;var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ut(e))!pt.call(t,o)&&o!==r&&G(t,o,{get:()=>e[o],enumerable:!(n=ct(e,o))||n.enumerable});return t};var u=(t,e,r)=>(r=t!=null?it(at(t)):{},mt(e||!t||!t.__esModule?G(r,"default",{value:t,enumerable:!0}):r,t));var l=w((Pt,D)=>{D.exports=wp.element});var f=w((qt,J)=>{J.exports=wp.data});var R=w((Zt,Q)=>{Q.exports=wp.blockEditor});var ot=w((oe,nt)=>{nt.exports=wp.preferences});var _=u(l());var M=u(l());var xt=u(l());var v={display:{type:"string"},visibility:{type:"string"},overflow:{type:"string"}},N={width:{type:"string"},height:{type:"string"},maxWidth:{type:"string"},maxHeight:{type:"string"},minWidth:{type:"string"},minHeight:{type:"string"}},lt={marginTop:{type:"string"},marginRight:{type:"string"},marginBottom:{type:"string"},marginLeft:{type:"string"}},L={paddingTop:{type:"string"},paddingRight:{type:"string"},paddingBottom:{type:"string"},paddingLeft:{type:"string"}},K={flexDirection:{type:"string"},flexWrap:{type:"string"},justifyContent:{type:"string"},alignItems:{type:"string"},alignContent:{type:"string"}},Y={flexGrow:{type:"number"},flexShrink:{type:"number"},flexBasis:{type:"string"}},z={gridTemplateColumns:{type:"string"},gridTemplateRows:{type:"string"},gridTemplateAreas:{type:"string"}},b={gridColumn:{type:"string",default:""},gridRow:{type:"string",default:""},gridArea:{type:"string",default:""}},E={gridColumnStart:{type:"string"},gridColumnSpan:{type:"string"},gridColumnEnd:{type:"string"},gridRowStart:{type:"string"},gridRowSpan:{type:"string"},gridRowEnd:{type:"string"}},W={gap:{type:"string"},order:{type:"number"},alignSelf:{type:"string"},justifySelf:{type:"string"}},ft={...v,...N,...lt,...L,...K,...Y,...z,...b,...E,...W},jt=Object.assign({},...Object.values(ft)),dt=["dimensionMode","minDimensionMode","maxDimensionMode","marginMode","paddingMode","gapMode","gapInputMode","gridTemplateColumnsMode","gridTemplateRowsMode"],gt=new Set([...dt]),St=new Set([...Object.keys(b)]);var $="1fr",Gt=new Set([...Object.keys(L)]),Dt=new Set([...Object.keys(N)]),vt=new Set([...Object.keys(E)]),Nt=new Set([{},...Object.keys(v),...Object.keys(K),...Object.keys(Y),...Object.keys(z),...Object.keys(b),...Object.keys(E),...Object.keys(W)]);var C=u(l());function k(t){return String(t||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function ht(t){let e=String(t||"").trim();if(!e)return[];let r=0,n=0,o="",s=[];for(let i=0;i<e.length;i++){let c=e[i];if(c==="("){r++,o+=c;continue}if(c===")"){r=Math.max(0,r-1),o+=c;continue}if(c==="["){n++,o+=c;continue}if(c==="]"){n=Math.max(0,n-1),o+=c;continue}if(c===" "&&r===0&&n===0){o&&(s.push(o),o="");continue}o+=c}return o&&s.push(o),s}function Mt(t){if(!t)return null;let e=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return e?{count:parseInt(e[1],10),unit:e[2].trim()}:null}function wt(t,e=$){return t>0?`repeat(${t}, ${e})`:null}function y(t,e=$){if(!t||typeof t!="string")return{count:0,unit:e};let r=t.trim();if(!r)return{count:0,unit:e};if(/^subgrid\b/i.test(r))return{count:0,unit:e};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:e};let n=r.match(/repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)$/i);if(n){let i=n[2];return{count:0,unit:F(i,e)}}let{count:o,unit:s}=H(r,e);return{count:o,unit:s||e}}function H(t,e){let r=V(t);if(r){let i=r.inner.trim(),{count:c,unit:p}=H(i,e);return{count:r.times*c,unit:p||F(i,e)}}let n=O(t),o=n.length,s="";if(n.length===1)s=x(n[0])||e;else{let i=n.find(q);s=x(i)||e}return{count:o,unit:s}}function V(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10),n=e[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:n}}function O(t){let e=[],r=0,n="";for(let o=0;o<t.length;o++){let s=t[o];if(s==="("){r++,n+=s;continue}if(s===")"){r=Math.max(0,r-1),n+=s;continue}if(r===0&&/\s/.test(s)){n.trim()&&e.push(n.trim()),n="";continue}n+=s}return n.trim()&&e.push(n.trim()),e}function F(t,e){if(!t)return e;let r=V(t);if(r){let s=O(r.inner);if(s.length===1)return x(s[0])||e}let n=O(t);if(n.length===1)return x(n[0])||e;let o=n.find(q);return x(o)||e}function q(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function x(t){return t?t.trim():""}function yt(t){let e=Mt(t);if(!e)return null;let r=k(wt(e.count,e.unit));return{mode:"simple",template:t||null,normalised:r,simple:{count:e.count,unit:e.unit}}}function At(t){let e=ht(t);if(!e.length)return null;let r=k(e.join(" "));return{mode:"tracks",template:t||null,normalised:r,tracks:e}}var Ct=[yt,At];function B(t){let e=t||"";for(let r of Ct){let n=r(e);if(n)return n}return{mode:"raw",template:t||null,normalised:k(t||"")}}function Z(t){let e=(t||"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let r=e.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(o=>o.replace(/^['"]|['"]$/g,"").trim()).filter(o=>o&&!/^[\s]+$/.test(o));return r.length?{hasAreas:!0,cols:Math.max(0,...r.map(o=>o.split(/\s+/).filter(Boolean).length)),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function h(t,e="."){let r=String(t||"").trim();if(!r)return[];let n=[];return r.replace(/(['"])(.*?)\1/g,(o,s,i)=>(n.push(i),"")),n.map(o=>o.trim().split(/\s+/).map(s=>s&&s!==e?s:e))}function A(t,e,r,n="."){let o=[];for(let s=0;s<r;s++){let i=t[s]||[],c=Array.from({length:e},(p,g)=>i[g]??n);o.push(c)}return o}var U=u(f()),X=u(R()),tt=u(l());function I(t){let e=(0,U.useSelect)(n=>t?n(X.store).getBlock(t)?.attributes??{}:{},[t]);return(0,tt.useMemo)(()=>{let n=B(e.gridTemplateColumns),o=B(e.gridTemplateRows),s=e.gridTemplateAreas??null,i=Z(s);return{columns:n,rows:o,areas:{template:s,...i},activePane:{columns:n.mode,rows:o.mode}}},[e.gridTemplateColumns,e.gridTemplateRows,e.gridTemplateAreas])}var et=u(l()),_t=u(f()),Tt=u(R());var rt=u(f());function P(){return(0,rt.useSelect)(t=>{let e=t("core/block-editor"),r=e.getSelectedBlockClientId();if(!r)return{parentId:null,parentAttrs:null,parentBlock:null};let n=e.getBlockRootClientId(r);if(!n)return{parentId:null,parentAttrs:null,parentBlock:null};let o=e.getBlock(n)||null,s=o?.attributes??null;return{parentId:n,parentAttrs:s,parentBlock:o}},[])}var bt=u(f()),Et=u(R());var $t=u(f());var st=u(f()),Ot=u(ot());function j(t="."){let{parentId:e}=P(),r=I(e),n=r?.columns?.template??"",o=r?.rows?.template??"",s=r?.areas?.template??"",i=(0,M.useMemo)(()=>{let a=y(n).count;return a>0?a:h(s,t)[0]?.length||0},[n,s,t]),c=(0,M.useMemo)(()=>{let a=y(o).count;return a>0?a:h(s,t).length||0},[o,s,t]),p=(0,M.useMemo)(()=>{let a=h(s,t),m=a[0]?.length||i||1,S=a.length||c||1;return A(a,m,S,t)},[s,i,c,t]),g=(0,M.useMemo)(()=>{let a=new Set;for(let m of p)for(let S of m){let T=String(S||"").trim();T&&T!==t&&a.add(T)}return Array.from(a)},[p,t]);return{parentId:e,hasGrid:!!(n||o||s),columns:i,rows:c,matrix:p,areaNames:g,areasTemplate:s,columnTemplate:n,rowTemplate:o,emptyToken:t}}function kt(t){let{columns:e,rows:r}=j(),n=1,o=e||1/0,s=1,i=r||1/0,c=(0,_.useMemo)(()=>{let d=Number(t.gridColumnStart)||1;return e?Math.max(1,e-d+1):1/0},[t.gridColumnStart,e]),p=(0,_.useMemo)(()=>{let d=Number(t.gridRowStart)||1;return r?Math.max(1,r-d+1):1/0},[t.gridRowStart,r]),g=(0,_.useMemo)(()=>{let d=Math.min(Math.max(Number(t.gridColumnStart)||1,n),o||1),a=Math.min(Math.max(Number(t.gridRowStart)||1,s),i||1),m=Math.min(Math.max(Number(t.gridColumnSpan)||1,1),c||1),S=Math.min(Math.max(Number(t.gridRowSpan)||1,1),p||1);return{gridColumnStart:d,gridColumnSpan:m,gridRowStart:a,gridRowSpan:S}},[t.gridColumnStart,t.gridColumnSpan,t.gridRowStart,t.gridRowSpan,o,i,c,p]);return{colStartMin:n,colStartMax:o,rowStartMin:s,rowStartMax:i,colSpanMin:1,colSpanMax:c,rowSpanMin:1,rowSpanMax:p,clamped:g}}})();
