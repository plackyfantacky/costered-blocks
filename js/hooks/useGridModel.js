(()=>{var te=Object.create;var E=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ie=Object.getPrototypeOf,oe=Object.prototype.hasOwnProperty;var k=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var se=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of re(e))!oe.call(t,r)&&r!==n&&E(t,r,{get:()=>e[r],enumerable:!(i=ne(e,r))||i.enumerable});return t};var b=(t,e,n)=>(n=t!=null?te(ie(t)):{},se(e||!t||!t.__esModule?E(n,"default",{value:t,enumerable:!0}):n,t));var w=k((he,B)=>{B.exports=wp.data});var O=k((Ae,_)=>{_.exports=wp.blockEditor});var M=k((Te,I)=>{I.exports=wp.element});var C=b(w()),ee=b(O()),P=b(M());var S=b(w());var u={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var $=t=>Array.isArray(t)?t:[],ue=t=>new Set($(t));function l(t){return Object.fromEntries(Object.entries(u.attributes).filter(([e,n])=>n.group===t))}var j=l("display"),G=l("dimension"),L=l("margin"),N=l("padding"),H=l("flex"),K=l("flex-item"),Y=l("grid"),h=l("grid-item"),F=l("position"),V=l("shared"),Ce={...j,...G,...L,...N,...H,...K,...Y,...h,...F,...V},Pe=new Set([...Object.keys(h)]),De=$(u?.collections?.editorStyles),Ee=ue(u?.collections?.unitless),z=u?.settings?.gridUnit||"1fr",Be=!!u?.settings?.appendImportantToMirroredStyles,_e=u?.settings?.styleTagId||"costered-blocks-style-mirror",W=u?.settings?.reduxStoreKey||"costered/ui",Oe=u?.settings?.breakpoints?.mobile??782,Ie=u?.settings?.breakpoints?.tablet??1024,Me=u?.settings?.breakpoints?.desktop??1440,$e=u?.collections?.clearSets?.gridAreas,je=u?.collections?.clearSets?.gridColumns,Ge=u?.collections?.clearSets?.gridRows;var Le=new Set([...Object.keys(j),...Object.keys(G),...Object.keys(N),...Object.keys(L),...Object.keys(H),...Object.keys(K),...Object.keys(Y),...Object.keys(h),...Object.keys(F),...Object.keys(V)]),Ne=Object.fromEntries(Object.entries(u.attributes).map(([t,e])=>[t,e.css]));var ae=t=>{let e=String(t??"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},pe=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},U=t=>{try{let n=(0,S.select)(W);if(n&&typeof n.getBreakpoint=="function"){let i=n.getBreakpoint();if(i)return i}}catch{}let e=pe(t);if(e)return ae(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let n=(0,S.select)(STORE_KEY),i=n&&typeof n.getBreakpoint=="function"?n.getBreakpoint():null,r=(0,S.select)("core/edit-post"),c=r&&(typeof r.getPreviewDeviceType=="function"&&r.getPreviewDeviceType()||typeof r.__experimentalGetPreviewDeviceType=="function"&&r.__experimentalGetPreviewDeviceType()),o=(0,S.select)("core/edit-site"),s=o&&(typeof o.getDeviceType=="function"&&o.getDeviceType()||typeof o.__experimentalGetPreviewDeviceType=="function"&&o.__experimentalGetPreviewDeviceType()||typeof o.getPreviewDeviceType=="function"&&o.getPreviewDeviceType())}}catch{}return"desktop"};function A(t){return String(t??"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function le(t){let e=String(t??"").trim();if(!e)return[];let n=0,i=0,r="",c=[];for(let o=0;o<e.length;o++){let s=e[o];if(s==="("){n++,r+=s;continue}if(s===")"){n=Math.max(0,n-1),r+=s;continue}if(s==="["){i++,r+=s;continue}if(s==="]"){i=Math.max(0,i-1),r+=s;continue}if(s===" "&&n===0&&i===0){r&&(c.push(r),r="");continue}r+=s}return r&&c.push(r),c}function de(t){let e=String(t??"").trim();if(!e)return null;let n=e.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!n||n[1]===void 0||n[2]===void 0)return null;let i=Number.parseInt(n[1],10),r=n[2].trim();return!Number.isFinite(i)||i<0||r===""?null:{count:i,unit:r}}function ge(t,e=z){return t>0?`repeat(${t}, ${e})`:null}function X(t){let e=String(t??"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let n=[],i=/"([^"]*)"|'([^']*)'/g,r;for(;r=i.exec(e);){let o=(r[1]??r[2]??"").trim();o&&n.push(o)}return n.length?{hasAreas:!0,cols:n.reduce((o,s)=>{let x=s.split(/\s+/).filter(Boolean).length;return Math.max(o,x)},0),rows:n.length}:{hasAreas:!1,cols:0,rows:0}}function T(t){let e=String(t??"").trim();if(!e||/^subgrid\b/i.test(e))return 0;let n=e.replace(/\[[^\]]*\]/g," ").trim();return n=n.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(i,r,c)=>Array.from({length:parseInt(r,10)||0},()=>"X").join(" ")),n=n.replace(/\s+/g," ").trim(),n?n.split(" ").filter(Boolean).length:0}function me(t){let e=de(t);if(!e)return null;let n=A(ge(e.count,e.unit));return{mode:"simple",template:t?String(t):null,normalised:n,simple:{count:e.count,unit:e.unit}}}function fe(t){let e=le(t);if(!e.length)return null;let n=A(e.join(" "));return{mode:"tracks",template:t?String(t):null,normalised:n,tracks:e}}var ye=[me,fe];function v(t){let e=t??"";for(let n of ye){let i=n(e);if(i)return i}return{mode:"raw",template:t?String(t):null,normalised:A(t??"")}}var q=t=>{let e=t||{},n=r=>{if(Array.isArray(r))return r;if(r&&typeof r=="object"){let c=[];for(let[o,s]of Object.entries(r))s!==void 0&&c.push({property:o,value:s});return c}return[]},i={desktop:{styles:[]},tablet:{styles:[]},mobile:{styles:[]},...e};return i.desktop={styles:n(e.desktop.styles),...e.desktop||{}},i.tablet={styles:n(e.tablet.styles),...e.tablet||{}},i.mobile={styles:n(e.mobile.styles),...e.mobile||{}},i};var R=t=>t==null||t===""||t==="null"||t==="undefined";function Se(t){return Array.isArray(t)}function xe(t){if(Se(t)){let[e,n,i]=t;return i!==void 0?{property:e,value:n,important:i}:{property:e,value:n}}return t}function J(t){if(!Array.isArray(t)||t.length===0)return[];let e=[];for(let n=0;n<t.length;n++)e.push(xe(t[n]));return e}var be="desktop",ke=Object.freeze({});function Q(t,e){let n=J(t);for(let i=0;i<n.length;i++){let r=n[i];if(r.property===e)return r.value}}function Z(t,e){let n=t||ke,i={...n},r=q(n.costered),c=a=>{switch(a){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},o=(a,p={})=>{let m=p&&Object.prototype.hasOwnProperty.call(p,"cascade")?!!p.cascade:!0,d=p&&Object.prototype.hasOwnProperty.call(p,"raw")?!!p.raw:!m,g=e||be;if(d){let f=Q(r?.[g]?.styles,a);return R(f)?void 0:f}let y=c(g);for(let f of y){let D=Q(r?.[f]?.styles,a);if(!R(D))return D}};return Object.defineProperties(i,{$get:{value:o,enumerable:!1},$getCascade:{value:a=>o(a,{cascade:!0}),enumerable:!1},$getMany:{value:(a,p)=>{let m={};for(let d=0;d<a.length;d++){let g=a[d];m[g]=o(g,p)}return m},enumerable:!1},$bp:{value:e,enumerable:!1}}),i}function et(t){let e=(0,C.useSelect)(c=>t?c(ee.store).getBlock(t)?.attributes??void 0:void 0,[t]),n=(0,C.useSelect)(U,[]),i=(0,P.useMemo)(()=>e&&n?Z(e,n):void 0,[e,n]);if(!i)return;let r=c=>String(i.$get(c)??"");return(0,P.useMemo)(()=>{let c=r("gridTemplateColumns"),o=r("gridTemplateRows"),s=r("gridTemplateAreas"),x=v(c),a=v(o),p=T(c),m=T(o),d={...x,count:p},g={...a,count:m},y=X(s),f={template:s||"",hasAreas:y.hasAreas,cols:y.cols,rows:y.rows};return{columns:d,rows:g,areas:f,activePane:{columns:d.mode,rows:g.mode}}},[i.$get,i.costered,n])}})();
