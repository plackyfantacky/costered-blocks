(()=>{var Q=Object.create;var A=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var te=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty;var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ne=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ee(e))!re.call(t,n)&&n!==r&&A(t,n,{get:()=>e[n],enumerable:!(s=Z(e,n))||s.enumerable});return t};var x=(t,e,r)=>(r=t!=null?Q(te(t)):{},ne(e||!t||!t.__esModule?A(r,"default",{value:t,enumerable:!0}):r,t));var T=h((xe,D)=>{D.exports=wp.data});var P=h((he,O)=>{O.exports=wp.blockEditor});var C=h((Te,I)=>{I.exports=wp.element});var _=x(T()),q=x(P()),E=x(C());var m=x(T());var c={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var j=t=>Array.isArray(t)?t:[],se=t=>new Set(j(t));function a(t){return Object.fromEntries(Object.entries(c.attributes).filter(([e,r])=>r.group===t))}var B=a("display"),M=a("dimension"),G=a("margin"),$=a("padding"),L=a("flex"),N=a("flex-item"),H=a("grid"),b=a("grid-item"),K=a("position"),Y=a("shared"),we={...B,...M,...G,...$,...L,...N,...H,...b,...K,...Y},ve=new Set([...Object.keys(b)]),_e=j(c?.collections?.editorStyles),Ee=se(c?.collections?.unitless),F=c?.settings?.gridUnit||"1fr",Re=!!c?.settings?.appendImportantToMirroredStyles,ke=c?.settings?.styleTagId||"costered-blocks-style-mirror",z=c?.settings?.reduxStoreKey||"costered/ui",Ae=c?.settings?.breakpoints?.mobile??782,De=c?.settings?.breakpoints?.tablet??1024,Oe=c?.settings?.breakpoints?.desktop??1440,Pe=c?.collections?.clearSets?.gridAreas,Ie=c?.collections?.clearSets?.gridColumns,Ce=c?.collections?.clearSets?.gridRows;var je=new Set([...Object.keys(B),...Object.keys(M),...Object.keys($),...Object.keys(G),...Object.keys(L),...Object.keys(N),...Object.keys(H),...Object.keys(b),...Object.keys(K),...Object.keys(Y)]),Be=Object.fromEntries(Object.entries(c.attributes).map(([t,e])=>[t,e.css]));var ie=t=>{let e=String(t||"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},ce=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},W=t=>{try{let r=(0,m.select)(z);if(r&&typeof r.getBreakpoint=="function"){let s=r.getBreakpoint();if(s)return s}}catch{}let e=ce(t);if(e)return ie(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,m.select)(STORE_KEY),s=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,n=(0,m.select)("core/edit-post"),l=n&&(typeof n.getPreviewDeviceType=="function"&&n.getPreviewDeviceType()||typeof n.__experimentalGetPreviewDeviceType=="function"&&n.__experimentalGetPreviewDeviceType()),o=(0,m.select)("core/edit-site"),i=o&&(typeof o.getDeviceType=="function"&&o.getDeviceType()||typeof o.__experimentalGetPreviewDeviceType=="function"&&o.__experimentalGetPreviewDeviceType()||typeof o.getPreviewDeviceType=="function"&&o.getPreviewDeviceType())}}catch{}return"desktop"};function S(t){return String(t||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function pe(t){let e=String(t||"").trim();if(!e)return[];let r=0,s=0,n="",l=[];for(let o=0;o<e.length;o++){let i=e[o];if(i==="("){r++,n+=i;continue}if(i===")"){r=Math.max(0,r-1),n+=i;continue}if(i==="["){s++,n+=i;continue}if(i==="]"){s=Math.max(0,s-1),n+=i;continue}if(i===" "&&r===0&&s===0){n&&(l.push(n),n="");continue}n+=i}return n&&l.push(n),l}function ue(t){if(!t)return null;let e=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return e?{count:parseInt(e[1],10),unit:e[2].trim()}:null}function ae(t,e=F){return t>0?`repeat(${t}, ${e})`:null}function U(t){let e=String(t||"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let r=[],s=/"([^"]*)"|'([^']*)'/g,n;for(;n=s.exec(e);){let o=(n[1]??n[2]??"").trim();o&&r.push(o)}return r.length?{hasAreas:!0,cols:r.reduce((o,i)=>{let g=i.split(/\s+/).filter(Boolean).length;return Math.max(o,g)},0),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function le(t){let e=ue(t);if(!e)return null;let r=S(ae(e.count,e.unit));return{mode:"simple",template:t||null,normalised:r,simple:{count:e.count,unit:e.unit}}}function fe(t){let e=pe(t);if(!e.length)return null;let r=S(e.join(" "));return{mode:"tracks",template:t||null,normalised:r,tracks:e}}var de=[le,fe];function w(t){let e=t||"";for(let r of de){let s=r(e);if(s)return s}return{mode:"raw",template:t||null,normalised:S(t||"")}}var V=t=>{let e={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...t||{}};return e.desktop={styles:{},...e.desktop||{}},e.tablet={styles:{},...e.tablet||{}},e.mobile={styles:{},...e.mobile||{}},e.desktop.styles={...e.desktop.styles||{}},e.tablet.styles={...e.tablet.styles||{}},e.mobile.styles={...e.mobile.styles||{}},e};var v=t=>t==null||t===""||t==="null"||t==="undefined";var ge="desktop",me=Object.freeze({});function X(t,e){let r=t||me,s={...r},n=V(r.costered),l=p=>{switch(p){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},o=(p,u=void 0)=>{let f=u&&Object.prototype.hasOwnProperty.call(u,"cascade")?!!u.cascade:!0,d=u&&Object.prototype.hasOwnProperty.call(u,"raw")?!!u.raw:!f,R=e||ge;if(d){let y=n?.[R]?.styles?.[p];return v(y)?void 0:y}let J=l(R);for(let y of J){let k=n?.[y]?.styles?.[p];if(!v(k))return k}};return Object.defineProperties(s,{$get:{value:o,enumerable:!1},$getCascade:{value:p=>o(p,{cascade:!0}),enumerable:!1},$getMany:{value:(p,u)=>{let f={};for(let d of p)f[d]=o(d,u);return f},enumerable:!1},$bp:{value:e,enumerable:!1}}),s}function Ue(t){let e=(0,_.useSelect)(o=>t?o(q.store).getBlock(t)?.attributes??{}:{},[t]),r=(0,_.useSelect)(W,[]),s=(0,E.useMemo)(()=>X(e,r),[e,r]),n=(o,i={})=>s.$get(o,i);return(0,E.useMemo)(()=>{let o=n("gridTemplateColumns"),i=n("gridTemplateRows"),g=n("gridTemplateAreas"),p=w(o),u=w(i),{template:f,...d}=U(g,p.count,u.count);return{columns:p,rows:u,areas:{template:f,...d},activePane:{columns:p.mode,rows:u.mode}}},[r,s?.costered,s?.$get])}})();
