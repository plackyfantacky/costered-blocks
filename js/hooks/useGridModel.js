(()=>{var Z=Object.create;var R=Object.defineProperty;var ee=Object.getOwnPropertyDescriptor;var te=Object.getOwnPropertyNames;var re=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var se=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of te(e))!ne.call(t,n)&&n!==r&&R(t,n,{get:()=>e[n],enumerable:!(s=ee(e,n))||s.enumerable});return t};var y=(t,e,r)=>(r=t!=null?Z(re(t)):{},se(e||!t||!t.__esModule?R(r,"default",{value:t,enumerable:!0}):r,t));var T=h((he,A)=>{A.exports=wp.data});var P=h((Te,O)=>{O.exports=wp.blockEditor});var j=h((be,I)=>{I.exports=wp.element});var _=y(T()),X=y(P()),E=y(j());var f=y(T());var p={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"]},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var B=t=>Array.isArray(t)?t:[],oe=t=>new Set(B(t));function a(t){return Object.fromEntries(Object.entries(p.attributes).filter(([e,r])=>r.group===t))}var $=a("display"),C=a("dimension"),G=a("margin"),L=a("padding"),M=a("flex"),N=a("flex-item"),K=a("grid"),b=a("grid-item"),H=a("position"),Y=a("shared"),ve={...$,...C,...G,...L,...M,...N,...K,...b,...H,...Y},_e=new Set([...Object.keys(b)]),Ee=B(p?.collections?.editorStyles),ke=oe(p?.collections?.unitless),U=p?.settings?.gridUnit||"1fr",De=!!p?.settings?.appendImportantToMirroredStyles,Re=p?.settings?.styleTagId||"costered-blocks-style-mirror",z=p?.settings?.reduxStoreKey||"costered/ui",Ae=p?.settings?.breakpoints?.mobile??782,Oe=p?.settings?.breakpoints?.tablet??1024,Pe=p?.settings?.breakpoints?.desktop??1440;var Ie=new Set([...Object.keys($),...Object.keys(C),...Object.keys(L),...Object.keys(G),...Object.keys(M),...Object.keys(N),...Object.keys(K),...Object.keys(b),...Object.keys(H),...Object.keys(Y)]),je=Object.fromEntries(Object.entries(p.attributes).map(([t,e])=>[t,e.css]));var ce=t=>{let e=String(t||"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},pe=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},F=t=>{try{let r=(0,f.select)(z);if(r&&typeof r.getBreakpoint=="function"){let s=r.getBreakpoint();if(s)return s}}catch{}let e=pe(t);if(e)return ce(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,f.select)(STORE_KEY),s=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,n=(0,f.select)("core/edit-post"),l=n&&(typeof n.getPreviewDeviceType=="function"&&n.getPreviewDeviceType()||typeof n.__experimentalGetPreviewDeviceType=="function"&&n.__experimentalGetPreviewDeviceType()),i=(0,f.select)("core/edit-site"),o=i&&(typeof i.getDeviceType=="function"&&i.getDeviceType()||typeof i.__experimentalGetPreviewDeviceType=="function"&&i.__experimentalGetPreviewDeviceType()||typeof i.getPreviewDeviceType=="function"&&i.getPreviewDeviceType())}}catch{}return"desktop"};function w(t){return String(t||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function ue(t){let e=String(t||"").trim();if(!e)return[];let r=0,s=0,n="",l=[];for(let i=0;i<e.length;i++){let o=e[i];if(o==="("){r++,n+=o;continue}if(o===")"){r=Math.max(0,r-1),n+=o;continue}if(o==="["){s++,n+=o;continue}if(o==="]"){s=Math.max(0,s-1),n+=o;continue}if(o===" "&&r===0&&s===0){n&&(l.push(n),n="");continue}n+=o}return n&&l.push(n),l}function ae(t){if(!t)return null;let e=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return e?{count:parseInt(e[1],10),unit:e[2].trim()}:null}function le(t,e=U){return t>0?`repeat(${t}, ${e})`:null}function de(t){let e=ae(t);if(!e)return null;let r=w(le(e.count,e.unit));return{mode:"simple",template:t||null,normalised:r,simple:{count:e.count,unit:e.unit}}}function me(t){let e=ue(t);if(!e.length)return null;let r=w(e.join(" "));return{mode:"tracks",template:t||null,normalised:r,tracks:e}}var fe=[de,me];function S(t){let e=t||"";for(let r of fe){let s=r(e);if(s)return s}return{mode:"raw",template:t||null,normalised:w(t||"")}}function W(t){let e=(t||"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let r=e.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(n=>n.replace(/^['"]|['"]$/g,"").trim()).filter(n=>n&&!/^[\s]+$/.test(n));return r.length?{hasAreas:!0,cols:Math.max(0,...r.map(n=>n.split(/\s+/).filter(Boolean).length)),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}var V=t=>{let e={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...t||{}};return e.desktop={styles:{},...e.desktop||{}},e.tablet={styles:{},...e.tablet||{}},e.mobile={styles:{},...e.mobile||{}},e.desktop.styles={...e.desktop.styles||{}},e.tablet.styles={...e.tablet.styles||{}},e.mobile.styles={...e.mobile.styles||{}},e};var v=t=>t==null||t===""||t==="null"||t==="undefined";var ge="desktop",ye=Object.freeze({});function q(t,e){let r=t||ye,s={...r},n=V(r.costered),l=c=>{switch(c){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},i=(c,u=void 0)=>{let d=!!(u&&u.cascade),J=u&&Object.prototype.hasOwnProperty.call(u,"raw")?!!u.raw:!d,k=e||ge;if(J){let g=n?.[k]?.styles?.[c];return v(g)?void 0:g}let Q=l(k);for(let g of Q){let D=n?.[g]?.styles?.[c];if(!v(D))return D}};return Object.defineProperties(s,{$get:{value:i,enumerable:!1},$getCascade:{value:c=>i(c,{cascade:!0}),enumerable:!1},$getMany:{value:(c,u)=>{let d={};for(let m of c)d[m]=i(m,u);return d},enumerable:!1},$bp:{value:e,enumerable:!1}}),s}function ze(t){let e=(0,_.useSelect)(i=>t?i(X.store).getBlock(t)?.attributes??{}:{},[t]),r=(0,_.useSelect)(F,[]),s=(0,E.useMemo)(()=>q(e,r),[e,r]),n=(i,o={})=>s.$get(i,o);return(0,E.useMemo)(()=>{let i=n("gridTemplateColumns"),o=n("gridTemplateRows"),x=n("gridTemplateAreas"),c=S(i),u=S(o),{template:d,...m}=W(x,c.count,u.count);return{columns:c,rows:u,areas:{template:d,...m},activePane:{columns:c.mode,rows:u.mode}}},[r,s?.costered,s?.$get])}})();
