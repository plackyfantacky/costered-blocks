(()=>{var Q=Object.create;var R=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var tt=Object.getOwnPropertyNames;var et=Object.getPrototypeOf,nt=Object.prototype.hasOwnProperty;var h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var rt=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of tt(t))!nt.call(e,r)&&r!==n&&R(e,r,{get:()=>t[r],enumerable:!(s=Z(t,r))||s.enumerable});return e};var x=(e,t,n)=>(n=e!=null?Q(et(e)):{},rt(t||!e||!e.__esModule?R(n,"default",{value:e,enumerable:!0}):n,e));var b=h((xt,D)=>{D.exports=wp.data});var P=h((ht,O)=>{O.exports=wp.blockEditor});var C=h((bt,I)=>{I.exports=wp.element});var A=x(b()),q=x(P()),E=x(C());var f=x(b());var c={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var j=e=>Array.isArray(e)?e:[],it=e=>new Set(j(e));function a(e){return Object.fromEntries(Object.entries(c.attributes).filter(([t,n])=>n.group===e))}var M=a("display"),G=a("dimension"),B=a("margin"),$=a("padding"),L=a("flex"),N=a("flex-item"),H=a("grid"),w=a("grid-item"),K=a("position"),Y=a("shared"),St={...M,...G,...B,...$,...L,...N,...H,...w,...K,...Y},kt=new Set([...Object.keys(w)]),At=j(c?.collections?.editorStyles),Et=it(c?.collections?.unitless),V=c?.settings?.gridUnit||"1fr",vt=!!c?.settings?.appendImportantToMirroredStyles,_t=c?.settings?.styleTagId||"costered-blocks-style-mirror",F=c?.settings?.reduxStoreKey||"costered/ui",Rt=c?.settings?.breakpoints?.mobile??782,Dt=c?.settings?.breakpoints?.tablet??1024,Ot=c?.settings?.breakpoints?.desktop??1440,Pt=c?.collections?.clearSets?.gridAreas,It=c?.collections?.clearSets?.gridColumns,Ct=c?.collections?.clearSets?.gridRows;var jt=new Set([...Object.keys(M),...Object.keys(G),...Object.keys($),...Object.keys(B),...Object.keys(L),...Object.keys(N),...Object.keys(H),...Object.keys(w),...Object.keys(K),...Object.keys(Y)]),Mt=Object.fromEntries(Object.entries(c.attributes).map(([e,t])=>[e,t.css]));var ot=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},ct=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},z=e=>{try{let n=(0,f.select)(F);if(n&&typeof n.getBreakpoint=="function"){let s=n.getBreakpoint();if(s)return s}}catch{}let t=ct(e);if(t)return ot(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let n=(0,f.select)(STORE_KEY),s=n&&typeof n.getBreakpoint=="function"?n.getBreakpoint():null,r=(0,f.select)("core/edit-post"),l=r&&(typeof r.getPreviewDeviceType=="function"&&r.getPreviewDeviceType()||typeof r.__experimentalGetPreviewDeviceType=="function"&&r.__experimentalGetPreviewDeviceType()),i=(0,f.select)("core/edit-site"),o=i&&(typeof i.getDeviceType=="function"&&i.getDeviceType()||typeof i.__experimentalGetPreviewDeviceType=="function"&&i.__experimentalGetPreviewDeviceType()||typeof i.getPreviewDeviceType=="function"&&i.getPreviewDeviceType())}}catch{}return"desktop"};function T(e){return String(e||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function ut(e){let t=String(e??"").trim();if(!t)return[];let n=0,s=0,r="",l=[];for(let i=0;i<t.length;i++){let o=t[i];if(o==="("){n++,r+=o;continue}if(o===")"){n=Math.max(0,n-1),r+=o;continue}if(o==="["){s++,r+=o;continue}if(o==="]"){s=Math.max(0,s-1),r+=o;continue}if(o===" "&&n===0&&s===0){r&&(l.push(r),r="");continue}r+=o}return r&&l.push(r),l}function pt(e){let t=String(e??"").trim();if(!t)return null;let n=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!n||n[1]===void 0||n[2]===void 0)return null;let s=Number.parseInt(n[1],10),r=n[2].trim();return!Number.isFinite(s)||s<0||r===""?null:{count:s,unit:r}}function at(e,t=V){return e>0?`repeat(${e}, ${t})`:null}function W(e){let t=String(e??"").trim();if(!t)return{hasAreas:!1,cols:0,rows:0};let n=[],s=/"([^"]*)"|'([^']*)'/g,r;for(;r=s.exec(t);){let i=(r[1]??r[2]??"").trim();i&&n.push(i)}return n.length?{hasAreas:!0,cols:n.reduce((i,o)=>{let d=o.split(/\s+/).filter(Boolean).length;return Math.max(i,d)},0),rows:n.length}:{hasAreas:!1,cols:0,rows:0}}function lt(e){let t=pt(e);if(!t)return null;let n=T(at(t.count,t.unit));return{mode:"simple",template:e?String(e):null,normalised:n,simple:{count:t.count,unit:t.unit}}}function gt(e){let t=ut(e);if(!t.length)return null;let n=T(t.join(" "));return{mode:"tracks",template:e?String(e):null,normalised:n,tracks:t}}var mt=[lt,gt];function S(e){let t=e||"";for(let n of mt){let s=n(t);if(s)return s}return{mode:"raw",template:e?String(e):null,normalised:T(e||"")}}var U=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t};var k=e=>e==null||e===""||e==="null"||e==="undefined";var dt="desktop",ft=Object.freeze({});function X(e,t){let n=e||ft,s={...n},r=U(n.costered),l=u=>{switch(u){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},i=(u,p=void 0)=>{let g=p&&Object.prototype.hasOwnProperty.call(p,"cascade")?!!p.cascade:!0,m=p&&Object.prototype.hasOwnProperty.call(p,"raw")?!!p.raw:!g,v=t||dt;if(m){let y=r?.[v]?.styles?.[u];return k(y)?void 0:y}let J=l(v);for(let y of J){let _=r?.[y]?.styles?.[u];if(!k(_))return _}};return Object.defineProperties(s,{$get:{value:i,enumerable:!1},$getCascade:{value:u=>i(u,{cascade:!0}),enumerable:!1},$getMany:{value:(u,p)=>{let g={};for(let m of u)g[m]=i(m,p);return g},enumerable:!1},$bp:{value:t,enumerable:!1}}),s}function Wt(e){let t=(0,A.useSelect)(i=>e?i(q.store).getBlock(e)?.attributes??{}:{},[e]),n=(0,A.useSelect)(z,[]),s=(0,E.useMemo)(()=>X(t,n),[t,n]),r=(i,o={})=>s.$get(i,o);return(0,E.useMemo)(()=>{let i=r("gridTemplateColumns"),o=r("gridTemplateRows"),d=r("gridTemplateAreas"),u=S(i),p=S(o),{template:g,...m}=W(d,u.count,p.count);return{columns:u,rows:p,areas:{template:g,...m},activePane:{columns:u.mode,rows:p.mode}}},[n,s?.costered,s?.$get])}})();
