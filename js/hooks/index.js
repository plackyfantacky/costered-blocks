(()=>{var $e=Object.create;var Gt=Object.defineProperty;var Oe=Object.getOwnPropertyDescriptor;var Ne=Object.getOwnPropertyNames;var Ge=Object.getPrototypeOf,Le=Object.prototype.hasOwnProperty;var ut=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var je=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Ne(e))!Le.call(t,r)&&r!==n&&Gt(t,r,{get:()=>e[r],enumerable:!(o=Oe(e,r))||o.enumerable});return t};var T=(t,e,n)=>(n=t!=null?$e(Ge(t)):{},je(e||!t||!t.__esModule?Gt(n,"default",{value:t,enumerable:!0}):n,t));var P=ut((bn,Lt)=>{Lt.exports=wp.data});var V=ut((Sn,jt)=>{jt.exports=wp.blockEditor});var E=ut((wn,Wt)=>{Wt.exports=wp.element});var we=ut((Er,Se)=>{Se.exports=wp.preferences});var kt=T(P()),re=T(V()),W=T(E());var M={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var Ut=t=>Array.isArray(t)?t:[],Ue=t=>new Set(Ut(t));function D(t){return Object.fromEntries(Object.entries(M.attributes).filter(([e,n])=>n.group===t))}var Ht=D("display"),Kt=D("dimension"),Ft=D("margin"),Yt=D("padding"),Vt=D("flex"),zt=D("flex-item"),Xt=D("grid"),lt=D("grid-item"),qt=D("position"),Zt=D("shared"),hn={...Ht,...Kt,...Ft,...Yt,...Vt,...zt,...Xt,...lt,...qt,...Zt},Jt=new Set([...Object.keys(lt)]),Tn=Ut(M?.collections?.editorStyles),Qt=Ue(M?.collections?.unitless),mt=M?.settings?.gridUnit||"1fr",Cn=!!M?.settings?.appendImportantToMirroredStyles,Rn=M?.settings?.styleTagId||"costered-blocks-style-mirror",at=M?.settings?.reduxStoreKey||"costered/ui",vn=M?.settings?.breakpoints?.mobile??782,Mn=M?.settings?.breakpoints?.tablet??1024,Bn=M?.settings?.breakpoints?.desktop??1440,In=M?.collections?.clearSets?.gridAreas,En=M?.collections?.clearSets?.gridColumns,Pn=M?.collections?.clearSets?.gridRows;var te=new Set([...Object.keys(Ht),...Object.keys(Kt),...Object.keys(Yt),...Object.keys(Ft),...Object.keys(Vt),...Object.keys(zt),...Object.keys(Xt),...Object.keys(lt),...Object.keys(qt),...Object.keys(Zt)]),_n=Object.fromEntries(Object.entries(M.attributes).map(([t,e])=>[t,e.css]));var j=t=>{let e=t||{},n=r=>{if(Array.isArray(r))return r;if(r&&typeof r=="object"){let s=[];for(let[u,i]of Object.entries(r))i!==void 0&&s.push({property:u,value:i});return s}return[]},o={desktop:{styles:[]},tablet:{styles:[]},mobile:{styles:[]},...e};return o.desktop={styles:n(e.desktop.styles),...e.desktop||{}},o.tablet={styles:n(e.tablet.styles),...e.tablet||{}},o.mobile={styles:n(e.mobile.styles),...e.mobile||{}},o};var ft=t=>t==null||t===""||t==="null"||t==="undefined";function He(t){return Array.isArray(t)}function gt(t){if(He(t)){let[e,n,o]=t;return o!==void 0?{property:e,value:n,important:o}:{property:e,value:n}}return t}function ee(t){if(!Array.isArray(t)||t.length===0)return[];let e=[];for(let n=0;n<t.length;n++)e.push(gt(t[n]));return e}function yt(t,e,n,o){let r=Array.isArray(t)?t.slice():[],s=-1;for(let i=0;i<r.length;i++)if(gt(r[i]).property===e){s=i;break}let u=o!==void 0?{property:e,value:n,important:o}:{property:e,value:n};return s===-1?r.push(u):r[s]=u,r}function Z(t,e){let n=Array.isArray(t)?Array.from(t):[],o=[];for(let r=0;r<n.length;r++)gt(n[r]).property!==e&&o.push(n[r]);return o}var Ke="desktop",Fe=Object.freeze({});function ne(t,e){let n=ee(t);for(let o=0;o<n.length;o++){let r=n[o];if(r.property===e)return r.value}}function $(t,e){let n=t||Fe,o={...n},r=j(n.costered),s=c=>{switch(c){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},u=(c,p={})=>{let x=p&&Object.prototype.hasOwnProperty.call(p,"cascade")?!!p.cascade:!0,k=p&&Object.prototype.hasOwnProperty.call(p,"raw")?!!p.raw:!x,m=e||Ke;if(k){let f=ne(r?.[m]?.styles,c);return ft(f)?void 0:f}let b=s(m);for(let f of b){let w=ne(r?.[f]?.styles,c);if(!ft(w))return w}};return Object.defineProperties(o,{$get:{value:u,enumerable:!1},$getCascade:{value:c=>u(c,{cascade:!0}),enumerable:!1},$getMany:{value:(c,p)=>{let x={};for(let k=0;k<c.length;k++){let m=c[k];x[m]=u(m,p)}return x},enumerable:!1},$bp:{value:e,enumerable:!1}}),o}function bt(t){let e=(0,kt.useSelect)(i=>i(at)?.getBreakpoint?.()||"desktop",[]),n=(0,kt.useSelect)(i=>t?i(re.store)?.getBlockAttributes?.(t):void 0,[t]),o=(0,W.useMemo)(()=>n?$(n,e):void 0,[n,e]),r=(0,W.useCallback)((i,a)=>{if(o?.$get)return o.$get(i,a)},[o]),s=(0,W.useCallback)((i,a)=>o?.$get?o.$get(i,a):void 0,[o]),u=(0,W.useCallback)((i,a)=>o?.$getMany?o.$getMany([...i],a):Object.fromEntries(i.map(c=>[c,void 0])),[o]);return(0,W.useMemo)(()=>({get:r,getAs:s,getMany:u,bp:e,attributes:o}),[r,s,u,e,o])}var G=T(E()),U=T(P());function Ye(t){return typeof t=="string"&&t.trim().length>0}function Ve(){let t=globalThis?.crypto?.randomUUID;if(typeof t=="function")return t.call(globalThis.crypto);let e=Date.now().toString(36),n=Math.random().toString(36).slice(2,10);return`${e}-${n}`}function J(t){t&&(Ye(t.costeredId)||(t.costeredId=Ve()))}var Q=T(P());var ze=t=>{let e=String(t??"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},Xe=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},O=t=>{try{let n=(0,Q.select)(at);if(n&&typeof n.getBreakpoint=="function"){let o=n.getBreakpoint();if(o)return o}}catch{}let e=Xe(t);if(e)return ze(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let n=(0,Q.select)(STORE_KEY),o=n&&typeof n.getBreakpoint=="function"?n.getBreakpoint():null,r=(0,Q.select)("core/edit-post"),s=r&&(typeof r.getPreviewDeviceType=="function"&&r.getPreviewDeviceType()||typeof r.__experimentalGetPreviewDeviceType=="function"&&r.__experimentalGetPreviewDeviceType()),u=(0,Q.select)("core/edit-site"),i=u&&(typeof u.getDeviceType=="function"&&u.getDeviceType()||typeof u.__experimentalGetPreviewDeviceType=="function"&&u.__experimentalGetPreviewDeviceType()||typeof u.getPreviewDeviceType=="function"&&u.getPreviewDeviceType())}}catch{}return"desktop"};var qe="desktop";function tt(t,e,n={trim:!0,emptyUnsets:!0}){let o=(typeof e=="object"?e:n)||{},{trim:r=!0,emptyUnsets:s=!0,breakpoint:u}=o,i=(0,U.useSelect)(O,[]),a=u||i||qe,{updateBlockAttributes:c}=(0,U.useDispatch)("core/block-editor"),p=(0,G.useMemo)(()=>{if(typeof t=="string"){let l=t;return g=>{if(l)if(typeof g=="function"){let d=(0,U.select)("core/block-editor")?.getBlockAttributes(l)||{},y=g(d)||d;c(l,y)}else c(l,g||{})}}if(typeof t=="function"&&typeof e=="string"){let l=t,g=e;return d=>{if(!g)return;if(typeof d=="function"){let h=(0,U.select)("core/block-editor")?.getBlockAttributes(g)||{},v=d(h)||h;try{l(g,v)}catch{l(v)}return}let y=d||{};try{l(g,y)}catch{l(y)}}}if(typeof t=="function"){let l=t;return g=>{if(typeof g=="function"){let d=g({});l(d)}else l(g||{})}}return()=>{}},[t,e,c]),x=(0,G.useCallback)((l,g)=>{if(l==null)return;if(Jt.has(g)){let y=typeof l=="string"&&r?l.trim():String(l);return s&&y===""?void 0:y}let d=l;if(r&&typeof d=="string"&&(d=d.trim()),!(s&&(d===""||d=="null"||d=="undefined"))){if(Qt.has(g)){if(typeof d=="string"&&/^-?\d+(\.\d+)?$/.test(d)){let y=Number(d);return Number.isFinite(y)?y:void 0}return typeof d=="number"&&Number.isFinite(d)?d:void 0}if(typeof d=="number")return Number.isFinite(d)?d:void 0;if(typeof d=="string")return d==="null"||d==="undefined"?void 0:d;try{return String(d)}catch{return}}},[r,s]),k=(0,G.useCallback)((l,g)=>{p(d=>{let y={...d||{}};J(y),y.costered=j(y.costered);let h=y.costered[a].styles,v=x(g,l),I=v===void 0?Z(h,l):yt(h,l,v);return y.costered[a]={...y.costered[a],styles:I},y})},[p,a,x]),m=(0,G.useCallback)(l=>{!l||typeof l!="object"||p(g=>{let d={...g||{}};J(d),d.costered=j(d.costered);let h=d.costered[a].styles;for(let[v,I]of Object.entries(l)){let z=x(I,v);h=z===void 0?Z(h,v):yt(h,v,z)}return d.costered[a]={...d.costered[a],styles:h||[]},d})},[p,a,x]),b=(0,G.useCallback)(l=>{p(g=>{let d={...g||{}};J(d),d.costered=j(d.costered);let y=d.costered[a].styles,h=Z(y,l);return(y?.length||0)===h.length?g:(d.costered[a]={...d.costered[a],styles:h},d)})},[p,a]),f=(0,G.useCallback)(l=>{!Array.isArray(l)||l.length===0||p(g=>{let d={...g||{}};J(d),d.costered=j(d.costered);let h=d.costered[a]?.styles;for(let v=0;v<l.length;v++)h=Z(h,l[v]);return d.costered[a]={...d.costered[a],styles:h||[]},d})},[p,a]),w=(0,G.useCallback)(l=>({set:(g,d)=>k(`${l}${g}`,d),setMany:g=>{let d={};for(let[y,h]of Object.entries(g))d[`${l}${y}`]=h;m(d)},unset:g=>b(`${l}${g}`),unsetMany:g=>f(g.map(d=>`${l}${d}`))}),[k,m,b,f]);return{set:k,setMany:m,unset:b,unsetMany:f,withPrefix:w,activeBreakpoint:a}}var _=T(E());function wt(t){return String(t??"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function Ze(t){let e=String(t??"").trim();if(!e)return[];let n=0,o=0,r="",s=[];for(let u=0;u<e.length;u++){let i=e[u];if(i==="("){n++,r+=i;continue}if(i===")"){n=Math.max(0,n-1),r+=i;continue}if(i==="["){o++,r+=i;continue}if(i==="]"){o=Math.max(0,o-1),r+=i;continue}if(i===" "&&n===0&&o===0){r&&(s.push(r),r="");continue}r+=i}return r&&s.push(r),s}function Je(t){let e=String(t??"").trim();if(!e)return null;let n=e.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!n||n[1]===void 0||n[2]===void 0)return null;let o=Number.parseInt(n[1],10),r=n[2].trim();return!Number.isFinite(o)||o<0||r===""?null:{count:o,unit:r}}function Qe(t,e=mt){return t>0?`repeat(${t}, ${e})`:null}function K(t,e=mt){if(!t||typeof t!="string")return{count:0,unit:e};let n=t.trim();if(!n)return{count:0,unit:e};if(/^subgrid\b/i.test(n))return{count:0,unit:e};if(n=n.replace(/\[[^\]]*]/g," ").trim(),!n)return{count:0,unit:e};let o=n.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(o){let s=o[2];return{count:0,unit:St(s,e)}}let r=tn(n,e);return{count:r.count,unit:r.unit||e}}function tn(t,e){let n=oe(t);if(n){let i=n.inner.trim(),c=et(i).length,p=St(i,e);return{count:n.times*c,unit:p||e}}let o=et(t),r=0,s="";for(let i of o){if(/^\s*repeat\(/i.test(i)){let a=se(i);if(a){r+=a.count,!s&&a.unitHint&&(s=a.unitHint);continue}r+=1;continue}r+=1,!s&&ct(i)&&(s=H(i)??"")}let u=s||St(t,e);return{count:r,unit:u||e}}function oe(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let n=parseInt(e[1],10),o=e[2];return!Number.isFinite(n)||n<0?null:{times:n,inner:o}}function se(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let n=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let o=parseInt(n[1],10)||0;if(o<=0)return{count:0,unitHint:""};let r=n[2].trim(),s=et(r),u=o*s.length,i="";if(s.length===1)i=H(s[0])??"";else{let a=s.find(ct);i=H(a)??""}return{count:u,unitHint:i}}function et(t){let e=[],n=0,o="";for(let r=0;r<t.length;r++){let s=t[r];if(s==="("){n++,o+=s;continue}if(s===")"){n=Math.max(0,n-1),o+=s;continue}if(n===0&&/\s/.test(s)){o.trim()&&e.push(o.trim()),o="";continue}o+=s}return o.trim()&&e.push(o.trim()),e}function St(t,e){if(!t)return e;let n=oe(t);if(n){let s=et(n.inner);if(s.length===1)return H(s[0])||e;let u=s.find(ct);if(u)return H(u)||e}let o=et(t);if(o.length===1)return H(o[0])||e;let r=o.find(ct);if(r)return H(r)||e;for(let s of o){let u=se(s);if(u&&u.unitHint)return u.unitHint}return e}function ct(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function H(t){return t?t.trim():""}function R(t){let e=Number(t);return Number.isFinite(e)&&e>=0?Math.floor(e):0}function ie(t){let e=String(t??"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let n=[],o=/"([^"]*)"|'([^']*)'/g,r;for(;r=o.exec(e);){let u=(r[1]??r[2]??"").trim();u&&n.push(u)}return n.length?{hasAreas:!0,cols:n.reduce((u,i)=>{let a=i.split(/\s+/).filter(Boolean).length;return Math.max(u,a)},0),rows:n.length}:{hasAreas:!1,cols:0,rows:0}}function ue(t,e="."){if(!Array.isArray(t)||t.length===0)return"";let n=t.map(r=>(Array.isArray(r)?r:[]).map(s=>{let u=String(s??"").trim();return u===""?e:u}));return n.some(r=>r.some(s=>s!==e))?n.map(r=>`"${r.join(" ")}"`).join(" "):""}function ae(t,e="."){let n=String(t??"").trim();if(!n)return[];let o=[],r=/"([^"]*)"|'([^']*)'/g,s;for(;s=r.exec(n);){let u=(s[1]??s[2]??"").trim(),i=u.length?u.split(/\s+/g).map(a=>a&&a!==e?a:e):[];o.push(i)}return o}function nt(t,e,n,o){let r=R(e),s=R(n);if(r===0||s===0)return[];let u=Array.isArray(t)?t:[],i=[];for(let a=0;a<s;a++){let c=Array.isArray(u[a])?u[a]:[],p=Array.from({length:r},(x,k)=>{let m=c[k];return m===void 0?o:m});i.push(p)}return i}function xt(t){let e=String(t??"").trim();if(!e||/^subgrid\b/i.test(e))return 0;let n=e.replace(/\[[^\]]*\]/g," ").trim();return n=n.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(o,r,s)=>Array.from({length:parseInt(r,10)||0},()=>"X").join(" ")),n=n.replace(/\s+/g," ").trim(),n?n.split(" ").filter(Boolean).length:0}function en(t){let e=Je(t);if(!e)return null;let n=wt(Qe(e.count,e.unit));return{mode:"simple",template:t?String(t):null,normalised:n,simple:{count:e.count,unit:e.unit}}}function nn(t){let e=Ze(t);if(!e.length)return null;let n=wt(e.join(" "));return{mode:"tracks",template:t?String(t):null,normalised:n,tracks:e}}var rn=[en,nn];function At(t){let e=t??"";for(let n of rn){let o=n(e);if(o)return o}return{mode:"raw",template:t?String(t):null,normalised:wt(t??"")}}function on(t){let{areasTemplate:e,trackColumnCount:n,trackRowCount:o,applyMatrixToStore:r,clearAreasInStore:s,seedFromStore:u}=ht(t),i=(0,_.useMemo)(()=>u("."),[u]),a=(0,_.useMemo)(()=>({count:i?.[0]?.length||R(n)}),[i,n]),c=(0,_.useMemo)(()=>({count:i?.length||R(o)}),[i,o]),p=(0,_.useCallback)(w=>{let l=w[0]?.length||0,g=w.length||0,d=w.map(h=>h.map(v=>{let I=String(v??"").trim();return I===""?".":I})),y=nt(d,l,g,".");r(y)},[r]),x=(0,_.useMemo)(()=>{let w=i?.length||0,l=w&&i[0]?.length||0;return{rows:w,cols:l}},[i]),k=(0,_.useCallback)((w,l)=>w>=0&&w<x.cols&&l>=0&&l<x.rows,[x]),m=(0,_.useCallback)((w,l,g)=>{let d=i;if(d.length===0)return;let y=Math.trunc(R(w))||0,h=Math.trunc(R(l))||0;if(!k(y,h))return;let v=String(g??"").trim()||".",I=d.map(z=>z.slice());I[h][y]=v,p(I)},[i,p,k]),b=(0,_.useCallback)(({rows:w,cols:l})=>{let g=R(w),d=R(l);if(!(g>0&&d>0))return;let y=nt(i,d,g,".");p(y)},[i,p]),f=(0,_.useCallback)(()=>s(),[s]);return{matrix:i,columnData:a,rowData:c,setCell:m,resize:b,clear:f}}var A=T(E());function F(t,e,n){return Math.min(Math.max(t,e),n)}function B(t,e=1){let n=Number(t);return Number.isFinite(n)?Math.trunc(n):e}function N(t){if(typeof t=="number")return Number.isInteger(t);let e=String(t);return/^-?\d+$/.test(e)}function Tt(t,e=1){let n=Number.parseInt(String(t),10);return Number.isFinite(n)&&n!==0?n:e}function ce(t){let e=Number.parseInt(String(t),10);return Number.isFinite(e)?e:""}var Ct=t=>{let e={start:"",span:"",end:""},n=String(t??"").trim();if(!n)return e;let o=n.split("/").map(i=>i.trim());if(o.length===1)return/^span\s+\d+$/i.test(o[0])?e.span=o[0].replace(/^span\s+/i,""):e.start=o[0],e;let r=o[0],s=o[1];e.start=r||"auto";let u=/^span\s+(\d+)$/i.exec(s);return u?e.span=u[1]:e.end=s,e},rt=({start:t,span:e,end:n},{mode:o="span",collapseSpanOne:r=!0}={})=>{let s=String(t??"").trim()||"auto";if(o==="end"){let i=String(n??"").trim()||"auto";return`${s} / ${i}`}let u=B(e,1);return r&&u===1&&s!=="auto"?s:`${s} / span ${u}`},Rt=t=>{let e=new Set,n=/\[([^\]]+)\]/g,o;for(;(o=n.exec(String(t??"")))!==null;){let r=o[1].trim();r&&r.split(/\s+/).forEach(s=>e.add(s))}return Array.from(e)},pe=t=>/\//.test(String(t??""))||/\bspan\s+\d+\b/i.test(String(t??""));var de=Number.MAX_SAFE_INTEGER;function sn({clientId:t,setMany:e,parentMeta:n}){if(!t)return null;let{get:o}=bt(t),{writeColumn:r,writeRow:s}=vt(t),u=pe(o("gridArea")),i=n?.columns??0,a=n?.rows??0,c=(0,A.useMemo)(()=>Ct(o("gridColumn")),[o]),p=(0,A.useMemo)(()=>Ct(o("gridRow")),[o]),x=c.end?"end":"span",k=p.end?"end":"span",[m,b]=(0,A.useState)(x),[f,w]=(0,A.useState)(k);(0,A.useEffect)(()=>{b(x)},[x]),(0,A.useEffect)(()=>{w(k)},[k]);let l=(0,A.useMemo)(()=>Rt(n.columnTemplate),[n.columnTemplate]),g=(0,A.useMemo)(()=>Rt(n.rowTemplate),[n.rowTemplate]),d=l.length>0,y=g.length>0,h=(S,C)=>C?N(S)?"number":"named":"number",v=S=>S?N(S)?"number":S==="auto"?"auto":"named":"number",I=(S,C)=>{let dt=v(S);return C?dt:dt==="named"?"number":dt},z=h(c.start,d),mn=h(p.start,y),fn=I(c.end,d),gn=I(p.end,y),X=(0,A.useMemo)(()=>{if(!i||!N(c.start))return de;let S=F(B(c.start,1),1,i);return Math.max(1,i-S+1)},[i,c.start]),q=(0,A.useMemo)(()=>{if(!a||!N(p.start))return de;let S=F(B(p.start,1),1,a);return Math.max(1,a-S+1)},[a,p.start]),[xe,st]=(0,A.useState)(null),[Ae,it]=(0,A.useState)(null);(0,A.useEffect)(()=>{st(null)},[o("gridColumn")]),(0,A.useEffect)(()=>{it(null)},[o("gridRow")]);let he=(0,A.useCallback)(S=>{let C=B(S,1);c.end?r(m,{start:C,end:c.end}):r(m,{start:C,span:F(B(c.span,1),1,X)})},[c.end,c.span,X,r]),Te=(0,A.useCallback)(S=>{let C=String(S||"auto").trim()||"auto";c.end?r(m,{start:C,end:c.end}):r(m,{start:C,span:B(c.span,1)})},[c.end,c.span,r]),Ce=(0,A.useCallback)(S=>{let C=F(B(S,1),1,X);r(m,{start:c.start||"auto",span:C})},[c.start,X,r]),Re=(0,A.useCallback)(S=>{let C=B(S,0);st(C),S!==0&&(r(m,{start:c.start||"auto",end:Tt(S,1)}),st(null))},[c.start,r]),ve=(0,A.useCallback)(S=>{r(m,{start:c.start||"auto",end:String(S||"auto").trim()||"auto"})},[c.start,r]),Me=(0,A.useCallback)(()=>{r(m,{start:c.start||"auto",end:"auto"})},[c.start,r]),Be=(0,A.useCallback)(S=>{let C=B(S,1);p.end?s(f,{start:C,end:p.end}):s(f,{start:C,span:F(B(p.span,1),1,q)})},[p.end,p.span,q,s]),Ie=(0,A.useCallback)(S=>{let C=String(S||"auto").trim()||"auto";p.end?s(f,{start:C,end:p.end}):s(f,{start:C,span:B(p.span,1)})},[p.end,p.span,f,s]),Ee=(0,A.useCallback)(S=>{let C=F(B(S,1),1,q);s(f,{start:p.start||"auto",span:C})},[p.start,q,s]),Pe=(0,A.useCallback)(S=>{let C=B(S,0);it(C),S!==0&&(s(f,{start:p.start||"auto",end:Tt(S,1)}),it(null))},[p.start,f,s]),_e=(0,A.useCallback)(S=>{s(f,{start:p.start||"auto",end:String(S||"auto").trim()||"auto"})},[p.start,f,s]),De=(0,A.useCallback)(()=>{s(f,{start:p.start||"auto",end:"auto"})},[p.start,f,s]);return{hasArea:u,disabledLines:u,numbers:{isIntToken:N,toInt:B,parseSigned:ce},column:{values:{...c},modes:{uiStart:d?N(c.start)?"number":"named":"number",uiEnd:c.end?N(c.end)?"number":String(c.end)==="auto"?"auto":"named":"number",mode:m},setMode:b,named:{lines:l,hasLines:d},caps:{span:X},drafts:{end:xe,setEnd:st},handlers:{onStartNumber:he,onStartNamed:Te,onSpan:Ce,onEndNumber:Re,onEndNamed:ve,onEndAuto:Me}},row:{values:{...p},modes:{uiStart:y?N(p.start)?"number":"named":"number",uiEnd:p.end?N(p.end)?"number":String(p.end)==="auto"?"auto":"named":"number",mode:f},setMode:w,named:{lines:g,hasLines:y},caps:{span:q},drafts:{end:Ae,setEnd:it},handlers:{onStartNumber:Be,onStartNamed:Ie,onSpan:Ee,onEndNumber:Pe,onEndNamed:_e,onEndAuto:De}}}}var ot=T(E());function vt(t){let{set:e,setMany:n,unset:o}=tt(t),r=(0,ot.useCallback)(a=>{let c=typeof a=="string"?a.trim():"";if(!c){o("gridArea");return}e("gridArea",c)},[e,o]),s=(0,ot.useCallback)((a,c,p,x)=>{let k={};a!==void 0&&(k.gridRowStart=a||void 0),c!==void 0&&(k.gridRowEnd=c||void 0),p!==void 0&&(k.gridColumnStart=p||void 0),x!==void 0&&(k.gridColumnEnd=x||void 0),n(k)},[n]),u=(0,ot.useCallback)((a,c)=>{let p=a==="end"?rt({start:c.start,end:c.end},{mode:"end"}):rt({start:c.start,span:c.span},{mode:"span"});e("gridColumn",p)},[e]),i=(0,ot.useCallback)((a,c)=>{let p=a==="end"?rt({start:c.start,end:c.end},{mode:"end"}):rt({start:c.start,span:c.span},{mode:"span"});e("gridRow",p)},[e]);return{setArea:r,setTracks:s,writeColumn:u,writeRow:i,set:e,setMany:n,unset:o}}var Mt=T(P()),le=T(V()),Bt=T(E());function It(t){let e=(0,Mt.useSelect)(s=>t?s(le.store).getBlock(t)?.attributes??void 0:void 0,[t]),n=(0,Mt.useSelect)(O,[]),o=(0,Bt.useMemo)(()=>e&&n?$(e,n):void 0,[e,n]);if(!o)return;let r=s=>String(o.$get(s)??"");return(0,Bt.useMemo)(()=>{let s=r("gridTemplateColumns"),u=r("gridTemplateRows"),i=r("gridTemplateAreas"),a=At(s),c=At(u),p=xt(s),x=xt(u),k={...a,count:p},m={...c,count:x},b=ie(i),f={template:i||"",hasAreas:b.hasAreas,cols:b.cols,rows:b.rows};return{columns:k,rows:m,areas:f,activePane:{columns:k.mode,rows:m.mode}}},[o.$get,o.costered,n])}var Y=T(E()),me=T(P()),fe=T(V());function ht(t){let{set:e,unset:n}=tt(t),o=(0,me.useSelect)(m=>m(fe.store)?.getBlock?.(t)?.innerBlocks?.length||0,[t]),r=It(t),s=r?.columns?.template??"",u=r?.rows?.template??"",i=r?.areas?.template??"",a=(0,Y.useMemo)(()=>{if(s){let b=K(s),f=R(b?.count??b);if(f>0)return f}let m=R(r?.rows?.count)||(()=>{if(!u)return 0;let b=K(u);return R(b?.count??b)})();return m>0&&o>0?Math.ceil(o/m):0},[s,u,r?.rows?.count,o]),c=(0,Y.useMemo)(()=>{let m=R(r?.rows?.count);if(m>0)return m;if(u){let f=K(u),w=R(f?.count??f);if(w>0)return w}let b=R(a);return b>0&&o>0?Math.ceil(o/b):0},[u,r?.rows?.count,a,o]),p=(0,Y.useCallback)(m=>{let b=ue(m,".");b?e("gridTemplateAreas",b):n("gridTemplateAreas")},[e,n]),x=(0,Y.useCallback)(()=>{n("gridTemplateAreas")},[n]),k=(0,Y.useCallback)((m=".")=>{let b=ae(i,m),f=R(b[0]?.length)||R(a),w=R(b.length)||R(c);return f===0&&w>0&&o>0?f=Math.ceil(o/w):w===0&&f>0&&o>0&&(w=Math.ceil(o/f)),f===0&&(f=1),w===0&&(w=1),nt(b.map(g=>g.map(d=>String(d||m))),f,w,m)},[i,a,c,o]);return{areasTemplate:i,trackColumnCount:a,trackRowCount:c,applyMatrixToStore:p,clearAreasInStore:x,seedFromStore:k}}var Et=T(E()),Pt=T(P());function un(t,e={}){let n=e.keys??Array.from(te),{parentId:o,parentBlock:r}=(0,Pt.useSelect)(a=>{let c=a("core/block-editor"),p=t||c?.getSelectedBlockClientId?.();if(!p)return{parentId:null,parentBlock:null};let x=c?.getBlockRootClientId?.(p)??null;return x?{parentId:x,parentBlock:c?.getBlock?.(x)||null}:{parentId:null,parentBlock:null}},[]),s=(0,Pt.useSelect)(O,[]),u=(0,Et.useMemo)(()=>{let a=r?.attributes;return a&&s?$(a,s):null},[r,s]),i=(0,Et.useMemo)(()=>{if(!r||!u)return null;let a={};for(let c=0;c<n.length;c++){let p=n[c];a[p]=u.$get(p,{cascade:!0})}return a},[r,u,n]);return{parentId:o,parentAttrs:i,parentBlock:r,parentAugmented:u}}var _t=T(P()),L=T(E());function an(t){let{parentId:e,parentBlock:n}=(0,_t.useSelect)(k=>{let m=k("core/block-editor"),b=t||m?.getSelectedBlockClientId?.();if(!b)return{parentId:null,parentBlock:null};let f=m?.getBlockRootClientId?.(b)??null;if(!f)return{parentId:null,parentBlock:null};let w=m?.getBlock?.(f)??null;return{parentId:f,parentBlock:w}},[t]),o=(0,_t.useSelect)(O,[]),r=(0,L.useMemo)(()=>{let k=n?.attributes;return k&&o?$(k,o):null},[n,o]),s=(0,L.useMemo)(()=>String(r?.$get?.("gridTemplateColumns",{cascade:!0})??""),[r,r?.$bp]),u=(0,L.useMemo)(()=>String(r?.$get?.("gridTemplateRows",{cascade:!0})??""),[r,r?.$bp]),i=(0,L.useMemo)(()=>String(r?.$get?.("gridTemplateAreas",{cascade:!0})??""),[r,r?.$bp]),a=(0,L.useMemo)(()=>K(s).count,[s]),c=(0,L.useMemo)(()=>K(u).count,[u]),p=(0,L.useMemo)(()=>String(r?.$get?.("display",{cascade:!0})??"").trim(),[r,r?.$bp]),x=(0,L.useMemo)(()=>/^(grid|inline-grid)$/i.test(p),[p]);return{parentId:e,parentBlock:n,parent:r,display:p,isGrid:x,columnTemplate:s,rowTemplate:u,areaTemplate:i,columns:a,rows:c}}var ge=T(P()),ye=T(V());function cn(t,e){return(0,ge.useSelect)(n=>{if(t&&t.trim()!=="")return t;let o=n(ye.store),r=e||o?.getSelectedBlockClientId?.();return(r?o?.getBlock?.(r):null)?.name??null},[t,e])}var $t=T(P()),ke=T(V()),be=T(E());var Dt=Object.freeze({});function pn(){let t=(0,$t.useSelect)(O,[]),{selectedBlock:e,clientId:n,attrVersion:o}=(0,$t.useSelect)(s=>{let u=s(ke.store),i=u?.getSelectedBlockClientId?.(),a=i?u?.getBlock?.(i):null,p=(a?.attributes??Dt)?.costered??{},x=Array.isArray(p?.desktop?.styles)?p.desktop.styles.length:0,k=Array.isArray(p?.tablet?.styles)?p.tablet.styles.length:0,m=Array.isArray(p?.mobile?.styles)?p.mobile.styles.length:0,b=`${x}-${k}-${m}`;return{selectedBlock:a,clientId:i,attrVersion:b}},[]),r=(0,be.useMemo)(()=>{let s=e?.attributes??Dt;return $(s,t)||Dt},[e,t,o]);return{selectedBlock:e,clientId:n,attributes:r}}var pt=T(P()),Ot=T(we()),Nt=T(E());function dn(t,e,n="costered-blocks"){let o=(0,pt.useSelect)(a=>a(Ot.store).get(n,t)?.get?.(n,t)??e,[t,e,n]),{set:r,__experimentalReset:s}=(0,pt.useDispatch)(Ot.store),u=(0,Nt.useCallback)(a=>{t.startsWith("__invalid__")||r(n,t,a)},[t,n,r]),i=(0,Nt.useCallback)(()=>{t.startsWith("__invalid__")||s?.(n,t)},[t,n,s]);return[o,u,i]}function ln(t,e={}){let{blockName:n,variant:o}=e;return!n&&!o?t:n&&!o?`${t}:${n}`:!n&&o?`${t}#${o}`:`${t}:${n}#${o}`}})();
