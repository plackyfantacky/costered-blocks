(()=>{var Ne=Object.create;var Wt=Object.defineProperty;var Ge=Object.getOwnPropertyDescriptor;var je=Object.getOwnPropertyNames;var Le=Object.getPrototypeOf,We=Object.prototype.hasOwnProperty;var ct=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ue=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of je(e))!We.call(t,r)&&r!==n&&Wt(t,r,{get:()=>e[r],enumerable:!(o=Ge(e,r))||o.enumerable});return t};var h=(t,e,n)=>(n=t!=null?Ne(Le(t)):{},Ue(e||!t||!t.__esModule?Wt(n,"default",{value:t,enumerable:!0}):n,t));var P=ct((bn,Ut)=>{Ut.exports=wp.data});var V=ct((Sn,Kt)=>{Kt.exports=wp.blockEditor});var E=ct((xn,Ft)=>{Ft.exports=wp.element});var we=ct((vr,Ae)=>{Ae.exports=wp.preferences});var kt=h(P()),oe=h(V()),G=h(E());var I={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var q=t=>Array.isArray(t)?t:[],Fe=t=>new Set(q(t));function $(t){let e=I.attributes||{};return Object.fromEntries(Object.entries(e).filter(([,n])=>n.group===t))}var Ht=$("display"),Yt=$("dimension"),Jt=$("margin"),Vt=$("padding"),zt=$("flex"),Xt=$("flex-item"),qt=$("grid"),mt=$("grid-item"),Zt=$("position"),Qt=$("shared"),hn={...Ht,...Yt,...Jt,...Vt,...zt,...Xt,...qt,...mt,...Zt,...Qt},te=new Set([...Object.keys(mt)]),Cn=q(I?.collections?.editorStyles),ee=Fe(I?.collections?.unitless),ft=I?.settings?.gridUnit||"1fr",Bn=!!I?.settings?.appendImportantToMirroredStyles,Tn=I?.settings?.styleTagId||"costered-blocks-style-mirror",Z=I?.settings?.reduxStoreKey||"costered/ui",Mn=I?.settings?.breakpoints?.mobile??782,Rn=I?.settings?.breakpoints?.tablet??1024,In=I?.settings?.breakpoints?.desktop??1440,vn=q(I?.collections?.clearSets?.gridAreas),En=q(I?.collections?.clearSets?.gridColumns),Pn=q(I?.collections?.clearSets?.gridRows);var ne=new Set([...Object.keys(Ht),...Object.keys(Yt),...Object.keys(Vt),...Object.keys(Jt),...Object.keys(zt),...Object.keys(Xt),...Object.keys(qt),...Object.keys(mt),...Object.keys(Zt),...Object.keys(Qt)]),On=Object.fromEntries(Object.entries(I.attributes).map(([t,e])=>[t,e.css]));var U=t=>{let e=r=>{let s=r?.styles;return s&&typeof s=="object"&&!Array.isArray(s)?{...r,styles:{...s}}:{...r||{},styles:{}}},n=t&&typeof t=="object"?t:{},o=!!n.desktop||!!n.tablet||!!n.mobile;return{desktop:e(n.desktop),tablet:e(n.tablet),mobile:e(n.mobile)}};var gt=t=>t==null||t===""||t==="null"||t==="undefined";var He="desktop",Ye=Object.freeze({});function re(t,e){let n=t?t[e]:void 0;return typeof n=="string"||typeof n=="number"?n:void 0}function _(t,e){let n=t||Ye,o={...n},r=U(n.costered),s=u=>{switch(u){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},a=(u,i={})=>{let f=i&&Object.prototype.hasOwnProperty.call(i,"cascade")?!!i.cascade:!0,g=i&&Object.prototype.hasOwnProperty.call(i,"raw")?!!i.raw:!f,m=e||He;if(g){let y=re(r?.[m]?.styles||{},u);return gt(y)?void 0:y}let b=s(m);for(let y of b){let A=re(r?.[y]?.styles||{},u);if(!gt(A))return A}};return Object.defineProperties(o,{$get:{value:a,enumerable:!1},$getCascade:{value:u=>a(u,{cascade:!0}),enumerable:!1},$getMany:{value:(u,i)=>{let f={};for(let g=0;g<u.length;g++){let m=u[g];f[m]=a(m,i)}return f},enumerable:!1},$bp:{value:e,enumerable:!1}}),o}function yt(t){let e=(0,kt.useSelect)(i=>i(Z)?.getBreakpoint?.()||"desktop",[]),n=(0,kt.useSelect)(i=>t?i(oe.store)?.getBlockAttributes?.(t):void 0,[t]),o=(0,G.useMemo)(()=>n?_(n,e):void 0,[n,e]),r=(0,G.useCallback)((i,f)=>{if(o?.$get)return o.$get(i,f)},[o]),s=(0,G.useCallback)((i,f)=>o?.$get?o.$get(i,f):void 0,[o]),a=(0,G.useCallback)((i,f)=>o?.$getMany?o.$getMany([...i],f):Object.fromEntries(i.map(g=>[g,void 0])),[o]),p=(0,G.useCallback)((i,f="")=>{let g=r(i);return typeof g=="string"?g:f},[r]),c=(0,G.useCallback)((i,f=0)=>{let g=r(i);return typeof g=="number"?g:f},[r]);function u(i,f,g){let m=r(i);return typeof m=="string"&&f.includes(m)?m:g}return(0,G.useMemo)(()=>({get:r,getAs:s,getMany:a,getString:p,getNumber:c,getEnum:u,bp:e,attributes:o}),[r,s,a,p,c,u,e,o])}var j=h(E()),K=h(P());function Q(t,e){let o=t?.costered?.[e]?.styles;return o&&typeof o=="object"&&!Array.isArray(o)?{...o}:{}}function tt(t,e,n){if(!n||typeof n!="object"||Array.isArray(n))throw new Error("withBreakpointStyles expects a plain object of camelCase CSS properties \u2192 string values.");let o=t.costered??{},s={...o[e]??{styles:{}},styles:{...n}},a={...o,[e]:s};return{...t,costered:a}}function Je(t){return typeof t=="string"&&t.trim().length>0}function Ve(){let t=globalThis?.crypto?.randomUUID;if(typeof t=="function")return t.call(globalThis.crypto);let e=Date.now().toString(36),n=Math.random().toString(36).slice(2,10);return`${e}-${n}`}function et(t){t&&(Je(t.costeredId)||(t.costeredId=Ve()))}var bt=h(P());var St="desktop",xt="tablet",At="mobile",ze=t=>{let e=String(t??"").toLowerCase();return e==="tablet"||e==="medium"?xt:e==="mobile"||e==="phone"?At:St},se=t=>{try{let n=t?.("core/editor")?.getDeviceType?.();if(n)return n}catch{}try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},D=t=>{try{let o=(typeof t=="function"?t(Z):(0,bt.select)(Z))?.getBreakpoint?.();if(o===St||o===xt||o===At)return o}catch{}let e=se(typeof t=="function"?t:bt.select);if(e)return ze(e);if(typeof window<"u"){let n=window.__COSTERED_VIEWPORT_BP;if(n===St||n===xt||n===At)return n}return"desktop"};var Xe="desktop";function nt(t,e,n={trim:!0,emptyUnsets:!0}){let o=(typeof e=="object"?e:n)||{},{trim:r=!0,emptyUnsets:s=!0,breakpoint:a}=o,p=(0,K.useSelect)(D,[]),c=a||p||Xe,{updateBlockAttributes:u}=(0,K.useDispatch)("core/block-editor"),i=(0,j.useMemo)(()=>{if(typeof t=="string"){let l=t;return k=>{if(l)if(typeof k=="function"){let d=(0,K.select)("core/block-editor")?.getBlockAttributes(l)||{},S=k(d)||d;u(l,S)}else u(l,k||{})}}if(typeof t=="function"&&typeof e=="string"){let l=t,k=e;return d=>{if(!k)return;if(typeof d=="function"){let C=(0,K.select)("core/block-editor")?.getBlockAttributes(k)||{},R=d(C)||C;try{l(k,R)}catch{l(R)}return}let S=d||{};try{l(k,S)}catch{l(S)}}}if(typeof t=="function"){let l=t;return k=>{if(typeof k=="function"){let d=k({});l(d)}else l(k||{})}}return()=>{}},[t,e,u]),f=(0,j.useCallback)((l,k)=>{if(l==null)return;if(te.has(k)){let S=typeof l=="string"&&r?l.trim():String(l);return s&&S===""?void 0:S}let d=l;if(r&&typeof d=="string"&&(d=d.trim()),!(s&&(d===""||d=="null"||d=="undefined"))){if(ee.has(k)){if(typeof d=="string"&&/^-?\d+(\.\d+)?$/.test(d)){let S=Number(d);return Number.isFinite(S)?S:void 0}return typeof d=="number"&&Number.isFinite(d)?d:void 0}if(typeof d=="number")return Number.isFinite(d)?d:void 0;if(typeof d=="string")return d==="null"||d==="undefined"?void 0:d;try{return String(d)}catch{return}}},[r,s]),g=(0,j.useCallback)((l,k)=>{i(d=>{let S={...d||{}};et(S),S.costered=U(S.costered);let C=f(k,l),M={...Q(S,c)};if(C===void 0)if(Object.prototype.hasOwnProperty.call(M,l))delete M[l];else return d;else M[l]=String(C);return tt(S,c,M)})},[i,c,f]),m=(0,j.useCallback)(l=>{!l||typeof l!="object"||i(k=>{let d={...k||{}};et(d),d.costered=U(d.costered);let C={...Q(d,c)};for(let[R,M]of Object.entries(l)){let W=f(M,R);W===void 0?Object.prototype.hasOwnProperty.call(C,R)&&delete C[R]:C[R]=String(W)}return tt(d,c,C)})},[i,c,f]),b=(0,j.useCallback)(l=>{i(k=>{let d={...k||{}};et(d),d.costered=U(d.costered);let S=Q(d,c);if(!Object.prototype.hasOwnProperty.call(S,l))return k;let C={...S};return delete C[l],tt(d,c,C)})},[i,c]),y=(0,j.useCallback)(l=>{!Array.isArray(l)||l.length===0||i(k=>{let d={...k||{}};et(d),d.costered=U(d.costered);let S=Q(d,c),C=!1,R={...S};for(let M=0;M<l.length;M++){let W=l[M];Object.prototype.hasOwnProperty.call(R,W)&&(delete R[W],C=!0)}return C?tt(d,c,R):k})},[i,c]),A=(0,j.useCallback)(l=>({set:(k,d)=>g(`${l}${k}`,d),setMany:k=>{let d={};for(let[S,C]of Object.entries(k))d[`${l}${S}`]=C;m(d)},unset:k=>b(`${l}${k}`),unsetMany:k=>y(k.map(d=>`${l}${d}`))}),[g,m,b,y]);return{set:g,setMany:m,unset:b,unsetMany:y,withPrefix:A,activeBreakpoint:c}}var O=h(E());function ht(t){return String(t??"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function qe(t){let e=String(t??"").trim();if(!e)return[];let n=0,o=0,r="",s=[];for(let a=0;a<e.length;a++){let p=e[a];if(p==="("){n++,r+=p;continue}if(p===")"){n=Math.max(0,n-1),r+=p;continue}if(p==="["){o++,r+=p;continue}if(p==="]"){o=Math.max(0,o-1),r+=p;continue}if(p===" "&&n===0&&o===0){r&&(s.push(r),r="");continue}r+=p}return r&&s.push(r),s}function Ze(t){let e=String(t??"").trim();if(!e)return null;let n=e.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!n||n[1]===void 0||n[2]===void 0)return null;let o=Number.parseInt(n[1],10),r=n[2].trim();return!Number.isFinite(o)||o<0||r===""?null:{count:o,unit:r}}function Qe(t,e=ft){return t>0?`repeat(${t}, ${e})`:null}function H(t,e=ft){if(!t||typeof t!="string")return{count:0,unit:e};let n=t.trim();if(!n)return{count:0,unit:e};if(/^subgrid\b/i.test(n))return{count:0,unit:e};if(n=n.replace(/\[[^\]]*]/g," ").trim(),!n)return{count:0,unit:e};let o=n.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(o){let s=o[2];return{count:0,unit:wt(s,e)}}let r=tn(n,e);return{count:r.count,unit:r.unit||e}}function tn(t,e){let n=ie(t);if(n){let p=n.inner.trim(),u=rt(p).length,i=wt(p,e);return{count:n.times*u,unit:i||e}}let o=rt(t),r=0,s="";for(let p of o){if(/^\s*repeat\(/i.test(p)){let c=ue(p);if(c){r+=c.count,!s&&c.unitHint&&(s=c.unitHint);continue}r+=1;continue}r+=1,!s&&pt(p)&&(s=F(p)??"")}let a=s||wt(t,e);return{count:r,unit:a||e}}function ie(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let n=parseInt(e[1],10),o=e[2];return!Number.isFinite(n)||n<0?null:{times:n,inner:o}}function ue(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let n=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let o=parseInt(n[1],10)||0;if(o<=0)return{count:0,unitHint:""};let r=n[2].trim(),s=rt(r),a=o*s.length,p="";if(s.length===1)p=F(s[0])??"";else{let c=s.find(pt);p=F(c)??""}return{count:a,unitHint:p}}function rt(t){let e=[],n=0,o="";for(let r=0;r<t.length;r++){let s=t[r];if(s==="("){n++,o+=s;continue}if(s===")"){n=Math.max(0,n-1),o+=s;continue}if(n===0&&/\s/.test(s)){o.trim()&&e.push(o.trim()),o="";continue}o+=s}return o.trim()&&e.push(o.trim()),e}function wt(t,e){if(!t)return e;let n=ie(t);if(n){let s=rt(n.inner);if(s.length===1)return F(s[0])||e;let a=s.find(pt);if(a)return F(a)||e}let o=rt(t);if(o.length===1)return F(o[0])||e;let r=o.find(pt);if(r)return F(r)||e;for(let s of o){let a=ue(s);if(a&&a.unitHint)return a.unitHint}return e}function pt(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function F(t){return t?t.trim():""}function T(t){let e=Number(t);return Number.isFinite(e)&&e>=0?Math.floor(e):0}function ae(t){let e=String(t??"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let n=[],o=/"([^"]*)"|'([^']*)'/g,r;for(;r=o.exec(e);){let a=(r[1]??r[2]??"").trim();a&&n.push(a)}return n.length?{hasAreas:!0,cols:n.reduce((a,p)=>{let c=p.split(/\s+/).filter(Boolean).length;return Math.max(a,c)},0),rows:n.length}:{hasAreas:!1,cols:0,rows:0}}function ce(t,e="."){if(!Array.isArray(t)||t.length===0)return"";let n=t.map(r=>(Array.isArray(r)?r:[]).map(s=>{let a=String(s??"").trim();return a===""?e:a}));return n.some(r=>r.some(s=>s!==e))?n.map(r=>`"${r.join(" ")}"`).join(" "):""}function pe(t,e="."){let n=String(t??"").trim();if(!n)return[];let o=[],r=/"([^"]*)"|'([^']*)'/g,s;for(;s=r.exec(n);){let a=(s[1]??s[2]??"").trim(),p=a.length?a.split(/\s+/g).map(c=>c&&c!==e?c:e):[];o.push(p)}return o}function ot(t,e,n,o){let r=T(e),s=T(n);if(r===0||s===0)return[];let a=Array.isArray(t)?t:[],p=[];for(let c=0;c<s;c++){let u=Array.isArray(a[c])?a[c]:[],i=Array.from({length:r},(f,g)=>{let m=u[g];return m===void 0?o:m});p.push(i)}return p}function Ct(t){let e=String(t??"").trim();if(!e||/^subgrid\b/i.test(e))return 0;let n=e.replace(/\[[^\]]*\]/g," ").trim();return n=n.replace(/repeat\(\s*(\d+)\s*,\s*([^)]+)\)/gi,(o,r,s)=>Array.from({length:parseInt(r,10)||0},()=>"X").join(" ")),n=n.replace(/\s+/g," ").trim(),n?n.split(" ").filter(Boolean).length:0}function en(t){let e=Ze(t);if(!e)return null;let n=ht(Qe(e.count,e.unit));return{mode:"simple",template:t?String(t):null,normalised:n,simple:{count:e.count,unit:e.unit}}}function nn(t){let e=qe(t);if(!e.length)return null;let n=ht(e.join(" "));return{mode:"tracks",template:t?String(t):null,normalised:n,tracks:e}}var rn=[en,nn];function Bt(t){let e=t??"";for(let n of rn){let o=n(e);if(o)return o}return{mode:"raw",template:t?String(t):null,normalised:ht(t??"")}}function on(t){let{areasTemplate:e,trackColumnCount:n,trackRowCount:o,applyMatrixToStore:r,clearAreasInStore:s,seedFromStore:a}=Tt(t),p=(0,O.useMemo)(()=>a("."),[a]),c=(0,O.useMemo)(()=>({count:p?.[0]?.length||T(n)}),[p,n]),u=(0,O.useMemo)(()=>({count:p?.length||T(o)}),[p,o]),i=(0,O.useCallback)(A=>{let l=A[0]?.length||0,k=A.length||0,d=A.map(C=>C.map(R=>{let M=String(R??"").trim();return M===""?".":M})),S=ot(d,l,k,".");r(S)},[r]),f=(0,O.useMemo)(()=>{let A=p?.length||0,l=A&&p[0]?.length||0;return{rows:A,cols:l}},[p]),g=(0,O.useCallback)((A,l)=>A>=0&&A<f.cols&&l>=0&&l<f.rows,[f]),m=(0,O.useCallback)((A,l,k)=>{let d=p;if(d.length===0)return;let S=Math.trunc(T(A))||0,C=Math.trunc(T(l))||0;if(!g(S,C))return;let R=String(k??"").trim()||".",M=d.map(W=>W.slice());M[C][S]=R,i(M)},[p,i,g]),b=(0,O.useCallback)(({rows:A,cols:l})=>{let k=T(A),d=T(l);if(!(k>0&&d>0))return;let S=ot(p,d,k,".");i(S)},[p,i]),y=(0,O.useCallback)(()=>s(),[s]);return{matrix:p,columnData:c,rowData:u,setCell:m,resize:b,clear:y}}var w=h(E());function Y(t,e,n){return Math.min(Math.max(t,e),n)}function v(t,e=1){let n=Number(t);return Number.isFinite(n)?Math.trunc(n):e}function N(t){if(typeof t=="number")return Number.isInteger(t);let e=String(t);return/^-?\d+$/.test(e)}function Mt(t,e=1){let n=Number.parseInt(String(t),10);return Number.isFinite(n)&&n!==0?n:e}function de(t){let e=Number.parseInt(String(t),10);return Number.isFinite(e)?e:""}var Rt=t=>{let e={start:"",span:"",end:""},n=String(t??"").trim();if(!n)return e;let o=n.split("/").map(p=>p.trim());if(o.length===1)return/^span\s+\d+$/i.test(o[0])?e.span=o[0].replace(/^span\s+/i,""):e.start=o[0],e;let r=o[0],s=o[1];e.start=r||"auto";let a=/^span\s+(\d+)$/i.exec(s);return a?e.span=a[1]:e.end=s,e},st=({start:t,span:e,end:n},{mode:o="span",collapseSpanOne:r=!0}={})=>{let s=String(t??"").trim()||"auto";if(o==="end"){let p=String(n??"").trim()||"auto";return`${s} / ${p}`}let a=v(e,1);return r&&a===1&&s!=="auto"?s:`${s} / span ${a}`},It=t=>{let e=new Set,n=/\[([^\]]+)\]/g,o;for(;(o=n.exec(String(t??"")))!==null;){let r=o[1].trim();r&&r.split(/\s+/).forEach(s=>e.add(s))}return Array.from(e)},le=t=>/\//.test(String(t??""))||/\bspan\s+\d+\b/i.test(String(t??""));var me=Number.MAX_SAFE_INTEGER;function sn({clientId:t,setMany:e,parentMeta:n}){if(!t)return null;let{get:o}=yt(t),{writeColumn:r,writeRow:s}=vt(t),a=le(o("gridArea")),p=n?.columns??0,c=n?.rows??0,u=(0,w.useMemo)(()=>Rt(o("gridColumn")),[o]),i=(0,w.useMemo)(()=>Rt(o("gridRow")),[o]),f=u.end?"end":"span",g=i.end?"end":"span",[m,b]=(0,w.useState)(f),[y,A]=(0,w.useState)(g);(0,w.useEffect)(()=>{b(f)},[f]),(0,w.useEffect)(()=>{A(g)},[g]);let l=(0,w.useMemo)(()=>It(n.columnTemplate),[n.columnTemplate]),k=(0,w.useMemo)(()=>It(n.rowTemplate),[n.rowTemplate]),d=l.length>0,S=k.length>0,C=(x,B)=>B?N(x)?"number":"named":"number",R=x=>x?N(x)?"number":x==="auto"?"auto":"named":"number",M=(x,B)=>{let lt=R(x);return B?lt:lt==="named"?"number":lt},W=C(u.start,d),mn=C(i.start,S),fn=M(u.end,d),gn=M(i.end,S),z=(0,w.useMemo)(()=>{if(!p||!N(u.start))return me;let x=Y(v(u.start,1),1,p);return Math.max(1,p-x+1)},[p,u.start]),X=(0,w.useMemo)(()=>{if(!c||!N(i.start))return me;let x=Y(v(i.start,1),1,c);return Math.max(1,c-x+1)},[c,i.start]),[he,ut]=(0,w.useState)(null),[Ce,at]=(0,w.useState)(null);(0,w.useEffect)(()=>{ut(null)},[o("gridColumn")]),(0,w.useEffect)(()=>{at(null)},[o("gridRow")]);let Be=(0,w.useCallback)(x=>{let B=v(x,1);u.end?r(m,{start:B,end:u.end}):r(m,{start:B,span:Y(v(u.span,1),1,z)})},[u.end,u.span,z,r]),Te=(0,w.useCallback)(x=>{let B=String(x||"auto").trim()||"auto";u.end?r(m,{start:B,end:u.end}):r(m,{start:B,span:v(u.span,1)})},[u.end,u.span,r]),Me=(0,w.useCallback)(x=>{let B=Y(v(x,1),1,z);r(m,{start:u.start||"auto",span:B})},[u.start,z,r]),Re=(0,w.useCallback)(x=>{let B=v(x,0);ut(B),x!==0&&(r(m,{start:u.start||"auto",end:Mt(x,1)}),ut(null))},[u.start,r]),Ie=(0,w.useCallback)(x=>{r(m,{start:u.start||"auto",end:String(x||"auto").trim()||"auto"})},[u.start,r]),ve=(0,w.useCallback)(()=>{r(m,{start:u.start||"auto",end:"auto"})},[u.start,r]),Ee=(0,w.useCallback)(x=>{let B=v(x,1);i.end?s(y,{start:B,end:i.end}):s(y,{start:B,span:Y(v(i.span,1),1,X)})},[i.end,i.span,X,s]),Pe=(0,w.useCallback)(x=>{let B=String(x||"auto").trim()||"auto";i.end?s(y,{start:B,end:i.end}):s(y,{start:B,span:v(i.span,1)})},[i.end,i.span,y,s]),Oe=(0,w.useCallback)(x=>{let B=Y(v(x,1),1,X);s(y,{start:i.start||"auto",span:B})},[i.start,X,s]),$e=(0,w.useCallback)(x=>{let B=v(x,0);at(B),x!==0&&(s(y,{start:i.start||"auto",end:Mt(x,1)}),at(null))},[i.start,y,s]),_e=(0,w.useCallback)(x=>{s(y,{start:i.start||"auto",end:String(x||"auto").trim()||"auto"})},[i.start,y,s]),De=(0,w.useCallback)(()=>{s(y,{start:i.start||"auto",end:"auto"})},[i.start,y,s]);return{hasArea:a,disabledLines:a,numbers:{isIntToken:N,toInt:v,parseSigned:de},column:{values:{...u},modes:{uiStart:d?N(u.start)?"number":"named":"number",uiEnd:u.end?N(u.end)?"number":String(u.end)==="auto"?"auto":"named":"number",mode:m},setMode:b,named:{lines:l,hasLines:d},caps:{span:z},drafts:{end:he,setEnd:ut},handlers:{onStartNumber:Be,onStartNamed:Te,onSpan:Me,onEndNumber:Re,onEndNamed:Ie,onEndAuto:ve}},row:{values:{...i},modes:{uiStart:S?N(i.start)?"number":"named":"number",uiEnd:i.end?N(i.end)?"number":String(i.end)==="auto"?"auto":"named":"number",mode:y},setMode:A,named:{lines:k,hasLines:S},caps:{span:X},drafts:{end:Ce,setEnd:at},handlers:{onStartNumber:Ee,onStartNamed:Pe,onSpan:Oe,onEndNumber:$e,onEndNamed:_e,onEndAuto:De}}}}var it=h(E());function vt(t){let{set:e,setMany:n,unset:o}=nt(t),r=(0,it.useCallback)(c=>{let u=typeof c=="string"?c.trim():"";if(!u){o("gridArea");return}e("gridArea",u)},[e,o]),s=(0,it.useCallback)((c,u,i,f)=>{let g={};c!==void 0&&(g.gridRowStart=c||void 0),u!==void 0&&(g.gridRowEnd=u||void 0),i!==void 0&&(g.gridColumnStart=i||void 0),f!==void 0&&(g.gridColumnEnd=f||void 0),n(g)},[n]),a=(0,it.useCallback)((c,u)=>{let i=c==="end"?st({start:u.start,end:u.end},{mode:"end"}):st({start:u.start,span:u.span},{mode:"span"});e("gridColumn",i)},[e]),p=(0,it.useCallback)((c,u)=>{let i=c==="end"?st({start:u.start,end:u.end},{mode:"end"}):st({start:u.start,span:u.span},{mode:"span"});e("gridRow",i)},[e]);return{setArea:r,setTracks:s,writeColumn:a,writeRow:p,set:e,setMany:n,unset:o}}var Et=h(P()),fe=h(V()),Pt=h(E());function Ot(t){let e=(0,Et.useSelect)(s=>t?s(fe.store).getBlock(t)?.attributes??void 0:void 0,[t]),n=(0,Et.useSelect)(D,[]),o=(0,Pt.useMemo)(()=>e&&n?_(e,n):void 0,[e,n]);if(!o)return;let r=s=>String(o.$get(s)??"");return(0,Pt.useMemo)(()=>{let s=r("gridTemplateColumns"),a=r("gridTemplateRows"),p=r("gridTemplateAreas"),c=Bt(s),u=Bt(a),i=Ct(s),f=Ct(a),g={...c,count:i},m={...u,count:f},b=ae(p),y={template:p||"",hasAreas:b.hasAreas,cols:b.cols,rows:b.rows};return{columns:g,rows:m,areas:y,activePane:{columns:g.mode,rows:m.mode}}},[o.$get,o.costered,n])}var J=h(E()),ge=h(P()),ke=h(V());function Tt(t){let{set:e,unset:n}=nt(t),o=(0,ge.useSelect)(m=>m(ke.store)?.getBlock?.(t)?.innerBlocks?.length||0,[t]),r=Ot(t),s=r?.columns?.template??"",a=r?.rows?.template??"",p=r?.areas?.template??"",c=(0,J.useMemo)(()=>{if(s){let b=H(s),y=T(b?.count??b);if(y>0)return y}let m=T(r?.rows?.count)||(()=>{if(!a)return 0;let b=H(a);return T(b?.count??b)})();return m>0&&o>0?Math.ceil(o/m):0},[s,a,r?.rows?.count,o]),u=(0,J.useMemo)(()=>{let m=T(r?.rows?.count);if(m>0)return m;if(a){let y=H(a),A=T(y?.count??y);if(A>0)return A}let b=T(c);return b>0&&o>0?Math.ceil(o/b):0},[a,r?.rows?.count,c,o]),i=(0,J.useCallback)(m=>{let b=ce(m,".");b?e("gridTemplateAreas",b):n("gridTemplateAreas")},[e,n]),f=(0,J.useCallback)(()=>{n("gridTemplateAreas")},[n]),g=(0,J.useCallback)((m=".")=>{let b=pe(p,m),y=T(b[0]?.length)||T(c),A=T(b.length)||T(u);return y===0&&A>0&&o>0?y=Math.ceil(o/A):A===0&&y>0&&o>0&&(A=Math.ceil(o/y)),y===0&&(y=1),A===0&&(A=1),ot(b.map(k=>k.map(d=>String(d||m))),y,A,m)},[p,c,u,o]);return{areasTemplate:p,trackColumnCount:c,trackRowCount:u,applyMatrixToStore:i,clearAreasInStore:f,seedFromStore:g}}var $t=h(E()),_t=h(P());function un(t,e={}){let n=e.keys??Array.from(ne),{parentId:o,parentBlock:r}=(0,_t.useSelect)(c=>{let u=c("core/block-editor"),i=t||u?.getSelectedBlockClientId?.();if(!i)return{parentId:null,parentBlock:null};let f=u?.getBlockRootClientId?.(i);return f?{parentId:f,parentBlock:u?.getBlock?.(f)||null}:{parentId:null,parentBlock:null}},[]),s=(0,_t.useSelect)(D,[]),a=(0,$t.useMemo)(()=>{let c=r?.attributes;return c&&s?_(c,s):null},[r?.attributes,s]),p=(0,$t.useMemo)(()=>{if(!r)return null;let c={};for(let u of n)c[u]=a?.$get(u);return c},[r,a,n]);return{parentId:o,parentAttrs:p,parentBlock:r,parentAugmented:a}}var Dt=h(P()),L=h(E());function an(t){let{parentId:e,parentBlock:n}=(0,Dt.useSelect)(g=>{let m=g("core/block-editor"),b=t||m?.getSelectedBlockClientId?.();if(!b)return{parentId:null,parentBlock:null};let y=m?.getBlockRootClientId?.(b)??null;if(!y)return{parentId:null,parentBlock:null};let A=m?.getBlock?.(y)??null;return{parentId:y,parentBlock:A}},[t]),o=(0,Dt.useSelect)(D,[]),r=(0,L.useMemo)(()=>{let g=n?.attributes;return g&&o?_(g,o):null},[n,o]),s=(0,L.useMemo)(()=>String(r?.$get?.("gridTemplateColumns",{cascade:!0})??""),[r,r?.$bp]),a=(0,L.useMemo)(()=>String(r?.$get?.("gridTemplateRows",{cascade:!0})??""),[r,r?.$bp]),p=(0,L.useMemo)(()=>String(r?.$get?.("gridTemplateAreas",{cascade:!0})??""),[r,r?.$bp]),c=(0,L.useMemo)(()=>H(s).count,[s]),u=(0,L.useMemo)(()=>H(a).count,[a]),i=(0,L.useMemo)(()=>String(r?.$get?.("display",{cascade:!0})??"").trim(),[r,r?.$bp]),f=(0,L.useMemo)(()=>/^(grid|inline-grid)$/i.test(i),[i]);return{parentId:e,parentBlock:n,parent:r,display:i,isGrid:f,columnTemplate:s,rowTemplate:a,areaTemplate:p,columns:c,rows:u}}var ye=h(P()),be=h(V());function cn(t,e){return(0,ye.useSelect)(n=>{if(typeof t=="string"&&t.trim()!=="")return t;let o=n(be.store),r=(e??void 0)||o?.getSelectedBlockClientId?.(),a=(r?o?.getBlock?.(r):void 0)?.name;return typeof a=="string"&&a.trim()!==""?a:void 0},[t,e])}var Gt=h(P()),Se=h(V()),xe=h(E());var Nt=Object.freeze({});function pn(){let t=(0,Gt.useSelect)(D,[]),{selectedBlock:e,clientId:n,attrVersion:o}=(0,Gt.useSelect)(s=>{let a=s(Se.store),p=a?.getSelectedBlockClientId?.(),c=p?a?.getBlock?.(p):null,i=(c?.attributes??Nt)?.costered??{},f=Array.isArray(i?.desktop?.styles)?i.desktop.styles.length:0,g=Array.isArray(i?.tablet?.styles)?i.tablet.styles.length:0,m=Array.isArray(i?.mobile?.styles)?i.mobile.styles.length:0,b=`${f}-${g}-${m}`;return{selectedBlock:c,clientId:p,attrVersion:b}},[]),r=(0,xe.useMemo)(()=>{let s=e?.attributes??Nt;return _(s,t)||Nt},[e,t,o]);return{selectedBlock:e,clientId:n,attributes:r}}var dt=h(P()),jt=h(we()),Lt=h(E());function dn(t,e,n="costered-blocks"){let o=(0,dt.useSelect)(c=>c(jt.store).get(n,t)?.get?.(n,t)??e,[t,e,n]),{set:r,__experimentalReset:s}=(0,dt.useDispatch)(jt.store),a=(0,Lt.useCallback)(c=>{t.startsWith("__invalid__")||r(n,t,c)},[t,n,r]),p=(0,Lt.useCallback)(()=>{t.startsWith("__invalid__")||s?.(n,t)},[t,n,s]);return[o,a,p]}function ln(t,e={}){let n=s=>{if(s===null)return;let a=s?.trim();if(a)return encodeURIComponent(a)},o=n(e.blockName),r=n(e.variant);return!o&&!r?t:o&&!r?`${t}:${o}`:!o&&r?`${t}#${r}`:`${t}:${o}#${r}`}})();
