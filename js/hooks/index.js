(()=>{var $e=Object.create;var Pt=Object.defineProperty;var Oe=Object.getOwnPropertyDescriptor;var Ge=Object.getOwnPropertyNames;var Ne=Object.getPrototypeOf,Le=Object.prototype.hasOwnProperty;var rt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var je=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ge(t))!Le.call(e,o)&&o!==n&&Pt(e,o,{get:()=>t[o],enumerable:!(r=Oe(t,o))||r.enumerable});return e};var h=(e,t,n)=>(n=e!=null?$e(Ne(e)):{},je(t||!e||!e.__esModule?Pt(n,"default",{value:e,enumerable:!0}):n,e));var v=rt((gn,$t)=>{$t.exports=wp.data});var L=rt((yn,Ot)=>{Ot.exports=wp.blockEditor});var B=rt((bn,Gt)=>{Gt.exports=wp.element});var ye=rt((Mr,ge)=>{ge.exports=wp.preferences});var mt=h(v()),Zt=h(L()),H=h(B());var M={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var Nt=e=>Array.isArray(e)?e:[],Ke=e=>new Set(Nt(e));function D(e){return Object.fromEntries(Object.entries(M.attributes).filter(([t,n])=>n.group===e))}var Lt=D("display"),jt=D("dimension"),Wt=D("margin"),Kt=D("padding"),Ut=D("flex"),Vt=D("flex-item"),Ht=D("grid"),pt=D("grid-item"),Ft=D("position"),Yt=D("shared"),xn={...Lt,...jt,...Wt,...Kt,...Ut,...Vt,...Ht,...pt,...Ft,...Yt},zt=new Set([...Object.keys(pt)]),wn=Nt(M?.collections?.editorStyles),Xt=Ke(M?.collections?.unitless),lt=M?.settings?.gridUnit||"1fr",hn=!!M?.settings?.appendImportantToMirroredStyles,An=M?.settings?.styleTagId||"costered-blocks-style-mirror",ot=M?.settings?.reduxStoreKey||"costered/ui",Tn=M?.settings?.breakpoints?.mobile??782,Rn=M?.settings?.breakpoints?.tablet??1024,En=M?.settings?.breakpoints?.desktop??1440,In=M?.collections?.clearSets?.gridAreas,Mn=M?.collections?.clearSets?.gridColumns,Cn=M?.collections?.clearSets?.gridRows;var qt=new Set([...Object.keys(Lt),...Object.keys(jt),...Object.keys(Kt),...Object.keys(Wt),...Object.keys(Ut),...Object.keys(Vt),...Object.keys(Ht),...Object.keys(pt),...Object.keys(Ft),...Object.keys(Yt)]),vn=Object.fromEntries(Object.entries(M.attributes).map(([e,t])=>[e,t.css]));var j=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t};var dt=e=>e==null||e===""||e==="null"||e==="undefined";var Ue="desktop",Ve=Object.freeze({});function P(e,t){let n=e||Ve,r={...n},o=j(n.costered),i=p=>{switch(p){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},s=(p,c=void 0)=>{let S=c&&Object.prototype.hasOwnProperty.call(c,"cascade")?!!c.cascade:!0,A=c&&Object.prototype.hasOwnProperty.call(c,"raw")?!!c.raw:!S,y=t||Ue;if(A){let w=o?.[y]?.styles?.[p];return dt(w)?void 0:w}let x=i(y);for(let w of x){let b=o?.[w]?.styles?.[p];if(!dt(b))return b}};return Object.defineProperties(r,{$get:{value:s,enumerable:!1},$getCascade:{value:p=>s(p,{cascade:!0}),enumerable:!1},$getMany:{value:(p,c)=>{let S={};for(let A of p)S[A]=s(A,c);return S},enumerable:!1},$bp:{value:t,enumerable:!1}}),r}function ft(e){let t=(0,mt.useSelect)(s=>s(ot)?.getBreakpoint?.()||"desktop",[]),n=(0,mt.useSelect)(s=>e?s(Zt.store)?.getBlockAttributes?.(e):void 0,[e]),r=(0,H.useMemo)(()=>n?P(n,t):void 0,[n,t]),o=(0,H.useCallback)((s,u)=>{if(r?.$get)return r.$get(s,u)},[r]),i=(0,H.useCallback)((s,u)=>{let a={};if(!r?.$get){for(let p=0;p<s.length;p++)a[s[p]]=void 0;return a}for(let p=0;p<s.length;p++){let c=s[p];a[c]=r.$get(c,u)}return a},[r]);return(0,H.useMemo)(()=>({get:o,getMany:i,bp:t,attributes:r}),[o,i,t,r])}var O=h(B()),N=h(v());function He(e){return Array.isArray(e)}function Jt(e){if(He(e)){let[t,n,r]=e;return r!==void 0?{property:t,value:n,important:r}:{property:t,value:n}}return e}function gt(e,t,n,r){let o=Array.isArray(e)?e.slice():[],i=-1;for(let u=0;u<o.length;u++)if(Jt(o[u]).property===t){i=u;break}let s=r!==void 0?{property:t,value:n,important:r}:{property:t,value:n};return i===-1?o.push(s):o[i]=s,o}function yt(e,t){let n=Array.isArray(e)?Array.from(e):[],r=[];for(let o=0;o<n.length;o++)Jt(n[o]).property!==t&&r.push(n[o]);return r}var Fe=e=>typeof e=="string"&&e.trim().length>0,Ye=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=Date.now().toString(36),t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},X=e=>{e&&!Fe(e.costeredId)&&(e.costeredId=Ye())};var q=h(v());var ze=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},Xe=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},$=e=>{try{let n=(0,q.select)(ot);if(n&&typeof n.getBreakpoint=="function"){let r=n.getBreakpoint();if(r)return r}}catch{}let t=Xe(e);if(t)return ze(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let n=(0,q.select)(STORE_KEY),r=n&&typeof n.getBreakpoint=="function"?n.getBreakpoint():null,o=(0,q.select)("core/edit-post"),i=o&&(typeof o.getPreviewDeviceType=="function"&&o.getPreviewDeviceType()||typeof o.__experimentalGetPreviewDeviceType=="function"&&o.__experimentalGetPreviewDeviceType()),s=(0,q.select)("core/edit-site"),u=s&&(typeof s.getDeviceType=="function"&&s.getDeviceType()||typeof s.__experimentalGetPreviewDeviceType=="function"&&s.__experimentalGetPreviewDeviceType()||typeof s.getPreviewDeviceType=="function"&&s.getPreviewDeviceType())}}catch{}return"desktop"};var qe="desktop";function Z(e,t,n={trim:!0,emptyUnsets:!0}){let r=(typeof t=="object"?t:n)||{},{trim:o=!0,emptyUnsets:i=!0,breakpoint:s}=r,u=(0,N.useSelect)($,[]),a=s||u||qe,{updateBlockAttributes:p}=(0,N.useDispatch)("core/block-editor"),c=(0,O.useMemo)(()=>{if(typeof e=="string"&&!t){let d=e;return m=>{if(d)if(typeof m=="function"){let l=(0,N.select)("core/block-editor")?.getBlockAttributes(d)||{},f=m(l)||l;p(d,f)}else p(d,m||{})}}if(typeof e=="function"&&typeof t=="string"){let d=e,m=t;return l=>{if(!m)return;if(typeof l=="function"){let T=(0,N.select)("core/block-editor")?.getBlockAttributes(m)||{},R=l(T)||T;try{d(m,R)}catch{d(R)}return}let f=l||{};try{d(m,f)}catch{d(f)}}}if(typeof e=="function"){let d=e;return m=>{if(typeof m=="function"){let l=(0,N.select)("core/block-editor")?.getBlockAttributes?.(void 0)||{},f=m(l)||l;d(f)}else d(m||{})}}return()=>{}},[e,t,p]),S=(0,O.useCallback)((d,m)=>{if(d==null)return;if(zt.has(m)){let f=typeof d=="string"&&o?d.trim():String(d);return i&&f===""?void 0:f}let l=d;if(o&&typeof l=="string"&&(l=l.trim()),!(i&&(l===""||l=="null"||l=="undefined"))){if(Xt.has(m)){if(typeof l=="string"&&/^-?\d+(\.\d+)?$/.test(l)){let f=Number(l);return Number.isFinite(f)?f:void 0}return typeof l=="number"&&Number.isFinite(l)?l:void 0}if(typeof l=="number")return Number.isFinite(l)?l:void 0;if(typeof l=="string")return l==="null"||l==="undefined"?void 0:l;try{return String(l)}catch{return}}},[o,i]),A=(0,O.useCallback)((d,m)=>{c(l=>{let f={...l||{}};X(f),f.costered=j(f.costered);let T=f.costered[a].styles,R=S(m,d),G=gt(T,d,R);return f.costered[a]={...f.costered[a],styles:G},f})},[c,a,S]),y=(0,O.useCallback)(d=>{!d||typeof d!="object"||c(m=>{let l={...m||{}};X(l),l.costered=j(l.costered);let T=l.costered[a].styles;for(let[R,G]of Object.entries(d)){let ct=S(G,R);T=gt(T,R,ct)}return l.costered[a]={...l.costered[a],styles:T||[]},l})},[c,a,S]),x=(0,O.useCallback)(d=>{c(m=>{let l={...m||{}};X(l),l.costered=j(l.costered);let f=l.costered[a].styles,T=yt(f,d);return(f?.length||0)===T.length?m:(l.costered[a]={...l.costered[a],styles:T},l)})},[c,a]),w=(0,O.useCallback)(d=>{!Array.isArray(d)||d.length===0||c(m=>{let l={...m||{}};X(l),l.costered=j(l.costered);let T=l.costered[a]?.styles;for(let R=0;R<d.length;R++)T=yt(T,d[R]);return l.costered[a]={...l.costered[a],styles:T||[]},l})},[c,a]),b=(0,O.useCallback)(d=>({set:(m,l)=>A(`${d}${m}`,l),setMany:m=>{let l={};for(let[f,T]of Object.entries(m))l[`${d}${f}`]=T;y(l)},unset:m=>x(`${d}${m}`),unsetMany:m=>w(m.map(l=>`${d}${l}`))}),[A,y,x,w]);return{set:A,setMany:y,unset:x,unsetMany:w,withPrefix:b,activeBreakpoint:a}}var _=h(B());function St(e){return String(e||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function Ze(e){let t=String(e??"").trim();if(!t)return[];let n=0,r=0,o="",i=[];for(let s=0;s<t.length;s++){let u=t[s];if(u==="("){n++,o+=u;continue}if(u===")"){n=Math.max(0,n-1),o+=u;continue}if(u==="["){r++,o+=u;continue}if(u==="]"){r=Math.max(0,r-1),o+=u;continue}if(u===" "&&n===0&&r===0){o&&(i.push(o),o="");continue}o+=u}return o&&i.push(o),i}function Je(e){let t=String(e??"").trim();if(!t)return null;let n=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);if(!n||n[1]===void 0||n[2]===void 0)return null;let r=Number.parseInt(n[1],10),o=n[2].trim();return!Number.isFinite(r)||r<0||o===""?null:{count:r,unit:o}}function Qe(e,t=lt){return e>0?`repeat(${e}, ${t})`:null}function K(e,t=lt){if(!e||typeof e!="string")return{count:0,unit:t};let n=e.trim();if(!n)return{count:0,unit:t};if(/^subgrid\b/i.test(n))return{count:0,unit:t};if(n=n.replace(/\[[^\]]*]/g," ").trim(),!n)return{count:0,unit:t};let r=n.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(r){let i=r[2];return{count:0,unit:bt(i,t)}}let o=tn(n,t);return{count:o.count,unit:o.unit||t}}function tn(e,t){let n=Qt(e);if(n){let u=n.inner.trim(),p=J(u).length,c=bt(u,t);return{count:n.times*p,unit:c||t}}let r=J(e),o=0,i="";for(let u of r){if(/^\s*repeat\(/i.test(u)){let a=te(u);if(a){o+=a.count,!i&&a.unitHint&&(i=a.unitHint);continue}o+=1;continue}o+=1,!i&&st(u)&&(i=W(u)||"")}let s=i||bt(e,t);return{count:o,unit:s||t}}function Qt(e){let t=e.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!t)return null;let n=parseInt(t[1],10),r=t[2];return!Number.isFinite(n)||n<0?null:{times:n,inner:r}}function te(e){if(e.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let n=e.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let r=parseInt(n[1],10)||0;if(r<=0)return{count:0,unitHint:""};let o=n[2].trim(),i=J(o),s=r*i.length,u="";if(i.length===1)u=W(i[0])||"";else{let a=i.find(st);u=W(a)||""}return{count:s,unitHint:u}}function J(e){let t=[],n=0,r="";for(let o=0;o<e.length;o++){let i=e[o];if(i==="("){n++,r+=i;continue}if(i===")"){n=Math.max(0,n-1),r+=i;continue}if(n===0&&/\s/.test(i)){r.trim()&&t.push(r.trim()),r="";continue}r+=i}return r.trim()&&t.push(r.trim()),t}function bt(e,t){if(!e)return t;let n=Qt(e);if(n){let i=J(n.inner);if(i.length===1)return W(i[0])||t;let s=i.find(st);if(s)return W(s)||t}let r=J(e);if(r.length===1)return W(r[0])||t;let o=r.find(st);if(o)return W(o)||t;for(let i of r){let s=te(i);if(s&&s.unitHint)return s.unitHint}return t}function st(e){return e?!!(/^(minmax|fit-content|clamp|var)\(/i.test(e)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(e)||/^(auto|max-content|min-content)$/i.test(e)):!1}function W(e){return e?e.trim():""}function E(e){let t=Number(e);return Number.isFinite(t)&&t>=0?Math.floor(t):0}function ee(e){let t=String(e??"").trim();if(!t)return{hasAreas:!1,cols:0,rows:0};let n=[],r=/"([^"]*)"|'([^']*)'/g,o;for(;o=r.exec(t);){let s=(o[1]??o[2]??"").trim();s&&n.push(s)}return n.length?{hasAreas:!0,cols:n.reduce((s,u)=>{let a=u.split(/\s+/).filter(Boolean).length;return Math.max(s,a)},0),rows:n.length}:{hasAreas:!1,cols:0,rows:0}}function ne(e,t="."){if(!Array.isArray(e)||e.length===0)return"";let n=e.map(o=>(Array.isArray(o)?o:[]).map(i=>{let s=String(i??"").trim();return s===""?t:s}));return n.some(o=>o.some(i=>i!==t))?n.map(o=>`"${o.join(" ")}"`).join(" "):""}function re(e,t="."){let n=String(e??"").trim();if(!n)return[];let r=[],o=/"([^"]*)"|'([^']*)'/g,i;for(;i=o.exec(n);){let s=(i[1]??i[2]??"").trim(),u=s.length?s.split(/\s+/g).map(a=>a&&a!==t?a:t):[];r.push(u)}return r}function Q(e,t,n,r){let o=E(t),i=E(n);if(o===0||i===0)return[];let s=Array.isArray(e)?e:[],u=[];for(let a=0;a<i;a++){let p=Array.isArray(s[a])?s[a]:[],c=Array.from({length:o},(S,A)=>{let y=p[A];return y===void 0?r:y});u.push(c)}return u}function en(e){let t=Je(e);if(!t)return null;let n=St(Qe(t.count,t.unit));return{mode:"simple",template:e?String(e):null,normalised:n,simple:{count:t.count,unit:t.unit}}}function nn(e){let t=Ze(e);if(!t.length)return null;let n=St(t.join(" "));return{mode:"tracks",template:e?String(e):null,normalised:n,tracks:t}}var rn=[en,nn];function kt(e){let t=e||"";for(let n of rn){let r=n(t);if(r)return r}return{mode:"raw",template:e?String(e):null,normalised:St(e||"")}}function on(e){let{areasTemplate:t,trackColumnCount:n,trackRowCount:r,applyMatrixToStore:o,clearAreasInStore:i,seedFromStore:s}=xt(e),u=(0,_.useMemo)(()=>s("."),[s]),a=(0,_.useMemo)(()=>({count:u?.[0]?.length||E(n)}),[u,n]),p=(0,_.useMemo)(()=>({count:u?.length||E(r)}),[u,r]),c=(0,_.useCallback)(b=>{let d=b[0]?.length||0,m=b.length||0,l=b.map(T=>T.map(R=>String(R??"").trim()||".")),f=Q(l,d,m,".");o(f)},[o]),S=(0,_.useMemo)(()=>{let b=u?.length||0,d=b&&u[0]?.length||0;return{rows:b,cols:d}},[u]),A=(0,_.useCallback)((b,d)=>b>=0&&b<S.cols&&d>=0&&d<S.rows,[S]),y=(0,_.useCallback)((b,d,m)=>{if(!Array.isArray(u)||u.length===0)return;let l=Math.trunc(E(b))||0,f=Math.trunc(E(d))||0;if(!A(l,f))return;let T=String(m??"").trim()||".",R=u.map(G=>G.slice());R[f][l]=T,c(R)},[u,c,A]),x=(0,_.useCallback)(({rows:b,cols:d})=>{let m=E(b),l=E(d);if(!(m>0&&l>0))return;let f=Q(u,l,m,".");c(f)},[u,c]),w=(0,_.useCallback)(()=>i(),[i]);return{matrix:u,columnData:a,rowData:p,setCell:y,resize:x,clear:w}}var k=h(B());function U(e,t,n){return Math.min(Math.max(e,t),n)}function C(e,t=1){let n=Number(e);return Number.isFinite(n)?n:t}function F(e){if(typeof e=="number")return Number.isInteger(e);let t=String(e);return/^-?\d+$/.test(t)}function wt(e,t=1){let n=parseInt(e,10);return Number.isFinite(n)&&n!==0?n:t}function oe(e){let t=parseInt(e,10);return Number.isFinite(t)?t:""}var ht=e=>{let t={start:"",span:"",end:""},n=String(e||"").trim();if(!n)return t;let r=n.split("/").map(u=>u.trim());if(r.length===1)return/^span\s+\d+$/i.test(r[0])?t.span=r[0].replace(/^span\s+/i,""):t.start=r[0],t;let o=r[0],i=r[1];t.start=o||"auto";let s=/^span\s+(\d+)$/i.exec(i);return s?t.span=s[1]:t.end=i,t};var At=e=>{let t=new Set,n=/\[([^\]]+)\]/g,r;for(;(r=n.exec(String(e||"")))!==null;){let o=r[1].trim();o&&o.split(/\s+/).forEach(i=>t.add(i))}return Array.from(t)},se=e=>/\//.test(String(e||""))||/\bspan\s+\d+\b/i.test(String(e||""));var ie=Number.MAX_SAFE_INTEGER;function sn({clientId:e,setMany:t,parentMeta:n}){if(!e)return null;let{get:r}=ft(e),o=se(r("gridArea")),{columns:i,rows:s,columnTemplate:u,rowTemplate:a}=n,p=(0,k.useMemo)(()=>ht(r("gridColumn")),[r]),c=(0,k.useMemo)(()=>ht(r("gridRow")),[r]),S=p.end?"end":"span",A=c.end?"end":"span",[y,x]=(0,k.useState)(S),[w,b]=(0,k.useState)(A);(0,k.useEffect)(()=>{x(S)},[S]),(0,k.useEffect)(()=>{b(A)},[A]);let d=it(t,"gridColumn",y),m=it(t,"gridRow",w),l=(0,k.useMemo)(()=>At(u),[u]),f=(0,k.useMemo)(()=>At(a),[a]),T=l.length>0,R=f.length>0,G=(g,I)=>I?F(g)?"number":"named":"number",ct=g=>g?F(g)?"number":g==="auto"?"auto":"named":"number",Dt=(g,I)=>{let at=ct(g);return I?at:at==="named"?"number":at},be=G(p.start,T),Se=G(c.start,R),ke=Dt(p.end,T),xe=Dt(c.end,R),Y=(0,k.useMemo)(()=>{if(!i||!F(p.start))return ie;let g=U(C(p.start,1),1,i);return Math.max(1,i-g+1)},[i,p.start]),z=(0,k.useMemo)(()=>{if(!s||!F(c.start))return ie;let g=U(C(c.start,1),1,s);return Math.max(1,s-g+1)},[s,c.start]),[we,et]=(0,k.useState)(null),[he,nt]=(0,k.useState)(null);(0,k.useEffect)(()=>{et(null)},[r("gridColumn")]),(0,k.useEffect)(()=>{nt(null)},[r("gridRow")]);let Ae=(0,k.useCallback)(g=>{let I=C(g,1);p.end?d({start:I,end:p.end}):d({start:I,span:U(C(p.span,1),1,Y)})},[p.end,p.span,Y,d]),Te=(0,k.useCallback)(g=>{let I=String(g||"auto").trim()||"auto";p.end?d({start:I,end:p.end}):d({start:I,span:C(p.span,1)})},[p.end,p.span,d]),Re=(0,k.useCallback)(g=>{let I=U(C(g,1),1,Y);d({start:p.start||"auto",span:I})},[p.start,Y,d]),Ee=(0,k.useCallback)(g=>{et(g),g!==0&&(d({start:p.start||"auto",end:wt(g,1)}),et(null))},[p.start,d]),Ie=(0,k.useCallback)(g=>{d({start:p.start||"auto",end:String(g||"auto").trim()||"auto"})},[p.start,d]),Me=(0,k.useCallback)(()=>{d({start:p.start||"auto",end:"auto"})},[p.start,d]),Ce=(0,k.useCallback)(g=>{let I=C(g,1);c.end?m({start:I,end:c.end}):m({start:I,span:U(C(c.span,1),1,z)})},[c.end,c.span,z,m]),ve=(0,k.useCallback)(g=>{let I=String(g||"auto").trim()||"auto";c.end?m({start:I,end:c.end}):m({start:I,span:C(c.span,1)})},[c.end,c.span,m]),Be=(0,k.useCallback)(g=>{let I=U(C(g,1),1,z);m({start:c.start||"auto",span:I})},[c.start,z,m]),_e=(0,k.useCallback)(g=>{nt(g),g!==0&&(m({start:c.start||"auto",end:wt(g,1)}),nt(null))},[c.start,m]),De=(0,k.useCallback)(g=>{m({start:c.start||"auto",end:String(g||"auto").trim()||"auto"})},[c.start,m]),Pe=(0,k.useCallback)(()=>{m({start:c.start||"auto",end:"auto"})},[c.start,m]);return{hasArea:o,disabledLines:o,numbers:{isIntToken:F,toInt:C,parseSigned:oe},column:{values:{...p},modes:{uiStart:be,uiEnd:ke,mode:y},setMode:x,named:{lines:l,hasLines:T},caps:{span:Y},drafts:{end:we,setEnd:et},handlers:{onStartNumber:Ae,onStartNamed:Te,onSpan:Re,onEndNumber:Ee,onEndNamed:Ie,onEndAuto:Me}},row:{values:{...c},modes:{uiStart:Se,uiEnd:xe,mode:w},setMode:b,named:{lines:f,hasLines:R},caps:{span:z},drafts:{end:he,setEnd:nt},handlers:{onStartNumber:Ce,onStartNamed:ve,onSpan:Be,onEndNumber:_e,onEndNamed:De,onEndAuto:Pe}}}}var Tt=h(B());function it(e){let{set:t,setMany:n,unset:r}=Z(e),o=(0,Tt.useCallback)(s=>{if(!s||typeof s!="string"){r("gridArea");return}t("gridArea",s.trim())},[t,r]),i=(0,Tt.useCallback)((s,u,a,p)=>{let c={};s!==void 0&&(c.gridRowStart=s||void 0),u!==void 0&&(c.gridRowEnd=u||void 0),a!==void 0&&(c.gridColumnStart=a||void 0),p!==void 0&&(c.gridColumnEnd=p||void 0),n(c)},[n]);return{setArea:o,setTracks:i,set:t,setMany:n,unset:r}}var Rt=h(v()),ue=h(L()),Et=h(B());function It(e){let t=(0,Rt.useSelect)(s=>e?s(ue.store).getBlock(e)?.attributes??{}:{},[e]),n=(0,Rt.useSelect)($,[]),r=(0,Et.useMemo)(()=>P(t,n),[t,n]),o=(s,u={})=>r.$get(s,u);return(0,Et.useMemo)(()=>{let s=o("gridTemplateColumns"),u=o("gridTemplateRows"),a=o("gridTemplateAreas"),p=kt(s),c=kt(u),{template:S,...A}=ee(a,p.count,c.count);return{columns:p,rows:c,areas:{template:S,...A},activePane:{columns:p.mode,rows:c.mode}}},[n,r?.costered,r?.$get])}var V=h(B()),ce=h(v()),ae=h(L());function xt(e){let{set:t,unset:n}=Z(e),r=(0,ce.useSelect)(y=>y(ae.store)?.getBlock?.(e)?.innerBlocks?.length||0,[e]),o=It(e),i=o?.columns?.template??"",s=o?.rows?.template??"",u=o?.areas?.template??"",a=(0,V.useMemo)(()=>{if(i){let x=K(i),w=E(x?.count??x);if(w>0)return w}let y=E(o?.rows?.count)||(()=>{if(!s)return 0;let x=K(s);return E(x?.count??x)})();return y>0&&r>0?Math.ceil(r/y):0},[i]),p=(0,V.useMemo)(()=>{let y=E(o?.rows?.count);if(y>0)return y;if(s){let w=K(s),b=E(w?.count??w);if(b>0)return b}let x=E(a);return x>0&&r>0?Math.ceil(r/x):0},[s,o?.rows?.count,a,r]),c=(0,V.useCallback)(y=>{let x=ne(y,".");x?t("gridTemplateAreas",x):n("gridTemplateAreas")},[t,n]),S=(0,V.useCallback)(()=>{n("gridTemplateAreas")},[n]),A=(0,V.useCallback)((y=".")=>{let x=re(u,y),w=E(x[0]?.length)||E(a),b=E(x.length)||E(p);return w===0&&b>0&&r>0?w=Math.ceil(r/b):b===0&&w>0&&r>0&&(b=Math.ceil(r/w)),w===0&&(w=1),b===0&&(b=1),Q(x.map(m=>m.map(l=>String(l||y))),w,b,y)},[u,a,p,r]);return{areasTemplate:u,trackColumnCount:a,trackRowCount:p,applyMatrixToStore:c,clearAreasInStore:S,seedFromStore:A}}var Mt=h(B()),Ct=h(v()),fr=h(L());function un(e,t={}){let n=t.keys??Array.from(qt),{parentId:r,parentBlock:o}=(0,Ct.useSelect)(a=>{let p=a("core/block-editor"),c=e||p.getSelectedBlockClientId();if(!c)return{parentId:null,parentBlock:null};let S=p.getBlockRootClientId(c);return S?{parentId:S,parentBlock:p.getBlock(S)||null}:{parentId:null,parentBlock:null}},[]),i=(0,Ct.useSelect)($,[]),s=(0,Mt.useMemo)(()=>{let a=o?.attributes;return a?P(a,i):null},[o?.attributes,i]),u=(0,Mt.useMemo)(()=>{if(!o)return null;let a={};for(let p of n)a[p]=s?.$get(p);return a},[o,s,n]);return{parentId:r,parentAttrs:u,parentBlock:o,parentAugmented:s}}var vt=h(v()),tt=h(B());function cn(e){let{parentId:t,parentBlock:n}=(0,vt.useSelect)(c=>{let S=c("core/block-editor"),A=e||S.getSelectedBlockClientId();if(!A)return{parentId:null,parentBlock:null};let y=S.getBlockRootClientId(A);return y?{parentId:y,parentBlock:S.getBlock(y)||null}:{parentId:null,parentBlock:null}},[e]),r=(0,vt.useSelect)($,[]),o=(0,tt.useMemo)(()=>n?.attributes?P(n.attributes,r):null,[n?.attributes,r]),i=o?.$get("gridTemplateColumns",{cascade:!0}),s=o?.$get("gridTemplateRows",{cascade:!0}),{count:u}=(0,tt.useMemo)(()=>K(i),[i]),{count:a}=(0,tt.useMemo)(()=>K(s),[s]),p=(0,tt.useMemo)(()=>{let c=o?.$get?.("display",{cascade:!0})??"";return/^(grid|inline-grid)$/i.test(String(c).trim())},[o,o?.$bp]);return{parentId:t,parentBlock:n,parent:o,isGrid:p,display:o?.$get("display",{cascade:!0}),columns:i,rows:s,areas:o?.$get("gridTemplateAreas",{cascade:!0}),columnCount:u,rowCount:a}}var pe=h(v()),le=h(L());function an(e,t){return(0,pe.useSelect)(n=>{if(e)return e;let r=n(le.store),o=t||r.getSelectedBlockClientId();return(o?r.getBlock(o):null)?.name??null},[e,t])}var Bt=h(v()),me=h(L()),fe=h(B());var de=Object.freeze({});function pn(){let e=(0,Bt.useSelect)($,[]),{selectedBlock:t,clientId:n,attrVersion:r}=(0,Bt.useSelect)(i=>{let s=i(me.store),u=s.getSelectedBlockClientId(),a=u?s.getBlock(u):null,p=a?.attributes||de,c=p&&typeof p.costered=="object"&&p.costered||{},S=Object.keys(c&&c.desktop||{}).length,A=Object.keys(c&&c.tablet||{}).length,y=Object.keys(c&&c.mobile||{}).length,x=`${S}-${A}-${y}`;return{selectedBlock:a,clientId:u,attrVersion:x}},[]),o=(0,fe.useMemo)(()=>P(t?.attributes,e)||de,[t,e,r]);return{selectedBlock:t,clientId:n,attributes:o}}var ut=h(v()),_t=h(ye());function ln(e,t,n="costered-blocks"){let r=(0,ut.useSelect)(a=>a(_t.store).get(n,e)??t,[n,e,t]),{set:o,__experimentalReset:i}=(0,ut.useDispatch)(_t.store);return[r,a=>{e.startsWith("__invalid__")||o(n,e,a)},()=>{e.startsWith("__invalid__")||i?.(n,e)}]}var dn=(e,{blockName:t,variant:n}={})=>!t&&!n?e:t&&!n?`${e}:${t}`:!t&&n?`${e}#${n}`:`${e}:${t}#${n}`;})();
