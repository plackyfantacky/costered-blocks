(()=>{var It=Object.create;var H=Object.defineProperty;var Ct=Object.getOwnPropertyDescriptor;var $t=Object.getOwnPropertyNames;var _t=Object.getPrototypeOf,kt=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Et=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $t(e))!kt.call(t,n)&&n!==r&&H(t,n,{get:()=>e[n],enumerable:!(o=Ct(e,n))||o.enumerable});return t};var f=(t,e,r)=>(r=t!=null?It(_t(t)):{},Et(e||!t||!t.__esModule?H(r,"default",{value:t,enumerable:!0}):r,t));var A=E((Ht,q)=>{q.exports=wp.element});var b=E((me,at)=>{at.exports=wp.data});var O=E((fe,pt)=>{pt.exports=wp.blockEditor});var At=E((Me,wt)=>{wt.exports=wp.preferences});var w=f(A());var G={display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"}};function y(t){return Object.fromEntries(Object.entries(G).filter(([e,r])=>r.group===t))}var J=y("display"),Q=y("dimension"),X=y("margin"),Z=y("padding"),U=y("flex"),tt=y("flex-item"),et=y("grid"),v=y("grid-item"),rt=y("shared"),Qt={...J,...Q,...X,...Z,...U,...tt,...et,...v,...rt},nt=new Set([...Object.keys(v)]);var P="1fr",Xt=new Set([...Object.keys(J),...Object.keys(Q),...Object.keys(Z),...Object.keys(X),...Object.keys(U),...Object.keys(tt),...Object.keys(et),...Object.keys(v),...Object.keys(rt)]),Zt=Object.fromEntries(Object.entries(G).map(([t,e])=>[t,e.css]));function N(t,e,{trim:r=!0,emptyUnsets:o=!0}={}){let n=e!=null,s=(0,w.useCallback)((u,a)=>{if(nt.has(a)){let g=typeof u=="string"&&r?u.trim():String(u);return o&&g===""?void 0:g}let c=u;if(r&&typeof c=="string"&&(c=c.trim()),!(o&&(c===""||c==null)))return c},[r,o]),i=(0,w.useCallback)(u=>{if(n)return t(e,u);{let a={};for(let[c,g]of Object.entries(u)){let S=s(g,c);S!==void 0&&(a[c]=S)}Object.keys(a).length&&t(e,a)}},[n,t,e,s]),p=(0,w.useCallback)((u,a)=>{i({[u]:s(a,u)})},[i,s]),l=(0,w.useCallback)(u=>{let a={};for(let[c,g]of Object.entries(u))a[c]=s(g,c);i(a)},[i,s]),d=(0,w.useCallback)(u=>{i({[u]:void 0})}),x=(0,w.useCallback)(u=>{let a={};for(let c of u)a[c]=void 0;i(a)},[i]),m=(0,w.useCallback)(u=>({set:(a,c)=>p(`${u}${a}`,c),setMany:a=>{let c={};for(let[g,S]of Object.entries(a))c[`${u}${g}`]=S;l(c)},unset:a=>d(`${u}${a}`),unsetMany:a=>x(a.map(c=>`${u}${c}`))}),[p,l,d,x]);return{set:p,setMany:l,unset:d,unsetMany:x,withPrefix:m}}var h=f(A());function L(t){return String(t||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function Ot(t){let e=String(t||"").trim();if(!e)return[];let r=0,o=0,n="",s=[];for(let i=0;i<e.length;i++){let p=e[i];if(p==="("){r++,n+=p;continue}if(p===")"){r=Math.max(0,r-1),n+=p;continue}if(p==="["){o++,n+=p;continue}if(p==="]"){o=Math.max(0,o-1),n+=p;continue}if(p===" "&&r===0&&o===0){n&&(s.push(n),n="");continue}n+=p}return n&&s.push(n),s}function Bt(t){if(!t)return null;let e=t.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return e?{count:parseInt(e[1],10),unit:e[2].trim()}:null}function Gt(t,e=P){return t>0?`repeat(${t}, ${e})`:null}function T(t,e=P){if(!t||typeof t!="string")return{count:0,unit:e};let r=t.trim();if(!r)return{count:0,unit:e};if(/^subgrid\b/i.test(r))return{count:0,unit:e};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:e};let o=r.match(/repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)$/i);if(o){let i=o[2];return{count:0,unit:it(i,e)}}let{count:n,unit:s}=ot(r,e);return{count:n,unit:s||e}}function ot(t,e){let r=st(t);if(r){let i=r.inner.trim(),{count:p,unit:l}=ot(i,e);return{count:r.times*p,unit:l||it(i,e)}}let o=D(t),n=o.length,s="";if(o.length===1)s=$(o[0])||e;else{let i=o.find(ct);s=$(i)||e}return{count:n,unit:s}}function st(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let r=parseInt(e[1],10),o=e[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:o}}function D(t){let e=[],r=0,o="";for(let n=0;n<t.length;n++){let s=t[n];if(s==="("){r++,o+=s;continue}if(s===")"){r=Math.max(0,r-1),o+=s;continue}if(r===0&&/\s/.test(s)){o.trim()&&e.push(o.trim()),o="";continue}o+=s}return o.trim()&&e.push(o.trim()),e}function it(t,e){if(!t)return e;let r=st(t);if(r){let s=D(r.inner);if(s.length===1)return $(s[0])||e}let o=D(t);if(o.length===1)return $(o[0])||e;let n=o.find(ct);return $(n)||e}function ct(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function $(t){return t?t.trim():""}function vt(t){let e=Bt(t);if(!e)return null;let r=L(Gt(e.count,e.unit));return{mode:"simple",template:t||null,normalised:r,simple:{count:e.count,unit:e.unit}}}function Pt(t){let e=Ot(t);if(!e.length)return null;let r=L(e.join(" "));return{mode:"tracks",template:t||null,normalised:r,tracks:e}}var Nt=[vt,Pt];function K(t){let e=t||"";for(let r of Nt){let o=r(e);if(o)return o}return{mode:"raw",template:t||null,normalised:L(t||"")}}function ut(t){let e=(t||"").trim();if(!e)return{hasAreas:!1,cols:0,rows:0};let r=e.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(n=>n.replace(/^['"]|['"]$/g,"").trim()).filter(n=>n&&!/^[\s]+$/.test(n));return r.length?{hasAreas:!0,cols:Math.max(0,...r.map(n=>n.split(/\s+/).filter(Boolean).length)),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function I(t,e="."){if(!Array.isArray(t)||t.length===0)return"";let r=t.map(n=>(Array.isArray(n)?n:[]).map(s=>{let i=String(s??"").trim();return i===""?e:i}));return r.some(n=>n.some(s=>s!==e))?r.map(n=>`"${n.join(" ")}"`).join(" "):""}function C(t,e="."){let r=String(t||"").trim();if(!r)return[];let o=[];return r.replace(/(['"])(.*?)\1/g,(n,s,i)=>(o.push(i),"")),o.map(n=>n.trim().split(/\s+/).map(s=>s&&s!==e?s:e))}function M(t,e,r,o="."){let n=[];for(let s=0;s<r;s++){let i=t[s]||[],p=Array.from({length:e},(l,d)=>i[d]??o);n.push(p)}return n}function Dt({seedMatrix:t,emptyToken:e=".",onApply:r,suspendResync:o=!1}){let[n,s]=(0,h.useState)(()=>t),i=(0,h.useRef)(I(n));(0,h.useEffect)(()=>{i.current=I(n)},[n]),(0,h.useEffect)(()=>{if(o)return;I(t)!==i.current&&s(t)},[t,o]);let p=n[0]?.length||0,l=n.length||0,d=(0,h.useCallback)((u,a,c)=>{s(g=>{let S=String(c??"").trim(),Mt=S===""?e:S,V=g.map((F,bt)=>bt===a?F.map((Rt,Tt)=>Tt===u?Mt:Rt):F);return r?.(V),V})},[r,e]),x=(0,h.useCallback)((u,a)=>{s(c=>{let g=M(c,u,a,e);return r?.(g),g})},[e,r]),m=(0,h.useCallback)((u=1,a=1)=>{s(()=>{let c=M([],Math.max(1,u),Math.max(1,a),e);return r?.(c),c})},[e,r]);return{matrix:n,columnData:p,rowData:l,setCell:d,resize:x,clear:m}}var j=f(A());var _=f(A());function z(t="."){let{parentId:e}=W(),r=k(e),o=r?.columns?.template??"",n=r?.rows?.template??"",s=r?.areas?.template??"",i=(0,_.useMemo)(()=>{let m=T(o).count;return m>0?m:C(s,t)[0]?.length||0},[o,s,t]),p=(0,_.useMemo)(()=>{let m=T(n).count;return m>0?m:C(s,t).length||0},[n,s,t]),l=(0,_.useMemo)(()=>{let m=C(s,t),u=m[0]?.length||i||1,a=m.length||p||1;return M(m,u,a,t)},[s,i,p,t]),d=(0,_.useMemo)(()=>{let m=new Set;for(let u of l)for(let a of u){let c=String(a||"").trim();c&&c!==t&&m.add(c)}return Array.from(m)},[l,t]);return{parentId:e,hasGrid:!!(o||n||s),columns:i,rows:p,matrix:l,areaNames:d,areasTemplate:s,columnTemplate:o,rowTemplate:n,emptyToken:t}}function Lt(t){let{columns:e,rows:r}=z(),o=1,n=e||1/0,s=1,i=r||1/0,p=(0,j.useMemo)(()=>{let x=Number(t.gridColumnStart)||1;return e?Math.max(1,e-x+1):1/0},[t.gridColumnStart,e]),l=(0,j.useMemo)(()=>{let x=Number(t.gridRowStart)||1;return r?Math.max(1,r-x+1):1/0},[t.gridRowStart,r]),d=(0,j.useMemo)(()=>{let x=Math.min(Math.max(Number(t.gridColumnStart)||1,o),n||1),m=Math.min(Math.max(Number(t.gridRowStart)||1,s),i||1),u=Math.min(Math.max(Number(t.gridColumnSpan)||1,1),p||1),a=Math.min(Math.max(Number(t.gridRowSpan)||1,1),l||1);return{gridColumnStart:x,gridColumnSpan:u,gridRowStart:m,gridRowSpan:a}},[t.gridColumnStart,t.gridColumnSpan,t.gridRowStart,t.gridRowSpan,n,i,p,l]);return{colStartMin:o,colStartMax:n,rowStartMin:s,rowStartMax:i,colSpanMin:1,colSpanMax:p,rowSpanMin:1,rowSpanMax:l,clamped:d}}var lt=f(b()),mt=f(O()),ft=f(A());function k(t){let e=(0,lt.useSelect)(o=>t?o(mt.store).getBlock(t)?.attributes??{}:{},[t]);return(0,ft.useMemo)(()=>{let o=K(e.gridTemplateColumns),n=K(e.gridTemplateRows),s=e.gridTemplateAreas??null,i=ut(s);return{columns:o,rows:n,areas:{template:s,...i},activePane:{columns:o.mode,rows:n.mode}}},[e.gridTemplateColumns,e.gridTemplateRows,e.gridTemplateAreas])}var R=f(A()),dt=f(b()),gt=f(O());function Kt(t){let{updateBlockAttributes:e}=(0,dt.useDispatch)(gt.store),{set:r,unset:o}=N(e,t),n=k(t),s=n?.columns?.template??null,i=n?.rows?.template??null,p=n?.areas?.template??null,l=(0,R.useMemo)(()=>s?T(s):0,[s]),d=(0,R.useMemo)(()=>i?T(i):0,[i]),x=(0,R.useCallback)(a=>{let c=I(a,".");c?r("gridTemplateAreas",c):o("gridTemplateAreas")},[r,o]),m=(0,R.useCallback)(()=>{o("gridTemplateAreas")},[o]),u=(0,R.useCallback)((a=".")=>{let c=C(p,a),g=c[0]?.length||l||1,S=c.length||d||1;return M(c,g,S,a)},[p,l,d]);return{areasTemplate:p,trackColumnCount:l,trackRowCount:d,applyMatrixToStore:x,clearAreasInStore:m,seedFromStore:u}}var xt=f(b());function W(){return(0,xt.useSelect)(t=>{let e=t("core/block-editor"),r=e.getSelectedBlockClientId();if(!r)return{parentId:null,parentAttrs:null,parentBlock:null};let o=e.getBlockRootClientId(r);if(!o)return{parentId:null,parentAttrs:null,parentBlock:null};let n=e.getBlock(o)||null,s=n?.attributes??null;return{parentId:o,parentAttrs:s,parentBlock:n}},[])}var ht=f(b()),St=f(O());function zt(t,e){return(0,ht.useSelect)(r=>{if(t)return t;let o=r(St.store),n=e||o.getSelectedBlockClientId();return(n?o.getBlock(n):null)?.name??null},[t,e])}var yt=f(b());function Wt(){return(0,yt.useSelect)(t=>{let e=t("core/block-editor"),r=e.getSelectedBlockClientId();return{selectedBlock:r?e.getBlock(r):null,clientId:r}},[])}var B=f(b()),Y=f(At());function Yt(t,e,r="costered-blocks"){let o=(0,B.useSelect)(l=>l(Y.store).get(r,t)??e,[r,t,e]),{set:n,__experimentalReset:s}=(0,B.useDispatch)(Y.store);return[o,l=>{t.startsWith("__invalid__")||n(r,t,l)},()=>{t.startsWith("__invalid__")||s?.(r,t)}]}var Vt=(t,{blockName:e,variant:r}={})=>!e&&!r?t:e&&!r?`${t}:${e}`:!e&&r?`${t}#${r}`:`${t}:${e}#${r}`;})();
