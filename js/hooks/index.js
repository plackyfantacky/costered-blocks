(()=>{var $e=Object.create;var $t=Object.defineProperty;var Ce=Object.getOwnPropertyDescriptor;var Me=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf,De=Object.prototype.hasOwnProperty;var tt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Pe=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Me(t))!De.call(e,n)&&n!==r&&$t(e,n,{get:()=>t[n],enumerable:!(o=Ce(t,n))||o.enumerable});return e};var S=(e,t,r)=>(r=e!=null?$e(Be(e)):{},Pe(t||!e||!e.__esModule?$t(r,"default",{value:e,enumerable:!0}):r,e));var I=tt((pr,Ct)=>{Ct.exports=wp.data});var P=tt((lr,Mt)=>{Mt.exports=wp.blockEditor});var v=tt((dr,Bt)=>{Bt.exports=wp.element});var fe=tt((wn,me)=>{me.exports=wp.preferences});var at=S(I()),zt=S(P()),W=S(v());var R={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"]},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var Dt=e=>Array.isArray(e)?e:[],Oe=e=>new Set(Dt(e));function C(e){return Object.fromEntries(Object.entries(R.attributes).filter(([t,r])=>r.group===e))}var Pt=C("display"),Gt=C("dimension"),Ot=C("margin"),Nt=C("padding"),Lt=C("flex"),jt=C("flex-item"),Ut=C("grid"),st=C("grid-item"),Kt=C("position"),Ft=C("shared"),gr={...Pt,...Gt,...Ot,...Nt,...Lt,...jt,...Ut,...st,...Kt,...Ft},Yt=new Set([...Object.keys(st)]),yr=Dt(R?.collections?.editorStyles),Ht=Oe(R?.collections?.unitless),it=R?.settings?.gridUnit||"1fr",br=!!R?.settings?.appendImportantToMirroredStyles,Sr=R?.settings?.styleTagId||"costered-blocks-style-mirror",et=R?.settings?.reduxStoreKey||"costered/ui",xr=R?.settings?.breakpoints?.mobile??782,hr=R?.settings?.breakpoints?.tablet??1024,Tr=R?.settings?.breakpoints?.desktop??1440;var Wt=new Set([...Object.keys(Pt),...Object.keys(Gt),...Object.keys(Nt),...Object.keys(Ot),...Object.keys(Lt),...Object.keys(jt),...Object.keys(Ut),...Object.keys(st),...Object.keys(Kt),...Object.keys(Ft)]),kr=Object.fromEntries(Object.entries(R.attributes).map(([e,t])=>[e,t.css]));var G=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t},ct=(e,t,r)=>{r==null||r===""?Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]:e[t]=r},ut=e=>e==null||e===""||e==="null"||e==="undefined";var Ne="desktop",Le=Object.freeze({});function M(e,t){let r=e||Le,o={...r},n=G(r.costered),a=c=>{switch(c){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},i=(c,f=void 0)=>{let x=!!(f&&f.cascade),w=f&&Object.prototype.hasOwnProperty.call(f,"raw")?!!f.raw:!x,T=t||Ne;if(w){let l=n?.[T]?.styles?.[c];return ut(l)?void 0:l}let b=a(T);for(let l of b){let d=n?.[l]?.styles?.[c];if(!ut(d))return d}};return Object.defineProperties(o,{$get:{value:i,enumerable:!1},$getCascade:{value:c=>i(c,{cascade:!0}),enumerable:!1},$getMany:{value:(c,f)=>{let x={};for(let A of c)x[A]=i(A,f);return x},enumerable:!1},$bp:{value:t,enumerable:!1}}),o}function je(e){let t=(0,at.useSelect)(i=>i(et)?.getBreakpoint?.()||"desktop",[]),r=(0,at.useSelect)(i=>e?i(zt.store).getBlockAttributes(e):null,[e]),o=(0,W.useMemo)(()=>r?M(r,t):void 0,[r,t]),n=(0,W.useCallback)((i,p)=>o?.$get?o.$get(i,p):{},[o]),a=(0,W.useCallback)((i,p)=>{if(!o?.$get)return{};let s={};return i.forEach(c=>{s[c]=o.$get(c,p)}),s},[o]);return{get:n,getMany:a,bp:t,attributes:o}}var D=S(v()),O=S(I());var Ue=e=>typeof e=="string"&&e.trim().length>0,Ke=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=Date.now().toString(36),t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},z=e=>{e&&!Ue(e.costeredId)&&(e.costeredId=Ke())};var V=S(I());var Fe=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},Ye=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},B=e=>{try{let r=(0,V.select)(et);if(r&&typeof r.getBreakpoint=="function"){let o=r.getBreakpoint();if(o)return o}}catch{}let t=Ye(e);if(t)return Fe(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,V.select)(STORE_KEY),o=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,n=(0,V.select)("core/edit-post"),a=n&&(typeof n.getPreviewDeviceType=="function"&&n.getPreviewDeviceType()||typeof n.__experimentalGetPreviewDeviceType=="function"&&n.__experimentalGetPreviewDeviceType()),i=(0,V.select)("core/edit-site"),p=i&&(typeof i.getDeviceType=="function"&&i.getDeviceType()||typeof i.__experimentalGetPreviewDeviceType=="function"&&i.__experimentalGetPreviewDeviceType()||typeof i.getPreviewDeviceType=="function"&&i.getPreviewDeviceType())}}catch{}return"desktop"};var He="desktop";function N(e,t,r={trim:!0,emptyUnsets:!0,breakpoint:void 0}){let{trim:o=!0,emptyUnsets:n=!0,breakpoint:a}=r,i=(0,O.useSelect)(B,[]),p=a||i||He,{updateBlockAttributes:s}=(0,O.useDispatch)("core/block-editor"),c=(0,D.useMemo)(()=>{if(typeof e=="string"&&!t){let l=e;return d=>{if(l)if(typeof d=="function"){let u=(0,O.select)("core/block-editor").getBlockAttributes(l)||{},m=d(u)||u;s(l,m)}else s(l,d||{})}}if(typeof e=="function"&&typeof t=="string"){let l=e,d=t;return u=>{if(d)if(typeof u=="function"){let m=(0,O.select)("core/block-editor").getBlockAttributes(d)||{},h=u(m)||m;try{l(d,h)}catch{l(h)}}else try{l(d,u||{})}catch{l(u||{})}}}return typeof e=="function"?e:()=>{}},[e,t,s]),f=(0,D.useCallback)((l,d)=>{if(l==null)return;if(Yt.has(d)){let m=typeof l=="string"&&o?l.trim():String(l);return n&&m===""?void 0:m}let u=l;if(o&&typeof u=="string"&&(u=u.trim()),!(n&&(u===""||u=="null"||u=="undefined"))){if(Ht.has(d)){if(typeof u=="string"&&/^-?\d+(\.\d+)?$/.test(u)){let m=Number(u);return Number.isFinite(m)?m:void 0}return typeof u=="number"&&Number.isFinite(u)?u:void 0}if(typeof u=="number")return Number.isFinite(u)?u:void 0;if(typeof u=="string")return u==="null"||u==="undefined"?void 0:u;try{return String(u)}catch{return}}},[o,n]),x=(0,D.useCallback)((l,d)=>{c(u=>{let m={...u||{}};z(m),m.costered=G(m.costered);let h={...m.costered[p].styles},E=f(d,l);return ct(h,l,E),m.costered[p]={...m.costered[p],styles:h},m})},[c,p,f]),A=(0,D.useCallback)(l=>{!l||typeof l!="object"||c(d=>{let u={...d||{}};z(u),u.costered=G(u.costered);let m={...u.costered[p].styles};for(let[h,E]of Object.entries(l)){let K=f(E,h);ct(m,h,K)}return u.costered[p]={...u.costered[p],styles:m},u})},[c,p,f]),w=(0,D.useCallback)(l=>{c(d=>{let u={...d||{}};z(u),u.costered=G(u.costered);let m={...u.costered[p].styles};return l in m?(delete m[l],u.costered[p]={...u.costered[p],styles:m},u):d})},[c,p]),T=(0,D.useCallback)(l=>{!Array.isArray(l)||l.length===0||c(d=>{let u={...d||{}};z(u),u.costered=G(u.costered);let m={...u.costered[p].styles},h=!1;for(let E of l)E in m&&(delete m[E],h=!0);return h?(u.costered[p]={...u.costered[p],styles:m},u):d})},[c,p]),b=(0,D.useCallback)(l=>({set:(d,u)=>x(`${l}${d}`,u),setMany:d=>{let u={};for(let[m,h]of Object.entries(d))u[`${l}${m}`]=h;A(u)},unset:d=>w(`${l}${d}`),unsetMany:d=>T(d.map(u=>`${l}${u}`))}),[x,A,w,T]);return{set:x,setMany:A,unset:w,unsetMany:T,withPrefix:b,activeBreakpoint:p}}var $=S(v());var We=e=>{if(!e||typeof e!="string")return[];let t=e.split(/"\s*"\s*|'\s*'\s*|[\r\n]+/).map(r=>r.replace(/['"]/g,"").trim()).filter(Boolean);return t.length?t.map(r=>r.split(/\s+/)):[]},ze=e=>!Array.isArray(e)||!e.length?"":e.map(t=>`"${t.join(" ")}"`).join(`
`);function Ve(e){let t=pt(e),r=t?.parentId??null,o=t?.parentBlock??null,n=t&&t.parentAugmented||t&&t.parentAttrs||null,{set:a}=N(r),i=(0,$.useMemo)(()=>{let b;return n&&typeof n.$get=="function"&&(b=n.$get("gridTemplateAreas",{cascade:!0}),typeof b=="string"&&b.trim()),b},[n&&n.$bp,o&&o.attributes&&o.attributes.gridTemplateAreas]),p=(0,$.useMemo)(()=>{if(t&&typeof t.isGrid=="boolean")return t.isGrid;let b;n&&typeof n.$get=="function"?b=n.$get("display",{cascade:!0})||"":b=o&&o.attributes&&o.attributes.display},[t&&t.isGrid,n&&n.$bp,o&&o.attributes&&o.attributes.display]),s=(0,$.useMemo)(()=>p?We(i):[],[p,i]),c=(0,$.useMemo)(()=>({count:s.length?s[0].length:0}),[s]),f=(0,$.useMemo)(()=>({count:s.length}),[s]),x=(0,$.useCallback)(b=>{if(!Array.isArray(b)||!b.length){a("gridTemplateAreas","");return}let l=Math.max(0,...b.map(u=>Array.isArray(u)?u.length:0)),d=b.map(u=>{let m=Array.isArray(u)?u.slice(0,l):[];for(;m.length<l;)m.push(".");return m.map(h=>h&&String(h).trim()||".")});a("gridTemplateAreas",ze(d))},[a]),A=(0,$.useCallback)((b,l,d)=>{if(!Array.isArray(s)||!s.length)return;let u=s.map(h=>h.slice()),m=u[b];m&&(m[l]=d&&String(d).trim()||".",x(u))},[s,x]),w=(0,$.useCallback)(({rows:b,cols:l})=>{let d=Math.max(0,Number(b)||0),u=Math.max(0,Number(l)||0),m=s.length,h=s.length?s[0].length:0,E=Array.from({length:d}).map((K,F)=>{let q=F<m?s[F]:[];return Array.from({length:u}).map((vt,Z)=>F<m&&Z<h&&q[Z]||".")});x(E)},[s,x]),T=(0,$.useCallback)(()=>a("gridTemplateAreas",""),[a]);return{matrix:s,columnData:c,rowData:f,setCell:A,resize:w,clear:T}}var y=S(v());function L(e,t,r){return Math.min(Math.max(e,t),r)}function _(e,t=1){let r=Number(e);return Number.isFinite(r)?r:t}function U(e){if(typeof e=="number")return Number.isInteger(e);let t=String(e);return/^-?\d+$/.test(t)}function lt(e,t=1){let r=parseInt(e,10);return Number.isFinite(r)&&r!==0?r:t}function Vt(e){let t=parseInt(e,10);return Number.isFinite(t)?t:""}var dt=e=>{let t={start:"",span:"",end:""},r=String(e||"").trim();if(!r)return t;let o=r.split("/").map(p=>p.trim());if(o.length===1)return/^span\s+\d+$/i.test(o[0])?t.span=o[0].replace(/^span\s+/i,""):t.start=o[0],t;let n=o[0],a=o[1];t.start=n||"auto";let i=/^span\s+(\d+)$/i.exec(a);return i?t.span=i[1]:t.end=a,t};var mt=e=>{let t=new Set,r=/\[([^\]]+)\]/g,o;for(;(o=r.exec(String(e||"")))!==null;){let n=o[1].trim();n&&n.split(/\s+/).forEach(a=>t.add(a))}return Array.from(t)},Xt=e=>/\//.test(String(e||""))||/\bspan\s+\d+\b/i.test(String(e||""));var qt=Number.MAX_SAFE_INTEGER;function Xe({attributes:e,setMany:t,parentMeta:r}){let o=Xt(e.gridArea),{columns:n,rows:a,columnTemplate:i,rowTemplate:p}=r,s=(0,y.useMemo)(()=>dt(e.gridColumn),[e.gridColumn]),c=(0,y.useMemo)(()=>dt(e.gridRow),[e.gridRow]),f=s.end?"end":"span",x=c.end?"end":"span",[A,w]=(0,y.useState)(f),[T,b]=(0,y.useState)(x);(0,y.useEffect)(()=>{w(f)},[f]),(0,y.useEffect)(()=>{b(x)},[x]);let l=rt(t,"gridColumn",A),d=rt(t,"gridRow",T),u=(0,y.useMemo)(()=>mt(i),[i]),m=(0,y.useMemo)(()=>mt(p),[p]),h=u.length>0,E=m.length>0,K=(g,k)=>k?U(g)?"number":"named":"number",F=g=>g?U(g)?"number":g==="auto"?"auto":"named":"number",q=(g,k)=>{let ot=F(g);return k?ot:ot==="named"?"number":ot},It=K(s.start,h),vt=K(c.start,E),Z=q(s.end,h),ge=q(c.end,E),Y=(0,y.useMemo)(()=>{if(!n||!U(s.start))return qt;let g=L(_(s.start,1),1,n);return Math.max(1,n-g+1)},[n,s.start]),H=(0,y.useMemo)(()=>{if(!a||!U(c.start))return qt;let g=L(_(c.start,1),1,a);return Math.max(1,a-g+1)},[a,c.start]),[ye,J]=(0,y.useState)(null),[be,Q]=(0,y.useState)(null);(0,y.useEffect)(()=>{J(null)},[e.gridColumn]),(0,y.useEffect)(()=>{Q(null)},[e.gridRow]);let Se=(0,y.useCallback)(g=>{let k=_(g,1);s.end?l({start:k,end:s.end}):l({start:k,span:L(_(s.span,1),1,Y)})},[s.end,s.span,Y,l]),xe=(0,y.useCallback)(g=>{let k=String(g||"auto").trim()||"auto";s.end?l({start:k,end:s.end}):l({start:k,span:_(s.span,1)})},[s.end,s.span,l]),he=(0,y.useCallback)(g=>{let k=L(_(g,1),1,Y);l({start:s.start||"auto",span:k})},[s.start,Y,l]),Te=(0,y.useCallback)(g=>{J(g),g!==0&&(l({start:s.start||"auto",end:lt(g,1)}),J(null))},[s.start,l]),ke=(0,y.useCallback)(g=>{l({start:s.start||"auto",end:String(g||"auto").trim()||"auto"})},[s.start,l]),Ae=(0,y.useCallback)(()=>{l({start:s.start||"auto",end:"auto"})},[s.start,l]),we=(0,y.useCallback)(g=>{let k=_(g,1);c.end?d({start:k,end:c.end}):d({start:k,span:L(_(c.span,1),1,H)})},[c.end,c.span,H,d]),Ee=(0,y.useCallback)(g=>{let k=String(g||"auto").trim()||"auto";c.end?d({start:k,end:c.end}):d({start:k,span:_(c.span,1)})},[c.end,c.span,d]),Re=(0,y.useCallback)(g=>{let k=L(_(g,1),1,H);d({start:c.start||"auto",span:k})},[c.start,H,d]),_e=(0,y.useCallback)(g=>{Q(g),g!==0&&(d({start:c.start||"auto",end:lt(g,1)}),Q(null))},[c.start,d]),Ie=(0,y.useCallback)(g=>{d({start:c.start||"auto",end:String(g||"auto").trim()||"auto"})},[c.start,d]),ve=(0,y.useCallback)(()=>{d({start:c.start||"auto",end:"auto"})},[c.start,d]);return{hasArea:o,disabledLines:o,numbers:{isIntToken:U,toInt:_,parseSigned:Vt},column:{values:{...s},modes:{uiStart:It,uiEnd:Z,mode:A},setMode:w,named:{lines:u,hasLines:h},caps:{span:Y},drafts:{end:ye,setEnd:J},handlers:{onStartNumber:Se,onStartNamed:xe,onSpan:he,onEndNumber:Te,onEndNamed:ke,onEndAuto:Ae}},row:{values:{...c},modes:{uiStart:vt,uiEnd:ge,mode:T},setMode:b,named:{lines:m,hasLines:E},caps:{span:H},drafts:{end:be,setEnd:Q},handlers:{onStartNumber:we,onStartNamed:Ee,onSpan:Re,onEndNumber:_e,onEndNamed:Ie,onEndAuto:ve}}}}var ft=S(v());function rt(e){let{set:t,setMany:r,unset:o}=N(e),n=(0,ft.useCallback)(i=>{if(!i||typeof i!="string"){o("gridArea");return}t("gridArea",i.trim())},[t,o]),a=(0,ft.useCallback)((i,p,s,c)=>{let f={};i!==void 0&&(f.gridRowStart=i||void 0),p!==void 0&&(f.gridRowEnd=p||void 0),s!==void 0&&(f.gridColumnStart=s||void 0),c!==void 0&&(f.gridColumnEnd=c||void 0),r(f)},[r]);return{setArea:n,setTracks:a,set:t,setMany:r,unset:o}}var xt=S(I()),se=S(P()),ht=S(v());function yt(e){return String(e||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function qe(e){let t=String(e||"").trim();if(!t)return[];let r=0,o=0,n="",a=[];for(let i=0;i<t.length;i++){let p=t[i];if(p==="("){r++,n+=p;continue}if(p===")"){r=Math.max(0,r-1),n+=p;continue}if(p==="["){o++,n+=p;continue}if(p==="]"){o=Math.max(0,o-1),n+=p;continue}if(p===" "&&r===0&&o===0){n&&(a.push(n),n="");continue}n+=p}return n&&a.push(n),a}function Ze(e){if(!e)return null;let t=e.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return t?{count:parseInt(t[1],10),unit:t[2].trim()}:null}function Je(e,t=it){return e>0?`repeat(${e}, ${t})`:null}function bt(e,t=it){if(!e||typeof e!="string")return{count:0,unit:t};let r=e.trim();if(!r)return{count:0,unit:t};if(/^subgrid\b/i.test(r))return{count:0,unit:t};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:t};let o=r.match(/repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)$/i);if(o){let i=o[2];return{count:0,unit:Qt(i,t)}}let{count:n,unit:a}=Zt(r,t);return{count:n,unit:a||t}}function Zt(e,t){let r=Jt(e);if(r){let i=r.inner.trim(),{count:p,unit:s}=Zt(i,t);return{count:r.times*p,unit:s||Qt(i,t)}}let o=gt(e),n=o.length,a="";if(o.length===1)a=X(o[0])||t;else{let i=o.find(te);a=X(i)||t}return{count:n,unit:a}}function Jt(e){let t=e.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!t)return null;let r=parseInt(t[1],10),o=t[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:o}}function gt(e){let t=[],r=0,o="";for(let n=0;n<e.length;n++){let a=e[n];if(a==="("){r++,o+=a;continue}if(a===")"){r=Math.max(0,r-1),o+=a;continue}if(r===0&&/\s/.test(a)){o.trim()&&t.push(o.trim()),o="";continue}o+=a}return o.trim()&&t.push(o.trim()),t}function Qt(e,t){if(!e)return t;let r=Jt(e);if(r){let a=gt(r.inner);if(a.length===1)return X(a[0])||t}let o=gt(e);if(o.length===1)return X(o[0])||t;let n=o.find(te);return X(n)||t}function te(e){return e?!!(/^(minmax|fit-content|clamp|var)\(/i.test(e)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(e)||/^(auto|max-content|min-content)$/i.test(e)):!1}function X(e){return e?e.trim():""}function Qe(e){let t=Ze(e);if(!t)return null;let r=yt(Je(t.count,t.unit));return{mode:"simple",template:e||null,normalised:r,simple:{count:t.count,unit:t.unit}}}function tr(e){let t=qe(e);if(!t.length)return null;let r=yt(t.join(" "));return{mode:"tracks",template:e||null,normalised:r,tracks:t}}var er=[Qe,tr];function St(e){let t=e||"";for(let r of er){let o=r(t);if(o)return o}return{mode:"raw",template:e||null,normalised:yt(e||"")}}function ee(e){let t=(e||"").trim();if(!t)return{hasAreas:!1,cols:0,rows:0};let r=t.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(n=>n.replace(/^['"]|['"]$/g,"").trim()).filter(n=>n&&!/^[\s]+$/.test(n));return r.length?{hasAreas:!0,cols:Math.max(0,...r.map(n=>n.split(/\s+/).filter(Boolean).length)),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function re(e,t="."){if(!Array.isArray(e)||e.length===0)return"";let r=e.map(n=>(Array.isArray(n)?n:[]).map(a=>{let i=String(a??"").trim();return i===""?t:i}));return r.some(n=>n.some(a=>a!==t))?r.map(n=>`"${n.join(" ")}"`).join(" "):""}function ne(e,t="."){let r=String(e||"").trim();if(!r)return[];let o=[];return r.replace(/(['"])(.*?)\1/g,(n,a,i)=>(o.push(i),"")),o.map(n=>n.trim().split(/\s+/).map(a=>a&&a!==t?a:t))}function oe(e,t,r,o="."){let n=[];for(let a=0;a<r;a++){let i=e[a]||[],p=Array.from({length:t},(s,c)=>i[c]??o);n.push(p)}return n}function Tt(e){let t=(0,xt.useSelect)(i=>e?i(se.store).getBlock(e)?.attributes??{}:{},[e]),r=(0,xt.useSelect)(B,[]),o=(0,ht.useMemo)(()=>M(t,r),[t,r]),n=(i,p={})=>o.$get(i,p);return(0,ht.useMemo)(()=>{let i=n("gridTemplateColumns"),p=n("gridTemplateRows"),s=n("gridTemplateAreas"),c=St(i),f=St(p),{template:x,...A}=ee(s,c.count,f.count);return{columns:c,rows:f,areas:{template:x,...A},activePane:{columns:c.mode,rows:f.mode}}},[r,o?.costered,o?.$get])}var j=S(v()),ie=S(I()),ce=S(P());function rr(e){let{updateBlockAttributes:t}=(0,ie.useDispatch)(ce.store),{set:r,unset:o}=N(t,e),n=Tt(e),a=n?.columns?.template??null,i=n?.rows?.template??null,p=n?.areas?.template??null,s=(0,j.useMemo)(()=>a?bt(a):0,[a]),c=(0,j.useMemo)(()=>i?bt(i):0,[i]),f=(0,j.useCallback)(w=>{let T=re(w,".");T?r("gridTemplateAreas",T):o("gridTemplateAreas")},[r,o]),x=(0,j.useCallback)(()=>{o("gridTemplateAreas")},[o]),A=(0,j.useCallback)((w=".")=>{let T=ne(p,w),b=T[0]?.length||s||1,l=T.length||c||1;return oe(T,b,l,w)},[p,s,c]);return{areasTemplate:p,trackColumnCount:s,trackRowCount:c,applyMatrixToStore:f,clearAreasInStore:x,seedFromStore:A}}var kt=S(v()),At=S(I()),en=S(P());function nr(e,t={}){let r=t.keys??Array.from(Wt),{parentId:o,parentBlock:n}=(0,At.useSelect)(s=>{let c=s("core/block-editor"),f=e||c.getSelectedBlockClientId();if(!f)return{parentId:null,parentBlock:null};let x=c.getBlockRootClientId(f);return x?{parentId:x,parentBlock:c.getBlock(x)||null}:{parentId:null,parentBlock:null}},[]),a=(0,At.useSelect)(B,[]),i=(0,kt.useMemo)(()=>{let s=n?.attributes;return s?M(s,a):null},[n?.attributes,a]),p=(0,kt.useMemo)(()=>{if(!n)return null;let s={};for(let c of r)s[c]=i?.$get(c);return s},[n,i,r]);return{parentId:o,parentAttrs:p,parentBlock:n,parentAugmented:i}}var wt=S(I()),un=S(P()),Et=S(v());function pt(e){let{parentId:t,parentBlock:r}=(0,wt.useSelect)(i=>{let p=i("core/block-editor"),s=e||p.getSelectedBlockClientId();if(!s)return{parentId:null,parentBlock:null};let c=p.getBlockRootClientId(s);return c?{parentId:c,parentBlock:p.getBlock(c)||null}:{parentId:null,parentBlock:null}},[e]),o=(0,wt.useSelect)(B,[]),n=(0,Et.useMemo)(()=>r?.attributes?M(r.attributes,o):null,[r?.attributes,o]),a=(0,Et.useMemo)(()=>{let i=n?.$get?.("display",{cascade:!0})??"";return/^(grid|inline-grid)$/i.test(String(i).trim())},[n,n?.$bp]);return{parentId:t,parentBlock:r,parent:n,isGrid:a,display:n?.$get("display",{cascade:!0}),cols:n?.$get("gridTemplateColumns",{cascade:!0}),rows:n?.$get("gridTemplateRows",{cascade:!0}),areas:n?.$get("gridTemplateAreas",{cascade:!0})}}var ue=S(I()),ae=S(P());function or(e,t){return(0,ue.useSelect)(r=>{if(e)return e;let o=r(ae.store),n=t||o.getSelectedBlockClientId();return(n?o.getBlock(n):null)?.name??null},[e,t])}var Rt=S(I()),le=S(P()),de=S(v());var pe=Object.freeze({});function sr(){let e=(0,Rt.useSelect)(B,[]),{selectedBlock:t,clientId:r,attrVersion:o}=(0,Rt.useSelect)(a=>{let i=a(le.store),p=i.getSelectedBlockClientId(),s=p?i.getBlock(p):null,c=s?.attributes||pe,f=c&&typeof c.costered=="object"&&c.costered||{},x=Object.keys(f&&f.desktop||{}).length,A=Object.keys(f&&f.tablet||{}).length,w=Object.keys(f&&f.mobile||{}).length,T=`${x}-${A}-${w}`;return{selectedBlock:s,clientId:p,attrVersion:T}},[]),n=(0,de.useMemo)(()=>M(t?.attributes,e)||pe,[t,e,o]);return{selectedBlock:t,clientId:r,attributes:n}}var nt=S(I()),_t=S(fe());function ir(e,t,r="costered-blocks"){let o=(0,nt.useSelect)(s=>s(_t.store).get(r,e)??t,[r,e,t]),{set:n,__experimentalReset:a}=(0,nt.useDispatch)(_t.store);return[o,s=>{e.startsWith("__invalid__")||n(r,e,s)},()=>{e.startsWith("__invalid__")||a?.(r,e)}]}var cr=(e,{blockName:t,variant:r}={})=>!t&&!r?e:t&&!r?`${e}:${t}`:!t&&r?`${e}#${r}`:`${e}:${t}#${r}`;})();
