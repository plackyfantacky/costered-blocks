(()=>{var V=Object.create;var P=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var X=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var B=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Z=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of X(e))!Q.call(t,n)&&n!==r&&P(t,n,{get:()=>e[n],enumerable:!(i=q(e,n))||i.enumerable});return t};var k=(t,e,r)=>(r=t!=null?V(J(t)):{},Z(e||!t||!t.__esModule?P(r,"default",{value:t,enumerable:!0}):r,t));var O=B((ae,C)=>{C.exports=wp.element});var b=B((de,_)=>{_.exports=wp.data});var v=k(O()),R=k(b());var m=k(b());var p={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var h=t=>Array.isArray(t)?t:[],te=t=>new Set(h(t));function a(t){return Object.fromEntries(Object.entries(p.attributes).filter(([e,r])=>r.group===t))}var D=a("display"),E=a("dimension"),A=a("margin"),I=a("padding"),j=a("flex"),G=a("flex-item"),L=a("grid"),x=a("grid-item"),M=a("position"),K=a("shared"),ge={...D,...E,...A,...I,...j,...G,...L,...x,...M,...K},ye=new Set([...Object.keys(x)]),fe=h(p?.collections?.editorStyles),me=te(p?.collections?.unitless),Se=p?.settings?.gridUnit||"1fr",ke=!!p?.settings?.appendImportantToMirroredStyles,be=p?.settings?.styleTagId||"costered-blocks-style-mirror",Y=p?.settings?.reduxStoreKey||"costered/ui",xe=p?.settings?.breakpoints?.mobile??782,we=p?.settings?.breakpoints?.tablet??1024,ve=p?.settings?.breakpoints?.desktop??1440,Re=p?.collections?.clearSets?.gridAreas,Te=p?.collections?.clearSets?.gridColumns,Pe=p?.collections?.clearSets?.gridRows;var U=new Set([...Object.keys(D),...Object.keys(E),...Object.keys(I),...Object.keys(A),...Object.keys(j),...Object.keys(G),...Object.keys(L),...Object.keys(x),...Object.keys(M),...Object.keys(K)]),Be=Object.fromEntries(Object.entries(p.attributes).map(([t,e])=>[t,e.css]));var re=t=>{let e=String(t??"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},ne=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},$=t=>{try{let r=(0,m.select)(Y);if(r&&typeof r.getBreakpoint=="function"){let i=r.getBreakpoint();if(i)return i}}catch{}let e=ne(t);if(e)return re(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,m.select)(STORE_KEY),i=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,n=(0,m.select)("core/edit-post"),d=n&&(typeof n.getPreviewDeviceType=="function"&&n.getPreviewDeviceType()||typeof n.__experimentalGetPreviewDeviceType=="function"&&n.__experimentalGetPreviewDeviceType()),o=(0,m.select)("core/edit-site"),g=o&&(typeof o.getDeviceType=="function"&&o.getDeviceType()||typeof o.__experimentalGetPreviewDeviceType=="function"&&o.__experimentalGetPreviewDeviceType()||typeof o.getPreviewDeviceType=="function"&&o.getPreviewDeviceType())}}catch{}return"desktop"};var H=t=>{let e=t||{},r=n=>{if(Array.isArray(n))return n;if(n&&typeof n=="object"){let d=[];for(let[o,g]of Object.entries(n))g!==void 0&&d.push({property:o,value:g});return d}return[]},i={desktop:{styles:[]},tablet:{styles:[]},mobile:{styles:[]},...e};return i.desktop={styles:r(e.desktop.styles),...e.desktop||{}},i.tablet={styles:r(e.tablet.styles),...e.tablet||{}},i.mobile={styles:r(e.mobile.styles),...e.mobile||{}},i};var w=t=>t==null||t===""||t==="null"||t==="undefined";function ie(t){return Array.isArray(t)}function oe(t){if(ie(t)){let[e,r,i]=t;return i!==void 0?{property:e,value:r,important:i}:{property:e,value:r}}return t}function N(t){if(!Array.isArray(t)||t.length===0)return[];let e=[];for(let r=0;r<t.length;r++)e.push(oe(t[r]));return e}var se="desktop",pe=Object.freeze({});function W(t,e){let r=N(t);for(let i=0;i<r.length;i++){let n=r[i];if(n.property===e)return n.value}}function z(t,e){let r=t||pe,i={...r},n=H(r.costered),d=s=>{switch(s){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},o=(s,c={})=>{let u=c&&Object.prototype.hasOwnProperty.call(c,"cascade")?!!c.cascade:!0,y=c&&Object.prototype.hasOwnProperty.call(c,"raw")?!!c.raw:!u,f=e||se;if(y){let S=W(n?.[f]?.styles,s);return w(S)?void 0:S}let F=d(f);for(let S of F){let T=W(n?.[S]?.styles,s);if(!w(T))return T}};return Object.defineProperties(i,{$get:{value:o,enumerable:!1},$getCascade:{value:s=>o(s,{cascade:!0}),enumerable:!1},$getMany:{value:(s,c)=>{let u={};for(let y=0;y<s.length;y++){let f=s[y];u[f]=o(f,c)}return u},enumerable:!1},$bp:{value:e,enumerable:!1}}),i}function Me(t,e={}){let r=e.keys??Array.from(U),{parentId:i,parentBlock:n}=(0,R.useSelect)(l=>{let s=l("core/block-editor"),c=t||s?.getSelectedBlockClientId?.();if(!c)return{parentId:null,parentBlock:null};let u=s?.getBlockRootClientId?.(c)??null;return u?{parentId:u,parentBlock:s?.getBlock?.(u)||null}:{parentId:null,parentBlock:null}},[]),d=(0,R.useSelect)($,[]),o=(0,v.useMemo)(()=>{let l=n?.attributes;return l&&d?z(l,d):null},[n,d]),g=(0,v.useMemo)(()=>{if(!n||!o)return null;let l={};for(let s=0;s<r.length;s++){let c=r[s];l[c]=o.$get(c,{cascade:!0})}return l},[n,o,r]);return{parentId:i,parentAttrs:g,parentBlock:n,parentAugmented:o}}})();
