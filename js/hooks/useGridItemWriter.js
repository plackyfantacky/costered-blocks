(()=>{var te=Object.create;var C=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ie=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var G=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var oe=(s,e,o,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of re(e))!ne.call(s,c)&&c!==o&&C(s,c,{get:()=>e[c],enumerable:!(u=se(e,c))||u.enumerable});return s};var h=(s,e,o)=>(o=s!=null?te(ie(s)):{},oe(e||!s||!s.__esModule?C(o,"default",{value:s,enumerable:!0}):o,s));var I=G((ae,U)=>{U.exports=wp.element});var P=G((me,j)=>{j.exports=wp.data});var m=h(I()),x=h(P());var S=s=>{let e={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...s||{}};return e.desktop={styles:{},...e.desktop||{}},e.tablet={styles:{},...e.tablet||{}},e.mobile={styles:{},...e.mobile||{}},e.desktop.styles={...e.desktop.styles||{}},e.tablet.styles={...e.tablet.styles||{}},e.mobile.styles={...e.mobile.styles||{}},e},O=(s,e,o)=>{o==null||o===""?Object.prototype.hasOwnProperty.call(s,e)&&delete s[e]:s[e]=o};var pe=s=>typeof s=="string"&&s.trim().length>0,ce=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let s=Date.now().toString(36),e=Math.random().toString(36).slice(2,10);return`${s}-${e}`},_=s=>{s&&!pe(s.costeredId)&&(s.costeredId=ce())};var g={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var L=s=>Array.isArray(s)?s:[],ge=s=>new Set(L(s));function a(s){return Object.fromEntries(Object.entries(g.attributes).filter(([e,o])=>o.group===s))}var M=a("display"),K=a("dimension"),Y=a("margin"),N=a("padding"),H=a("flex"),$=a("flex-item"),W=a("grid"),A=a("grid-item"),F=a("position"),z=a("shared"),_e={...M,...K,...Y,...N,...H,...$,...W,...A,...F,...z},q=new Set([...Object.keys(A)]),ke=L(g?.collections?.editorStyles),X=ge(g?.collections?.unitless),Ee=g?.settings?.gridUnit||"1fr",he=!!g?.settings?.appendImportantToMirroredStyles,De=g?.settings?.styleTagId||"costered-blocks-style-mirror",J=g?.settings?.reduxStoreKey||"costered/ui",we=g?.settings?.breakpoints?.mobile??782,Re=g?.settings?.breakpoints?.tablet??1024,ve=g?.settings?.breakpoints?.desktop??1440,Ie=g?.collections?.clearSets?.gridAreas,Pe=g?.collections?.clearSets?.gridColumns,Oe=g?.collections?.clearSets?.gridRows;var Ae=new Set([...Object.keys(M),...Object.keys(K),...Object.keys(N),...Object.keys(Y),...Object.keys(H),...Object.keys($),...Object.keys(W),...Object.keys(A),...Object.keys(F),...Object.keys(z)]),Be=Object.fromEntries(Object.entries(g.attributes).map(([s,e])=>[s,e.css]));var k=h(P());var ue=s=>{let e=String(s||"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},le=s=>{try{let e=s("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=s("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},Q=s=>{try{let o=(0,k.select)(J);if(o&&typeof o.getBreakpoint=="function"){let u=o.getBreakpoint();if(u)return u}}catch{}let e=le(s);if(e)return ue(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let o=(0,k.select)(STORE_KEY),u=o&&typeof o.getBreakpoint=="function"?o.getBreakpoint():null,c=(0,k.select)("core/edit-post"),E=c&&(typeof c.getPreviewDeviceType=="function"&&c.getPreviewDeviceType()||typeof c.__experimentalGetPreviewDeviceType=="function"&&c.__experimentalGetPreviewDeviceType()),d=(0,k.select)("core/edit-site"),p=d&&(typeof d.getDeviceType=="function"&&d.getDeviceType()||typeof d.__experimentalGetPreviewDeviceType=="function"&&d.__experimentalGetPreviewDeviceType()||typeof d.getPreviewDeviceType=="function"&&d.getPreviewDeviceType())}}catch{}return"desktop"};var fe="desktop";function V(s,e,o={trim:!0,emptyUnsets:!0,breakpoint:void 0}){let{trim:u=!0,emptyUnsets:c=!0,breakpoint:E}=o,d=(0,x.useSelect)(Q,[]),p=E||d||fe,{updateBlockAttributes:b}=(0,x.useDispatch)("core/block-editor"),f=(0,m.useMemo)(()=>{if(typeof s=="string"&&!e){let r=s;return n=>{if(r)if(typeof n=="function"){let t=(0,x.select)("core/block-editor").getBlockAttributes(r)||{},i=n(t)||t;b(r,i)}else b(r,n||{})}}if(typeof s=="function"&&typeof e=="string"){let r=s,n=e;return t=>{if(n)if(typeof t=="function"){let i=(0,x.select)("core/block-editor").getBlockAttributes(n)||{},l=t(i)||i;try{r(n,l)}catch{r(l)}}else try{r(n,t||{})}catch{r(t||{})}}}return typeof s=="function"?s:()=>{}},[s,e,b]),y=(0,m.useCallback)((r,n)=>{if(r==null)return;if(q.has(n)){let i=typeof r=="string"&&u?r.trim():String(r);return c&&i===""?void 0:i}let t=r;if(u&&typeof t=="string"&&(t=t.trim()),!(c&&(t===""||t=="null"||t=="undefined"))){if(X.has(n)){if(typeof t=="string"&&/^-?\d+(\.\d+)?$/.test(t)){let i=Number(t);return Number.isFinite(i)?i:void 0}return typeof t=="number"&&Number.isFinite(t)?t:void 0}if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(typeof t=="string")return t==="null"||t==="undefined"?void 0:t;try{return String(t)}catch{return}}},[u,c]),D=(0,m.useCallback)((r,n)=>{f(t=>{let i={...t||{}};_(i),i.costered=S(i.costered);let l={...i.costered[p].styles},T=y(n,r);return O(l,r,T),i.costered[p]={...i.costered[p],styles:l},i})},[f,p,y]),w=(0,m.useCallback)(r=>{!r||typeof r!="object"||f(n=>{let t={...n||{}};_(t),t.costered=S(t.costered);let i={...t.costered[p].styles};for(let[l,T]of Object.entries(r)){let ee=y(T,l);O(i,l,ee)}return t.costered[p]={...t.costered[p],styles:i},t})},[f,p,y]),R=(0,m.useCallback)(r=>{f(n=>{let t={...n||{}};_(t),t.costered=S(t.costered);let i={...t.costered[p].styles};return r in i?(delete i[r],t.costered[p]={...t.costered[p],styles:i},t):n})},[f,p]),v=(0,m.useCallback)(r=>{!Array.isArray(r)||r.length===0||f(n=>{let t={...n||{}};_(t),t.costered=S(t.costered);let i={...t.costered[p].styles},l=!1;for(let T of r)T in i&&(delete i[T],l=!0);return l?(t.costered[p]={...t.costered[p],styles:i},t):n})},[f,p]),Z=(0,m.useCallback)(r=>({set:(n,t)=>D(`${r}${n}`,t),setMany:n=>{let t={};for(let[i,l]of Object.entries(n))t[`${r}${i}`]=l;w(t)},unset:n=>R(`${r}${n}`),unsetMany:n=>v(n.map(t=>`${r}${t}`))}),[D,w,R,v]);return{set:D,setMany:w,unset:R,unsetMany:v,withPrefix:Z,activeBreakpoint:p}}var B=h(I());function He(s){let{set:e,setMany:o,unset:u}=V(s),c=(0,B.useCallback)(d=>{if(!d||typeof d!="string"){u("gridArea");return}e("gridArea",d.trim())},[e,u]),E=(0,B.useCallback)((d,p,b,f)=>{let y={};d!==void 0&&(y.gridRowStart=d||void 0),p!==void 0&&(y.gridRowEnd=p||void 0),b!==void 0&&(y.gridColumnStart=b||void 0),f!==void 0&&(y.gridColumnEnd=f||void 0),o(y)},[o]);return{setArea:c,setTracks:E,set:e,setMany:o,unset:u}}})();
