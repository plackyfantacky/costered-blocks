(()=>{var it=Object.create;var U=Object.defineProperty;var pt=Object.getOwnPropertyDescriptor;var ct=Object.getOwnPropertyNames;var ut=Object.getPrototypeOf,at=Object.prototype.hasOwnProperty;var $=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dt=(e,t,r,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ct(t))!at.call(e,o)&&o!==r&&U(e,o,{get:()=>t[o],enumerable:!(p=pt(t,o))||p.enumerable});return e};var P=(e,t,r)=>(r=e!=null?it(ut(e)):{},dt(t||!e||!e.__esModule?U(r,"default",{value:e,enumerable:!0}):r,e));var M=$((At,N)=>{N.exports=wp.element});var O=$((Tt,j)=>{j.exports=wp.data});var _=P(M());var x=P(M()),A=P(O());function lt(e){return Array.isArray(e)}function K(e){if(lt(e)){let[t,r,p]=e;return p!==void 0?{property:t,value:r,important:p}:{property:t,value:r}}return e}function L(e,t,r,p){let o=Array.isArray(e)?e.slice():[],a=-1;for(let m=0;m<o.length;m++)if(K(o[m]).property===t){a=m;break}let d=p!==void 0?{property:t,value:r,important:p}:{property:t,value:r};return a===-1?o.push(d):o[a]=d,o}function T(e,t){let r=Array.isArray(e)?Array.from(e):[],p=[];for(let o=0;o<r.length;o++)K(r[o]).property!==t&&p.push(r[o]);return p}var R=e=>{let t=e||{},r=o=>{if(Array.isArray(o))return o;if(o&&typeof o=="object"){let a=[];for(let[d,m]of Object.entries(o))m!==void 0&&a.push({property:d,value:m});return a}return[]},p={desktop:{styles:[]},tablet:{styles:[]},mobile:{styles:[]},...t};return p.desktop={styles:r(t.desktop.styles),...t.desktop||{}},p.tablet={styles:r(t.tablet.styles),...t.tablet||{}},p.mobile={styles:r(t.mobile.styles),...t.mobile||{}},p};function gt(e){return typeof e=="string"&&e.trim().length>0}function ft(){let e=globalThis?.crypto?.randomUUID;if(typeof e=="function")return e.call(globalThis.crypto);let t=Date.now().toString(36),r=Math.random().toString(36).slice(2,10);return`${t}-${r}`}function h(e){e&&(gt(e.costeredId)||(e.costeredId=ft()))}var y={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var Y=e=>Array.isArray(e)?e:[],mt=e=>new Set(Y(e));function b(e){return Object.fromEntries(Object.entries(y.attributes).filter(([t,r])=>r.group===e))}var H=b("display"),F=b("dimension"),z=b("margin"),q=b("padding"),X=b("flex"),V=b("flex-item"),Z=b("grid"),W=b("grid-item"),J=b("position"),Q=b("shared"),Pt={...H,...F,...z,...q,...X,...V,...Z,...W,...J,...Q},tt=new Set([...Object.keys(W)]),Bt=Y(y?.collections?.editorStyles),et=mt(y?.collections?.unitless),Dt=y?.settings?.gridUnit||"1fr",Ct=!!y?.settings?.appendImportantToMirroredStyles,Et=y?.settings?.styleTagId||"costered-blocks-style-mirror",nt=y?.settings?.reduxStoreKey||"costered/ui",Mt=y?.settings?.breakpoints?.mobile??782,Ot=y?.settings?.breakpoints?.tablet??1024,Lt=y?.settings?.breakpoints?.desktop??1440,Wt=y?.collections?.clearSets?.gridAreas,Gt=y?.collections?.clearSets?.gridColumns,Ut=y?.collections?.clearSets?.gridRows;var $t=new Set([...Object.keys(H),...Object.keys(F),...Object.keys(q),...Object.keys(z),...Object.keys(X),...Object.keys(V),...Object.keys(Z),...Object.keys(W),...Object.keys(J),...Object.keys(Q)]),Nt=Object.fromEntries(Object.entries(y.attributes).map(([e,t])=>[e,t.css]));var v=P(O());var St=e=>{let t=String(e??"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},bt=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},rt=e=>{try{let r=(0,v.select)(nt);if(r&&typeof r.getBreakpoint=="function"){let p=r.getBreakpoint();if(p)return p}}catch{}let t=bt(e);if(t)return St(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,v.select)(STORE_KEY),p=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,o=(0,v.select)("core/edit-post"),a=o&&(typeof o.getPreviewDeviceType=="function"&&o.getPreviewDeviceType()||typeof o.__experimentalGetPreviewDeviceType=="function"&&o.__experimentalGetPreviewDeviceType()),d=(0,v.select)("core/edit-site"),m=d&&(typeof d.getDeviceType=="function"&&d.getDeviceType()||typeof d.__experimentalGetPreviewDeviceType=="function"&&d.__experimentalGetPreviewDeviceType()||typeof d.getPreviewDeviceType=="function"&&d.getPreviewDeviceType())}}catch{}return"desktop"};var kt="desktop";function st(e,t,r={trim:!0,emptyUnsets:!0}){let p=(typeof t=="object"?t:r)||{},{trim:o=!0,emptyUnsets:a=!0,breakpoint:d}=p,m=(0,A.useSelect)(rt,[]),c=d||m||kt,{updateBlockAttributes:l}=(0,A.useDispatch)("core/block-editor"),f=(0,x.useMemo)(()=>{if(typeof e=="string"){let s=e;return i=>{if(s)if(typeof i=="function"){let n=(0,A.select)("core/block-editor")?.getBlockAttributes(s)||{},u=i(n)||n;l(s,u)}else l(s,i||{})}}if(typeof e=="function"&&typeof t=="string"){let s=e,i=t;return n=>{if(!i)return;if(typeof n=="function"){let g=(0,A.select)("core/block-editor")?.getBlockAttributes(i)||{},S=n(g)||g;try{s(i,S)}catch{s(S)}return}let u=n||{};try{s(i,u)}catch{s(u)}}}if(typeof e=="function"){let s=e;return i=>{if(typeof i=="function"){let n=i({});s(n)}else s(i||{})}}return()=>{}},[e,t,l]),w=(0,x.useCallback)((s,i)=>{if(s==null)return;if(tt.has(i)){let u=typeof s=="string"&&o?s.trim():String(s);return a&&u===""?void 0:u}let n=s;if(o&&typeof n=="string"&&(n=n.trim()),!(a&&(n===""||n=="null"||n=="undefined"))){if(et.has(i)){if(typeof n=="string"&&/^-?\d+(\.\d+)?$/.test(n)){let u=Number(n);return Number.isFinite(u)?u:void 0}return typeof n=="number"&&Number.isFinite(n)?n:void 0}if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(typeof n=="string")return n==="null"||n==="undefined"?void 0:n;try{return String(n)}catch{return}}},[o,a]),k=(0,x.useCallback)((s,i)=>{f(n=>{let u={...n||{}};h(u),u.costered=R(u.costered);let g=u.costered[c].styles,S=w(i,s),E=S===void 0?T(g,s):L(g,s,S);return u.costered[c]={...u.costered[c],styles:E},u})},[f,c,w]),B=(0,x.useCallback)(s=>{!s||typeof s!="object"||f(i=>{let n={...i||{}};h(n),n.costered=R(n.costered);let g=n.costered[c].styles;for(let[S,E]of Object.entries(s)){let G=w(E,S);g=G===void 0?T(g,S):L(g,S,G)}return n.costered[c]={...n.costered[c],styles:g||[]},n})},[f,c,w]),D=(0,x.useCallback)(s=>{f(i=>{let n={...i||{}};h(n),n.costered=R(n.costered);let u=n.costered[c].styles,g=T(u,s);return(u?.length||0)===g.length?i:(n.costered[c]={...n.costered[c],styles:g},n)})},[f,c]),C=(0,x.useCallback)(s=>{!Array.isArray(s)||s.length===0||f(i=>{let n={...i||{}};h(n),n.costered=R(n.costered);let g=n.costered[c]?.styles;for(let S=0;S<s.length;S++)g=T(g,s[S]);return n.costered[c]={...n.costered[c],styles:g||[]},n})},[f,c]),ot=(0,x.useCallback)(s=>({set:(i,n)=>k(`${s}${i}`,n),setMany:i=>{let n={};for(let[u,g]of Object.entries(i))n[`${s}${u}`]=g;B(n)},unset:i=>D(`${s}${i}`),unsetMany:i=>C(i.map(n=>`${s}${n}`))}),[k,B,D,C]);return{set:k,setMany:B,unset:D,unsetMany:C,withPrefix:ot,activeBreakpoint:c}}function xt(e,t=1){let r=Number(e);return Number.isFinite(r)?Math.trunc(r):t}var I=({start:e,span:t,end:r},{mode:p="span",collapseSpanOne:o=!0}={})=>{let a=String(e??"").trim()||"auto";if(p==="end"){let m=String(r??"").trim()||"auto";return`${a} / ${m}`}let d=xt(t,1);return o&&d===1&&a!=="auto"?a:`${a} / span ${d}`};function te(e){let{set:t,setMany:r,unset:p}=st(e),o=(0,_.useCallback)(c=>{let l=typeof c=="string"?c.trim():"";if(!l){p("gridArea");return}t("gridArea",l)},[t,p]),a=(0,_.useCallback)((c,l,f,w)=>{let k={};c!==void 0&&(k.gridRowStart=c||void 0),l!==void 0&&(k.gridRowEnd=l||void 0),f!==void 0&&(k.gridColumnStart=f||void 0),w!==void 0&&(k.gridColumnEnd=w||void 0),r(k)},[r]),d=(0,_.useCallback)((c,l)=>{let f=c==="end"?I({start:l.start,end:l.end},{mode:"end"}):I({start:l.start,span:l.span},{mode:"span"});t("gridColumn",f)},[t]),m=(0,_.useCallback)((c,l)=>{let f=c==="end"?I({start:l.start,end:l.end},{mode:"end"}):I({start:l.start,span:l.span},{mode:"span"});t("gridRow",f)},[t]);return{setArea:o,setTracks:a,writeColumn:d,writeRow:m,set:t,setMany:r,unset:p}}})();
