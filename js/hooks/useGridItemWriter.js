(()=>{var lt=Object.create;var Y=Object.defineProperty;var gt=Object.getOwnPropertyDescriptor;var ft=Object.getOwnPropertyNames;var yt=Object.getPrototypeOf,mt=Object.prototype.hasOwnProperty;var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var St=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let p of ft(t))!mt.call(e,p)&&p!==r&&Y(e,p,{get:()=>t[p],enumerable:!(i=gt(t,p))||i.enumerable});return e};var P=(e,t,r)=>(r=e!=null?lt(yt(e)):{},St(t||!e||!e.__esModule?Y(r,"default",{value:e,enumerable:!0}):r,e));var O=H((Ct,F)=>{F.exports=wp.element});var L=H((vt,z)=>{z.exports=wp.data});var B=P(O());var x=P(O()),A=P(L());function bt(e){return Array.isArray(e)}function q(e){if(bt(e)){let[t,r,i]=e;return i!==void 0?{property:t,value:r,important:i}:{property:t,value:r}}return e}function G(e,t,r,i){let p=Array.isArray(e)?e.slice():[],l=-1;for(let m=0;m<p.length;m++)if(q(p[m]).property===t){l=m;break}let b=i!==void 0?{property:t,value:r,important:i}:{property:t,value:r};return l===-1?p.push(b):p[l]=b,p}function h(e,t){let r=Array.isArray(e)?Array.from(e):[],i=[];for(let p=0;p<r.length;p++)q(r[p]).property!==t&&i.push(r[p]);return i}var X=e=>{if(Array.isArray(e))return e.filter(Boolean).map(t=>{let r=String(t.property??""),i=t.value;return r&&i!==void 0?{property:r,value:i}:void 0}).filter(Boolean);if(e&&typeof e=="object"){let t=[];for(let[r,i]of Object.entries(e))i!==void 0&&t.push({property:r,value:i});return t}return[]},R=e=>e&&typeof e=="object"&&"styles"in e?{styles:X(e.styles)}:{styles:X(e)},T=e=>{let t=e||{};return!!t.desktop||!!t.tablet||!!t.mobile?{desktop:R(t.desktop),tablet:R(t.tablet),mobile:R(t.mobile)}:{desktop:R(t),tablet:R(void 0),mobile:R(void 0)}};function kt(e){return typeof e=="string"&&e.trim().length>0}function xt(){let e=globalThis?.crypto?.randomUUID;if(typeof e=="function")return e.call(globalThis.crypto);let t=Date.now().toString(36),r=Math.random().toString(36).slice(2,10);return`${t}-${r}`}function I(e){e&&(kt(e.costeredId)||(e.costeredId=xt()))}var f={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var C=e=>Array.isArray(e)?e:[],At=e=>new Set(C(e));function S(e){let t=f.attributes||{};return Object.fromEntries(Object.entries(t).filter(([,r])=>r.group===e))}var Z=S("display"),Q=S("dimension"),V=S("margin"),tt=S("padding"),et=S("flex"),nt=S("flex-item"),rt=S("grid"),W=S("grid-item"),ot=S("position"),st=S("shared"),Mt={...Z,...Q,...V,...tt,...et,...nt,...rt,...W,...ot,...st},it=new Set([...Object.keys(W)]),Ot=C(f?.collections?.editorStyles),ut=At(f?.collections?.unitless),Lt=f?.settings?.gridUnit||"1fr",Gt=!!f?.settings?.appendImportantToMirroredStyles,Wt=f?.settings?.styleTagId||"costered-blocks-style-mirror",N=f?.settings?.reduxStoreKey||"costered/ui",Nt=f?.settings?.breakpoints?.mobile??782,Ut=f?.settings?.breakpoints?.tablet??1024,$t=f?.settings?.breakpoints?.desktop??1440,jt=C(f?.collections?.clearSets?.gridAreas),Kt=C(f?.collections?.clearSets?.gridColumns),Jt=C(f?.collections?.clearSets?.gridRows);var Yt=new Set([...Object.keys(Z),...Object.keys(Q),...Object.keys(tt),...Object.keys(V),...Object.keys(et),...Object.keys(nt),...Object.keys(rt),...Object.keys(W),...Object.keys(ot),...Object.keys(st)]),Ht=Object.fromEntries(Object.entries(f.attributes).map(([e,t])=>[e,t.css]));var U=P(L());var $="desktop",j="tablet",K="mobile",Rt=e=>{let t=String(e??"").toLowerCase();return t==="tablet"||t==="medium"?j:t==="mobile"||t==="phone"?K:$},at=e=>{try{let r=e?.("core/editor")?.getDeviceType?.();if(r)return r}catch{}try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},pt=e=>{try{let i=(typeof e=="function"?e(N):(0,U.select)(N))?.getBreakpoint?.();if(i===$||i===j||i===K)return i}catch{}let t=at(typeof e=="function"?e:U.select);if(t)return Rt(t);if(typeof window<"u"){let r=window.__COSTERED_VIEWPORT_BP;if(r===$||r===j||r===K)return r}return"desktop"};var ht="desktop";function dt(e,t,r={trim:!0,emptyUnsets:!0}){let i=(typeof t=="object"?t:r)||{},{trim:p=!0,emptyUnsets:l=!0,breakpoint:b}=i,m=(0,A.useSelect)(pt,[]),u=b||m||ht,{updateBlockAttributes:d}=(0,A.useDispatch)("core/block-editor"),g=(0,x.useMemo)(()=>{if(typeof e=="string"){let o=e;return s=>{if(o)if(typeof s=="function"){let n=(0,A.select)("core/block-editor")?.getBlockAttributes(o)||{},a=s(n)||n;d(o,a)}else d(o,s||{})}}if(typeof e=="function"&&typeof t=="string"){let o=e,s=t;return n=>{if(!s)return;if(typeof n=="function"){let c=(0,A.select)("core/block-editor")?.getBlockAttributes(s)||{},y=n(c)||c;try{o(s,y)}catch{o(y)}return}let a=n||{};try{o(s,a)}catch{o(a)}}}if(typeof e=="function"){let o=e;return s=>{if(typeof s=="function"){let n=s({});o(n)}else o(s||{})}}return()=>{}},[e,t,d]),w=(0,x.useCallback)((o,s)=>{if(o==null)return;if(it.has(s)){let a=typeof o=="string"&&p?o.trim():String(o);return l&&a===""?void 0:a}let n=o;if(p&&typeof n=="string"&&(n=n.trim()),!(l&&(n===""||n=="null"||n=="undefined"))){if(ut.has(s)){if(typeof n=="string"&&/^-?\d+(\.\d+)?$/.test(n)){let a=Number(n);return Number.isFinite(a)?a:void 0}return typeof n=="number"&&Number.isFinite(n)?n:void 0}if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(typeof n=="string")return n==="null"||n==="undefined"?void 0:n;try{return String(n)}catch{return}}},[p,l]),k=(0,x.useCallback)((o,s)=>{g(n=>{let a={...n||{}};I(a),a.costered=T(a.costered);let c=a.costered[u].styles,y=w(s,o),M=y===void 0?h(c,o):G(c,o,y);return a.costered[u]={...a.costered[u],styles:M},a})},[g,u,w]),E=(0,x.useCallback)(o=>{!o||typeof o!="object"||g(s=>{let n={...s||{}};I(n),n.costered=T(n.costered);let c=n.costered[u].styles;for(let[y,M]of Object.entries(o)){let J=w(M,y);c=J===void 0?h(c,y):G(c,y,J)}return n.costered[u]={...n.costered[u],styles:c||[]},n})},[g,u,w]),D=(0,x.useCallback)(o=>{g(s=>{let n={...s||{}};I(n),n.costered=T(n.costered);let a=n.costered[u].styles,c=h(a,o);return(a?.length||0)===c.length?s:(n.costered[u]={...n.costered[u],styles:c},n)})},[g,u]),_=(0,x.useCallback)(o=>{!Array.isArray(o)||o.length===0||g(s=>{let n={...s||{}};I(n),n.costered=T(n.costered);let c=n.costered[u]?.styles;for(let y=0;y<o.length;y++)c=h(c,o[y]);return n.costered[u]={...n.costered[u],styles:c||[]},n})},[g,u]),ct=(0,x.useCallback)(o=>({set:(s,n)=>k(`${o}${s}`,n),setMany:s=>{let n={};for(let[a,c]of Object.entries(s))n[`${o}${a}`]=c;E(n)},unset:s=>D(`${o}${s}`),unsetMany:s=>_(s.map(n=>`${o}${n}`))}),[k,E,D,_]);return{set:k,setMany:E,unset:D,unsetMany:_,withPrefix:ct,activeBreakpoint:u}}function Tt(e,t=1){let r=Number(e);return Number.isFinite(r)?Math.trunc(r):t}var v=({start:e,span:t,end:r},{mode:i="span",collapseSpanOne:p=!0}={})=>{let l=String(e??"").trim()||"auto";if(i==="end"){let m=String(r??"").trim()||"auto";return`${l} / ${m}`}let b=Tt(t,1);return p&&b===1&&l!=="auto"?l:`${l} / span ${b}`};function se(e){let{set:t,setMany:r,unset:i}=dt(e),p=(0,B.useCallback)(u=>{let d=typeof u=="string"?u.trim():"";if(!d){i("gridArea");return}t("gridArea",d)},[t,i]),l=(0,B.useCallback)((u,d,g,w)=>{let k={};u!==void 0&&(k.gridRowStart=u||void 0),d!==void 0&&(k.gridRowEnd=d||void 0),g!==void 0&&(k.gridColumnStart=g||void 0),w!==void 0&&(k.gridColumnEnd=w||void 0),r(k)},[r]),b=(0,B.useCallback)((u,d)=>{let g=u==="end"?v({start:d.start,end:d.end},{mode:"end"}):v({start:d.start,span:d.span},{mode:"span"});t("gridColumn",g)},[t]),m=(0,B.useCallback)((u,d)=>{let g=u==="end"?v({start:d.start,end:d.end},{mode:"end"}):v({start:d.start,span:d.span},{mode:"span"});t("gridRow",g)},[t]);return{setArea:p,setTracks:l,writeColumn:b,writeRow:m,set:t,setMany:r,unset:i}}})();
