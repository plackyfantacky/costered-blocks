(()=>{var se=Object.create;var L=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var pe=Object.getOwnPropertyNames;var ce=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var U=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ue=(r,e,i,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of pe(e))!de.call(r,o)&&o!==i&&L(r,o,{get:()=>e[o],enumerable:!(c=oe(e,o))||c.enumerable});return r};var A=(r,e,i)=>(i=r!=null?se(ce(r)):{},ue(e||!r||!r.__esModule?L(i,"default",{value:r,enumerable:!0}):i,r));var E=U((xe,G)=>{G.exports=wp.element});var C=U((we,j)=>{j.exports=wp.data});var b=A(E()),k=A(C());function ae(r){return Array.isArray(r)}function K(r){if(ae(r)){let[e,i,c]=r;return c!==void 0?{property:e,value:i,important:c}:{property:e,value:i}}return r}function P(r,e,i,c){let o=Array.isArray(r)?r.slice():[],g=-1;for(let m=0;m<o.length;m++)if(K(o[m]).property===e){g=m;break}let u=c!==void 0?{property:e,value:i,important:c}:{property:e,value:i};return g===-1?o.push(u):o[g]=u,o}function O(r,e){let i=Array.isArray(r)?Array.from(r):[],c=[];for(let o=0;o<i.length;o++)K(i[o]).property!==e&&c.push(i[o]);return c}var w=r=>{let e={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...r||{}};return e.desktop={styles:{},...e.desktop||{}},e.tablet={styles:{},...e.tablet||{}},e.mobile={styles:{},...e.mobile||{}},e.desktop.styles={...e.desktop.styles||{}},e.tablet.styles={...e.tablet.styles||{}},e.mobile.styles={...e.mobile.styles||{}},e};var le=r=>typeof r=="string"&&r.trim().length>0,ye=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let r=Date.now().toString(36),e=Math.random().toString(36).slice(2,10);return`${r}-${e}`},R=r=>{r&&!le(r.costeredId)&&(r.costeredId=ye())};var l={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var N=r=>Array.isArray(r)?r:[],fe=r=>new Set(N(r));function S(r){return Object.fromEntries(Object.entries(l.attributes).filter(([e,i])=>i.group===r))}var Y=S("display"),H=S("dimension"),$=S("margin"),F=S("padding"),V=S("flex"),z=S("flex-item"),q=S("grid"),M=S("grid-item"),X=S("position"),J=S("shared"),_e={...Y,...H,...$,...F,...V,...z,...q,...M,...X,...J},Q=new Set([...Object.keys(M)]),Be=N(l?.collections?.editorStyles),Z=fe(l?.collections?.unitless),De=l?.settings?.gridUnit||"1fr",Ie=!!l?.settings?.appendImportantToMirroredStyles,Ee=l?.settings?.styleTagId||"costered-blocks-style-mirror",ee=l?.settings?.reduxStoreKey||"costered/ui",Ce=l?.settings?.breakpoints?.mobile??782,Pe=l?.settings?.breakpoints?.tablet??1024,Oe=l?.settings?.breakpoints?.desktop??1440,Me=l?.collections?.clearSets?.gridAreas,We=l?.collections?.clearSets?.gridColumns,Le=l?.collections?.clearSets?.gridRows;var Ue=new Set([...Object.keys(Y),...Object.keys(H),...Object.keys(F),...Object.keys($),...Object.keys(V),...Object.keys(z),...Object.keys(q),...Object.keys(M),...Object.keys(X),...Object.keys(J)]),Ge=Object.fromEntries(Object.entries(l.attributes).map(([r,e])=>[r,e.css]));var T=A(C());var me=r=>{let e=String(r||"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},Se=r=>{try{let e=r("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=r("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},te=r=>{try{let i=(0,T.select)(ee);if(i&&typeof i.getBreakpoint=="function"){let c=i.getBreakpoint();if(c)return c}}catch{}let e=Se(r);if(e)return me(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let i=(0,T.select)(STORE_KEY),c=i&&typeof i.getBreakpoint=="function"?i.getBreakpoint():null,o=(0,T.select)("core/edit-post"),g=o&&(typeof o.getPreviewDeviceType=="function"&&o.getPreviewDeviceType()||typeof o.__experimentalGetPreviewDeviceType=="function"&&o.__experimentalGetPreviewDeviceType()),u=(0,T.select)("core/edit-site"),m=u&&(typeof u.getDeviceType=="function"&&u.getDeviceType()||typeof u.__experimentalGetPreviewDeviceType=="function"&&u.__experimentalGetPreviewDeviceType()||typeof u.getPreviewDeviceType=="function"&&u.getPreviewDeviceType())}}catch{}return"desktop"};var be="desktop";function re(r,e,i={trim:!0,emptyUnsets:!0}){let c=(typeof e=="object"?e:i)||{},{trim:o=!0,emptyUnsets:g=!0,breakpoint:u}=c,m=(0,k.useSelect)(te,[]),d=u||m||be,{updateBlockAttributes:x}=(0,k.useDispatch)("core/block-editor"),y=(0,b.useMemo)(()=>{if(typeof r=="string"&&!e){let n=r;return s=>{if(n)if(typeof s=="function"){let t=(0,k.select)("core/block-editor")?.getBlockAttributes(n)||{},p=s(t)||t;x(n,p)}else x(n,s||{})}}if(typeof r=="function"&&typeof e=="string"){let n=r,s=e;return t=>{if(!s)return;if(typeof t=="function"){let a=(0,k.select)("core/block-editor")?.getBlockAttributes(s)||{},f=t(a)||a;try{n(s,f)}catch{n(f)}return}let p=t||{};try{n(s,p)}catch{n(p)}}}if(typeof r=="function"){let n=r;return s=>{if(typeof s=="function"){let t=(0,k.select)("core/block-editor")?.getBlockAttributes?.(void 0)||{},p=s(t)||t;n(p)}else n(s||{})}}return()=>{}},[r,e,x]),v=(0,b.useCallback)((n,s)=>{if(n==null)return;if(Q.has(s)){let p=typeof n=="string"&&o?n.trim():String(n);return g&&p===""?void 0:p}let t=n;if(o&&typeof t=="string"&&(t=t.trim()),!(g&&(t===""||t=="null"||t=="undefined"))){if(Z.has(s)){if(typeof t=="string"&&/^-?\d+(\.\d+)?$/.test(t)){let p=Number(t);return Number.isFinite(p)?p:void 0}return typeof t=="number"&&Number.isFinite(t)?t:void 0}if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(typeof t=="string")return t==="null"||t==="undefined"?void 0:t;try{return String(t)}catch{return}}},[o,g]),h=(0,b.useCallback)((n,s)=>{y(t=>{let p={...t||{}};R(p),p.costered=w(p.costered);let a=p.costered[d].styles,f=v(s,n),I=P(a,n,f);return p.costered[d]={...p.costered[d],styles:I},p})},[y,d,v]),_=(0,b.useCallback)(n=>{!n||typeof n!="object"||y(s=>{let t={...s||{}};R(t),t.costered=w(t.costered);let a=t.costered[d].styles;for(let[f,I]of Object.entries(n)){let ie=v(I,f);a=P(a,f,ie)}return t.costered[d]={...t.costered[d],styles:a||[]},t})},[y,d,v]),B=(0,b.useCallback)(n=>{y(s=>{let t={...s||{}};R(t),t.costered=w(t.costered);let p=t.costered[d].styles,a=O(p,n);return(p?.length||0)===a.length?s:(t.costered[d]={...t.costered[d],styles:a},t)})},[y,d]),D=(0,b.useCallback)(n=>{!Array.isArray(n)||n.length===0||y(s=>{let t={...s||{}};R(t),t.costered=w(t.costered);let a=t.costered[d]?.styles;for(let f=0;f<n.length;f++)a=O(a,n[f]);return t.costered[d]={...t.costered[d],styles:a||[]},t})},[y,d]),ne=(0,b.useCallback)(n=>({set:(s,t)=>h(`${n}${s}`,t),setMany:s=>{let t={};for(let[p,a]of Object.entries(s))t[`${n}${p}`]=a;_(t)},unset:s=>B(`${n}${s}`),unsetMany:s=>D(s.map(t=>`${n}${t}`))}),[h,_,B,D]);return{set:h,setMany:_,unset:B,unsetMany:D,withPrefix:ne,activeBreakpoint:d}}var W=A(E());function Je(r){let{set:e,setMany:i,unset:c}=re(r),o=(0,W.useCallback)(u=>{if(!u||typeof u!="string"){c("gridArea");return}e("gridArea",u.trim())},[e,c]),g=(0,W.useCallback)((u,m,d,x)=>{let y={};u!==void 0&&(y.gridRowStart=u||void 0),m!==void 0&&(y.gridRowEnd=m||void 0),d!==void 0&&(y.gridColumnStart=d||void 0),x!==void 0&&(y.gridColumnEnd=x||void 0),i(y)},[i]);return{setArea:o,setTracks:g,set:e,setMany:i,unset:c}}})();
