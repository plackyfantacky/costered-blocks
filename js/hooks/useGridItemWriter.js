(()=>{var ut=Object.create;var K=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var dt=Object.getOwnPropertyNames;var lt=Object.getPrototypeOf,gt=Object.prototype.hasOwnProperty;var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ft=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of dt(e))!gt.call(t,u)&&u!==r&&K(t,u,{get:()=>e[u],enumerable:!(i=ct(e,u))||i.enumerable});return t};var O=(t,e,r)=>(r=t!=null?ut(lt(t)):{},ft(e||!t||!t.__esModule?K(r,"default",{value:t,enumerable:!0}):r,t));var j=F((Bt,Y)=>{Y.exports=wp.element});var G=F((Ct,H)=>{H.exports=wp.data});var v=O(j());var x=O(j()),A=O(G());function h(t,e){if(t?.costered!==void 0){let u=t,c=u.costered??(u.costered={}),y=c[e]??(c[e]={styles:{}});return y.styles??(y.styles={})}let r=t?.costered?.styles??("desktop"in t||"tablet"in t||"mobile"in t?t:void 0);r||(r={},t?.costered?t.costered.styles=r:t?.costered===void 0&&t?t.costered={styles:r}:Object.assign(t,r));let i;return e==="mobile"?i=r.mobile??(r.mobile={}):e==="tablet"?i=r.tablet??(r.tablet={}):i=r.desktop??(r.desktop={}),i}function T(t,e,r){if(!r||typeof r!="object"||Array.isArray(r))throw new Error("withBreakpointStyles expects a plain object of camelCase CSS properties \u2192 string values.");let i=t.costered??{},c={...i[e]??{styles:{}},styles:{...r}},y={...i,[e]:c};return{...t,costered:y}}var M=t=>{let e=u=>{let c=u?.styles;return c&&typeof c=="object"&&!Array.isArray(c)?{...u,styles:{...c}}:{...u||{},styles:{}}},r=t&&typeof t=="object"?t:{},i=!!r.desktop||!!r.tablet||!!r.mobile;return{desktop:e(r.desktop),tablet:e(r.tablet),mobile:e(r.mobile)}};function yt(t){return typeof t=="string"&&t.trim().length>0}function mt(){let t=globalThis?.crypto?.randomUUID;if(typeof t=="function")return t.call(globalThis.crypto);let e=Date.now().toString(36),r=Math.random().toString(36).slice(2,10);return`${e}-${r}`}function I(t){t&&(yt(t.costeredId)||(t.costeredId=mt()))}var f={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var R=t=>Array.isArray(t)?t:[],bt=t=>new Set(R(t));function b(t){let e=f.attributes||{};return Object.fromEntries(Object.entries(e).filter(([,r])=>r.group===t))}var z=b("display"),V=b("dimension"),q=b("margin"),X=b("padding"),Z=b("flex"),Q=b("flex-item"),tt=b("grid"),W=b("grid-item"),et=b("position"),nt=b("shared"),Et={...z,...V,...q,...X,...Z,...Q,...tt,...W,...et,...nt},rt=new Set([...Object.keys(W)]),vt=R(f?.collections?.editorStyles),st=bt(f?.collections?.unitless),Ot=f?.settings?.gridUnit||"1fr",Pt=!!f?.settings?.appendImportantToMirroredStyles,_t=f?.settings?.styleTagId||"costered-blocks-style-mirror",U=f?.settings?.reduxStoreKey||"costered/ui",Dt=f?.settings?.breakpoints?.mobile??782,jt=f?.settings?.breakpoints?.tablet??1024,Gt=f?.settings?.breakpoints?.desktop??1440,Wt=R(f?.collections?.clearSets?.gridAreas),Ut=R(f?.collections?.clearSets?.gridColumns),Lt=R(f?.collections?.clearSets?.gridRows);var $t=new Set([...Object.keys(z),...Object.keys(V),...Object.keys(X),...Object.keys(q),...Object.keys(Z),...Object.keys(Q),...Object.keys(tt),...Object.keys(W),...Object.keys(et),...Object.keys(nt)]),Nt=Object.fromEntries(Object.entries(f.attributes).map(([t,e])=>[t,e.css]));var L=O(G());var $="desktop",N="tablet",J="mobile",St=t=>{let e=String(t??"").toLowerCase();return e==="tablet"||e==="medium"?N:e==="mobile"||e==="phone"?J:$},ot=t=>{try{let r=t?.("core/editor")?.getDeviceType?.();if(r)return r}catch{}try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},it=t=>{try{let i=(typeof t=="function"?t(U):(0,L.select)(U))?.getBreakpoint?.();if(i===$||i===N||i===J)return i}catch{}let e=ot(typeof t=="function"?t:L.select);if(e)return St(e);if(typeof window<"u"){let r=window.__COSTERED_VIEWPORT_BP;if(r===$||r===N||r===J)return r}return"desktop"};var xt="desktop";function at(t,e,r={trim:!0,emptyUnsets:!0}){let i=(typeof e=="object"?e:r)||{},{trim:u=!0,emptyUnsets:c=!0,breakpoint:y}=i,B=(0,A.useSelect)(it,[]),p=y||B||xt,{updateBlockAttributes:d}=(0,A.useDispatch)("core/block-editor"),g=(0,x.useMemo)(()=>{if(typeof t=="string"||t===null){let s=t??void 0;return o=>{if(s)if(typeof o=="function"){let n=(0,A.select)("core/block-editor")?.getBlockAttributes(s)||{},a=o(n)||n;d(s,a)}else d(s,o||{})}}if(typeof t=="function"&&(typeof e=="string"||e==null)){let s=t,o=e??void 0;return n=>{if(!o)return;if(typeof n=="function"){let l=(0,A.select)("core/block-editor")?.getBlockAttributes(o)||{},m=n(l)||l;try{s(o,m)}catch{s(m)}return}let a=n||{};try{s(o,a)}catch{s(a)}}}if(typeof t=="function"){let s=t;return o=>{if(typeof o=="function"){let n=o({});s(n)}else s(o||{})}}return()=>{}},[t,e,d]),w=(0,x.useCallback)((s,o)=>{if(s==null)return;if(rt.has(o)){let a=typeof s=="string"&&u?s.trim():String(s);return c&&a===""?void 0:a}let n=s;if(u&&typeof n=="string"&&(n=n.trim()),!(c&&(n===""||n=="null"||n=="undefined"))){if(st.has(o)){if(typeof n=="string"&&/^-?\d+(\.\d+)?$/.test(n)){let a=Number(n);return Number.isFinite(a)?a:void 0}return typeof n=="number"&&Number.isFinite(n)?n:void 0}if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(typeof n=="string")return n==="null"||n==="undefined"?void 0:n;try{return String(n)}catch{return}}},[u,c]),S=(0,x.useCallback)((s,o)=>{g(n=>{let a={...n||{}};I(a),a.costered=M(a.costered);let l=w(o,s),k={...h(a,p)};if(l===void 0)if(Object.prototype.hasOwnProperty.call(k,s))delete k[s];else return n;else k[s]=String(l);return T(a,p,k)})},[g,p,w]),P=(0,x.useCallback)(s=>{!s||typeof s!="object"||g(o=>{let n={...o||{}};I(n),n.costered=M(n.costered);let l={...h(n,p)};for(let[m,k]of Object.entries(s)){let C=w(k,m);C===void 0?Object.prototype.hasOwnProperty.call(l,m)&&delete l[m]:l[m]=String(C)}return T(n,p,l)})},[g,p,w]),_=(0,x.useCallback)(s=>{g(o=>{let n={...o||{}};I(n),n.costered=M(n.costered);let a=h(n,p);if(!Object.prototype.hasOwnProperty.call(a,s))return o;let l={...a};return delete l[s],T(n,p,l)})},[g,p]),D=(0,x.useCallback)(s=>{!Array.isArray(s)||s.length===0||g(o=>{let n={...o||{}};I(n),n.costered=M(n.costered);let a=h(n,p),l=!1,m={...a};for(let k=0;k<s.length;k++){let C=s[k];Object.prototype.hasOwnProperty.call(m,C)&&(delete m[C],l=!0)}return l?T(n,p,m):o})},[g,p]),pt=(0,x.useCallback)(s=>({set:(o,n)=>S(`${s}${o}`,n),setMany:o=>{let n={};for(let[a,l]of Object.entries(o))n[`${s}${a}`]=l;P(n)},unset:o=>_(`${s}${o}`),unsetMany:o=>D(o.map(n=>`${s}${n}`))}),[S,P,_,D]);return{set:S,setMany:P,unset:_,unsetMany:D,withPrefix:pt,activeBreakpoint:p}}function wt(t,e=1){let r=Number(t);return Number.isFinite(r)?Math.trunc(r):e}var E=({start:t,span:e,end:r},{mode:i="span",collapseSpanOne:u=!0}={})=>{let c=String(t??"").trim()||"auto";if(i==="end"){let B=String(r??"").trim()||"auto";return`${c} / ${B}`}let y=wt(e,1);return u&&y===1&&c!=="auto"?c:`${c} / span ${y}`};function ee(t){let{set:e,setMany:r,unset:i}=at(t),u=(0,v.useCallback)(p=>{let d=typeof p=="string"?p.trim():"";if(!d){i("gridArea");return}e("gridArea",d)},[e,i]),c=(0,v.useCallback)((p,d,g,w)=>{let S={};p!==void 0&&(S.gridRowStart=p||void 0),d!==void 0&&(S.gridRowEnd=d||void 0),g!==void 0&&(S.gridColumnStart=g||void 0),w!==void 0&&(S.gridColumnEnd=w||void 0),r(S)},[r]),y=(0,v.useCallback)((p,d)=>{let g=p==="end"?E({start:d.start,end:d.end},{mode:"end"}):E({start:d.start,span:d.span},{mode:"span"});e("gridColumn",g)},[e]),B=(0,v.useCallback)((p,d)=>{let g=p==="end"?E({start:d.start,end:d.end},{mode:"end"}):E({start:d.start,span:d.span},{mode:"span"});e("gridRow",g)},[e]);return{setArea:u,setTracks:c,writeColumn:y,writeRow:B,set:e,setMany:r,unset:i}}})();
