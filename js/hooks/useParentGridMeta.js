(()=>{var at=Object.create;var P=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var ut=Object.getOwnPropertyNames;var pt=Object.getPrototypeOf,mt=Object.prototype.hasOwnProperty;var h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var lt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ut(t))!mt.call(e,o)&&o!==r&&P(e,o,{get:()=>t[o],enumerable:!(n=ct(t,o))||n.enumerable});return e};var c=(e,t,r)=>(r=e!=null?at(pt(e)):{},lt(t||!e||!e.__esModule?P(r,"default",{value:e,enumerable:!0}):r,e));var p=h((Pt,j)=>{j.exports=wp.element});var l=h((me,Z)=>{Z.exports=wp.data});var y=h((le,J)=>{J.exports=wp.blockEditor});var st=h((be,ot)=>{ot.exports=wp.preferences});var S=c(p());var gt=c(p());var $={display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"}};function m(e){return Object.fromEntries(Object.entries($).filter(([t,r])=>r.group===e))}var v=m("display"),B=m("dimension"),L=m("margin"),D=m("padding"),F=m("flex"),W=m("flex-item"),K=m("grid"),T=m("grid-item"),z=m("shared"),Bt={...v,...B,...L,...D,...F,...W,...K,...T,...z},ft=new Set([...Object.keys(T)]);var N="1fr";var Lt=new Set([...Object.keys(v),...Object.keys(B),...Object.keys(D),...Object.keys(L),...Object.keys(F),...Object.keys(W),...Object.keys(K),...Object.keys(T),...Object.keys(z)]),Dt=Object.fromEntries(Object.entries($).map(([e,t])=>[e,t.css]));var b=c(p());function k(e){return String(e||"").replace(/\s+/g," ").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*,\s*/g,",").trim().toLowerCase()}function xt(e){let t=String(e||"").trim();if(!t)return[];let r=0,n=0,o="",s=[];for(let i=0;i<t.length;i++){let a=t[i];if(a==="("){r++,o+=a;continue}if(a===")"){r=Math.max(0,r-1),o+=a;continue}if(a==="["){n++,o+=a;continue}if(a==="]"){n=Math.max(0,n-1),o+=a;continue}if(a===" "&&r===0&&n===0){o&&(s.push(o),o="");continue}o+=a}return o&&s.push(o),s}function St(e){if(!e)return null;let t=e.match(/^repeat\(\s*(\d+)\s*,\s*([^)]+)\s*\)$/i);return t?{count:parseInt(t[1],10),unit:t[2].trim()}:null}function ht(e,t=N){return e>0?`repeat(${e}, ${t})`:null}function w(e,t=N){if(!e||typeof e!="string")return{count:0,unit:t};let r=e.trim();if(!r)return{count:0,unit:t};if(/^subgrid\b/i.test(r))return{count:0,unit:t};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:t};let n=r.match(/repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)$/i);if(n){let i=n[2];return{count:0,unit:U(i,t)}}let{count:o,unit:s}=Y(r,t);return{count:o,unit:s||t}}function Y(e,t){let r=H(e);if(r){let i=r.inner.trim(),{count:a,unit:d}=Y(i,t);return{count:r.times*a,unit:d||U(i,t)}}let n=_(e),o=n.length,s="";if(n.length===1)s=g(n[0])||t;else{let i=n.find(q);s=g(i)||t}return{count:o,unit:s}}function H(e){let t=e.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!t)return null;let r=parseInt(t[1],10),n=t[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:n}}function _(e){let t=[],r=0,n="";for(let o=0;o<e.length;o++){let s=e[o];if(s==="("){r++,n+=s;continue}if(s===")"){r=Math.max(0,r-1),n+=s;continue}if(r===0&&/\s/.test(s)){n.trim()&&t.push(n.trim()),n="";continue}n+=s}return n.trim()&&t.push(n.trim()),t}function U(e,t){if(!e)return t;let r=H(e);if(r){let s=_(r.inner);if(s.length===1)return g(s[0])||t}let n=_(e);if(n.length===1)return g(n[0])||t;let o=n.find(q);return g(o)||t}function q(e){return e?!!(/^(minmax|fit-content|clamp|var)\(/i.test(e)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(e)||/^(auto|max-content|min-content)$/i.test(e)):!1}function g(e){return e?e.trim():""}function wt(e){let t=St(e);if(!t)return null;let r=k(ht(t.count,t.unit));return{mode:"simple",template:e||null,normalised:r,simple:{count:t.count,unit:t.unit}}}function Mt(e){let t=xt(e);if(!t.length)return null;let r=k(t.join(" "));return{mode:"tracks",template:e||null,normalised:r,tracks:t}}var bt=[wt,Mt];function G(e){let t=e||"";for(let r of bt){let n=r(t);if(n)return n}return{mode:"raw",template:e||null,normalised:k(e||"")}}function V(e){let t=(e||"").trim();if(!t)return{hasAreas:!1,cols:0,rows:0};let r=t.split(/(['"])(?:(?=(\\?))\2.)*?\1/).map(o=>o.replace(/^['"]|['"]$/g,"").trim()).filter(o=>o&&!/^[\s]+$/.test(o));return r.length?{hasAreas:!0,cols:Math.max(0,...r.map(o=>o.split(/\s+/).filter(Boolean).length)),rows:r.length}:{hasAreas:!1,cols:0,rows:0}}function x(e,t="."){let r=String(e||"").trim();if(!r)return[];let n=[];return r.replace(/(['"])(.*?)\1/g,(o,s,i)=>(n.push(i),"")),n.map(o=>o.trim().split(/\s+/).map(s=>s&&s!==t?s:t))}function M(e,t,r,n="."){let o=[];for(let s=0;s<r;s++){let i=e[s]||[],a=Array.from({length:t},(d,I)=>i[I]??n);o.push(a)}return o}var yt=c(p());var A=c(p());var ce=Number.MAX_SAFE_INTEGER;var It=c(p());var Q=c(l()),tt=c(y()),et=c(p());function R(e){let t=(0,Q.useSelect)(n=>e?n(tt.store).getBlock(e)?.attributes??{}:{},[e]);return(0,et.useMemo)(()=>{let n=G(t.gridTemplateColumns),o=G(t.gridTemplateRows),s=t.gridTemplateAreas??null,i=V(s);return{columns:n,rows:o,areas:{template:s,...i},activePane:{columns:n.mode,rows:o.mode}}},[t.gridTemplateColumns,t.gridTemplateRows,t.gridTemplateAreas])}var rt=c(p()),Ct=c(l()),$t=c(y());var nt=c(l());function O(){return(0,nt.useSelect)(e=>{let t=e("core/block-editor"),r=t.getSelectedBlockClientId();if(!r)return{parentId:null,parentAttrs:null,parentBlock:null};let n=t.getBlockRootClientId(r);if(!n)return{parentId:null,parentAttrs:null,parentBlock:null};let o=t.getBlock(n)||null,s=o?.attributes??null;return{parentId:n,parentAttrs:s,parentBlock:o}},[])}var Tt=c(l()),Nt=c(y());var _t=c(l());var it=c(l()),kt=c(st());function X(e="."){let{parentId:t}=O(),r=R(t),n=r?.columns?.template??"",o=r?.rows?.template??"",s=r?.areas?.template??"",i=(0,S.useMemo)(()=>{let u=w(n).count;return u>0?u:x(s,e)[0]?.length||0},[n,s,e]),a=(0,S.useMemo)(()=>{let u=w(o).count;return u>0?u:x(s,e).length||0},[o,s,e]),d=(0,S.useMemo)(()=>{let u=x(s,e),f=u[0]?.length||i||1,E=u.length||a||1;return M(u,f,E,e)},[s,i,a,e]),I=(0,S.useMemo)(()=>{let u=new Set;for(let f of d)for(let E of f){let C=String(E||"").trim();C&&C!==e&&u.add(C)}return Array.from(u)},[d,e]);return{parentId:t,hasGrid:!!(n||o||s),columns:i,rows:a,matrix:d,areaNames:I,areasTemplate:s,columnTemplate:n,rowTemplate:o,emptyToken:e}}})();
