(()=>{var st=Object.create;var $=Object.defineProperty;var ot=Object.getOwnPropertyDescriptor;var ut=Object.getOwnPropertyNames;var ct=Object.getPrototypeOf,at=Object.prototype.hasOwnProperty;var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var pt=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ut(t))!at.call(e,r)&&r!==n&&$(e,r,{get:()=>t[r],enumerable:!(i=ot(t,r))||i.enumerable});return e};var A=(e,t,n)=>(n=e!=null?st(ct(e)):{},pt(t||!e||!e.__esModule?$(n,"default",{value:e,enumerable:!0}):n,e));var C=j((St,G)=>{G.exports=wp.data});var N=j((xt,L)=>{L.exports=wp.element});var M=A(C()),m=A(N());var v=A(C());var c={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var h=e=>Array.isArray(e)?e:[],gt=e=>new Set(h(e));function d(e){let t=c.attributes||{};return Object.fromEntries(Object.entries(t).filter(([,n])=>n.group===e))}var H=d("display"),K=d("dimension"),J=d("margin"),Y=d("padding"),F=d("flex"),V=d("flex-item"),z=d("grid"),R=d("grid-item"),U=d("position"),W=d("shared"),Tt={...H,...K,...J,...Y,...F,...V,...z,...R,...U,...W},At=new Set([...Object.keys(R)]),Ct=h(c?.collections?.editorStyles),Rt=gt(c?.collections?.unitless),X=c?.settings?.gridUnit||"1fr",Bt=!!c?.settings?.appendImportantToMirroredStyles,vt=c?.settings?.styleTagId||"costered-blocks-style-mirror",B=c?.settings?.reduxStoreKey||"costered/ui",Et=c?.settings?.breakpoints?.mobile??782,Pt=c?.settings?.breakpoints?.tablet??1024,_t=c?.settings?.breakpoints?.desktop??1440,Ot=h(c?.collections?.clearSets?.gridAreas),It=h(c?.collections?.clearSets?.gridColumns),Dt=h(c?.collections?.clearSets?.gridRows);var Mt=new Set([...Object.keys(H),...Object.keys(K),...Object.keys(Y),...Object.keys(J),...Object.keys(F),...Object.keys(V),...Object.keys(z),...Object.keys(R),...Object.keys(U),...Object.keys(W)]),$t=Object.fromEntries(Object.entries(c.attributes).map(([e,t])=>[e,t.css]));var E="desktop",P="tablet",_="mobile",dt=e=>{let t=String(e??"").toLowerCase();return t==="tablet"||t==="medium"?P:t==="mobile"||t==="phone"?_:E},q=e=>{try{let n=e?.("core/editor")?.getDeviceType?.();if(n)return n}catch{}try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},Q=e=>{try{let i=(typeof e=="function"?e(B):(0,v.select)(B))?.getBreakpoint?.();if(i===E||i===P||i===_)return i}catch{}let t=q(typeof e=="function"?e:v.select);if(t)return dt(t);if(typeof window<"u"){let n=window.__COSTERED_VIEWPORT_BP;if(n===E||n===P||n===_)return n}return"desktop"};var Z=e=>{let t=r=>{let s=r?.styles;return s&&typeof s=="object"&&!Array.isArray(s)?{...r,styles:{...s}}:{...r||{},styles:{}}},n=e&&typeof e=="object"?e:{},i=!!n.desktop||!!n.tablet||!!n.mobile;return{desktop:t(n.desktop),tablet:t(n.tablet),mobile:t(n.mobile)}};var O=e=>e==null||e===""||e==="null"||e==="undefined";var mt="desktop",ft=Object.freeze({});function tt(e,t){let n=e?e[t]:void 0;return typeof n=="string"||typeof n=="number"?n:void 0}function et(e,t){let n=e||ft,i={...n},r=Z(n.costered),s=p=>{switch(p){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},o=(p,a={})=>{let b=a&&Object.prototype.hasOwnProperty.call(a,"cascade")?!!a.cascade:!0,f=a&&Object.prototype.hasOwnProperty.call(a,"raw")?!!a.raw:!b,g=t||mt;if(f){let y=tt(r?.[g]?.styles||{},p);return O(y)?void 0:y}let x=s(g);for(let y of x){let S=tt(r?.[y]?.styles||{},p);if(!O(S))return S}};return Object.defineProperties(i,{$get:{value:o,enumerable:!1},$getCascade:{value:p=>o(p,{cascade:!0}),enumerable:!1},$getMany:{value:(p,a)=>{let b={};for(let f=0;f<p.length;f++){let g=p[f];b[g]=o(g,a)}return b},enumerable:!1},$bp:{value:t,enumerable:!1}}),i}function D(e,t=X){if(!e||typeof e!="string")return{count:0,unit:t};let n=e.trim();if(!n)return{count:0,unit:t};if(/^subgrid\b/i.test(n))return{count:0,unit:t};if(n=n.replace(/\[[^\]]*]/g," ").trim(),!n)return{count:0,unit:t};let i=n.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(i){let s=i[2];return{count:0,unit:I(s,t)}}let r=yt(n,t);return{count:r.count,unit:r.unit||t}}function yt(e,t){let n=nt(e);if(n){let u=n.inner.trim(),p=w(u).length,a=I(u,t);return{count:n.times*p,unit:a||t}}let i=w(e),r=0,s="";for(let u of i){if(/^\s*repeat\(/i.test(u)){let l=rt(u);if(l){r+=l.count,!s&&l.unitHint&&(s=l.unitHint);continue}r+=1;continue}r+=1,!s&&T(u)&&(s=k(u)??"")}let o=s||I(e,t);return{count:r,unit:o||t}}function nt(e){let t=e.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!t)return null;let n=parseInt(t[1],10),i=t[2];return!Number.isFinite(n)||n<0?null:{times:n,inner:i}}function rt(e){if(e.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let n=e.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let i=parseInt(n[1],10)||0;if(i<=0)return{count:0,unitHint:""};let r=n[2].trim(),s=w(r),o=i*s.length,u="";if(s.length===1)u=k(s[0])??"";else{let l=s.find(T);u=k(l)??""}return{count:o,unitHint:u}}function w(e){let t=[],n=0,i="";for(let r=0;r<e.length;r++){let s=e[r];if(s==="("){n++,i+=s;continue}if(s===")"){n=Math.max(0,n-1),i+=s;continue}if(n===0&&/\s/.test(s)){i.trim()&&t.push(i.trim()),i="";continue}i+=s}return i.trim()&&t.push(i.trim()),t}function I(e,t){if(!e)return t;let n=nt(e);if(n){let s=w(n.inner);if(s.length===1)return k(s[0])||t;let o=s.find(T);if(o)return k(o)||t}let i=w(e);if(i.length===1)return k(i[0])||t;let r=i.find(T);if(r)return k(r)||t;for(let s of i){let o=rt(s);if(o&&o.unitHint)return o.unitHint}return t}function T(e){return e?!!(/^(minmax|fit-content|clamp|var)\(/i.test(e)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(e)||/^(auto|max-content|min-content)$/i.test(e)):!1}function k(e){return e?e.trim():""}function kt(e){if(!e)return[];let t=new Set,n=e.split('"').filter((i,r)=>r%2===1);for(let i=0;i<n.length;i++){let r=n[i].trim();if(!r)continue;let s=r.split(/\s+/);for(let o=0;o<s.length;o++){let u=s[o];u==="."||u.toLowerCase()==="none"||t.add(u)}}return Array.from(t)}function Ut(e){let{parentId:t,parentBlock:n}=(0,M.useSelect)(g=>{let x=g("core/block-editor"),y=e||x?.getSelectedBlockClientId?.();if(!y)return{parentId:null,parentBlock:null};let S=x?.getBlockRootClientId?.(y)??null;if(!S)return{parentId:null,parentBlock:null};let it=x?.getBlock?.(S)??null;return{parentId:S,parentBlock:it}},[e]),i=(0,M.useSelect)(Q,[]),r=(0,m.useMemo)(()=>{let g=n?.attributes;return g&&i?et(g,i):null},[n,i]),s=(0,m.useMemo)(()=>String(r?.$get?.("gridTemplateColumns",{cascade:!0})??""),[r,r?.$bp]),o=(0,m.useMemo)(()=>String(r?.$get?.("gridTemplateRows",{cascade:!0})??""),[r,r?.$bp]),u=(0,m.useMemo)(()=>String(r?.$get?.("gridTemplateAreas",{cascade:!0})??""),[r,r?.$bp]),l=(0,m.useMemo)(()=>D(s).count,[s]),p=(0,m.useMemo)(()=>D(o).count,[o]),a=(0,m.useMemo)(()=>String(r?.$get?.("display",{cascade:!0})??"").trim(),[r,r?.$bp]),b=(0,m.useMemo)(()=>/^(grid|inline-grid)$/i.test(a),[a]),f=(0,m.useMemo)(()=>kt(u),[u]);return{parentId:t,parentBlock:n,parent:r,display:a,isGrid:b,columnTemplate:s,rowTemplate:o,areaTemplate:u,columns:l,rows:p,areaNames:f}}})();
