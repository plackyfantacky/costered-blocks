(()=>{var ut=Object.create;var M=Object.defineProperty;var at=Object.getOwnPropertyDescriptor;var ct=Object.getOwnPropertyNames;var pt=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty;var G=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ct(t))!lt.call(e,i)&&i!==n&&M(e,i,{get:()=>t[i],enumerable:!(r=at(t,i))||r.enumerable});return e};var R=(e,t,n)=>(n=e!=null?ut(pt(e)):{},dt(t||!e||!e.__esModule?M(n,"default",{value:e,enumerable:!0}):n,e));var C=G((wt,L)=>{L.exports=wp.data});var H=G((Tt,N)=>{N.exports=wp.element});var j=R(C()),m=R(H());var P=R(C());var u={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var x=e=>Array.isArray(e)?e:[],ft=e=>new Set(x(e));function g(e){let t=u.attributes||{};return Object.fromEntries(Object.entries(t).filter(([,n])=>n.group===e))}var K=g("display"),J=g("dimension"),Y=g("margin"),F=g("padding"),V=g("flex"),z=g("flex-item"),U=g("grid"),B=g("grid-item"),W=g("position"),X=g("shared"),Ct={...K,...J,...Y,...F,...V,...z,...U,...B,...W,...X},Bt=new Set([...Object.keys(B)]),vt=x(u?.collections?.editorStyles),Pt=ft(u?.collections?.unitless),q=u?.settings?.gridUnit||"1fr",Et=!!u?.settings?.appendImportantToMirroredStyles,Ot=u?.settings?.styleTagId||"costered-blocks-style-mirror",v=u?.settings?.reduxStoreKey||"costered/ui",Dt=u?.settings?.breakpoints?.mobile??782,_t=u?.settings?.breakpoints?.tablet??1024,It=u?.settings?.breakpoints?.desktop??1440,$t=x(u?.collections?.clearSets?.gridAreas),jt=x(u?.collections?.clearSets?.gridColumns),Mt=x(u?.collections?.clearSets?.gridRows);var Gt=new Set([...Object.keys(K),...Object.keys(J),...Object.keys(F),...Object.keys(Y),...Object.keys(V),...Object.keys(z),...Object.keys(U),...Object.keys(B),...Object.keys(W),...Object.keys(X)]),Lt=Object.fromEntries(Object.entries(u.attributes).map(([e,t])=>[e,t.css]));var E="desktop",O="tablet",D="mobile",mt=e=>{let t=String(e??"").toLowerCase();return t==="tablet"||t==="medium"?O:t==="mobile"||t==="phone"?D:E},Q=e=>{try{let n=e?.("core/editor")?.getDeviceType?.();if(n)return n}catch{}try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},Z=e=>{try{let r=(typeof e=="function"?e(v):(0,P.select)(v))?.getBreakpoint?.();if(r===E||r===O||r===D)return r}catch{}let t=Q(typeof e=="function"?e:P.select);if(t)return mt(t);if(typeof window<"u"){let n=window.__COSTERED_VIEWPORT_BP;if(n===E||n===O||n===D)return n}return"desktop"};var tt=e=>{if(Array.isArray(e))return e.filter(Boolean).map(t=>{let n=String(t.property??""),r=t.value;return n&&r!==void 0?{property:n,value:r}:void 0}).filter(Boolean);if(e&&typeof e=="object"){let t=[];for(let[n,r]of Object.entries(e))r!==void 0&&t.push({property:n,value:r});return t}return[]},b=e=>e&&typeof e=="object"&&"styles"in e?{styles:tt(e.styles)}:{styles:tt(e)},et=e=>{let t=e||{};return!!t.desktop||!!t.tablet||!!t.mobile?{desktop:b(t.desktop),tablet:b(t.tablet),mobile:b(t.mobile)}:{desktop:b(t),tablet:b(void 0),mobile:b(void 0)}};var _=e=>e==null||e===""||e==="null"||e==="undefined";function yt(e){return Array.isArray(e)}function St(e){if(yt(e)){let[t,n,r]=e;return r!==void 0?{property:t,value:n,important:r}:{property:t,value:n}}return e}function nt(e){if(!Array.isArray(e)||e.length===0)return[];let t=[];for(let n=0;n<e.length;n++)t.push(St(e[n]));return t}var kt="desktop",bt=Object.freeze({});function rt(e,t){let n=nt(e);for(let r=0;r<n.length;r++){let i=n[r];if(i.property===t)return i.value}}function it(e,t){let n=e||bt,r={...n},i=et(n.costered),o=p=>{switch(p){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},s=(p,c={})=>{let k=c&&Object.prototype.hasOwnProperty.call(c,"cascade")?!!c.cascade:!0,d=c&&Object.prototype.hasOwnProperty.call(c,"raw")?!!c.raw:!k,f=t||kt;if(d){let y=rt(i?.[f]?.styles,p);return _(y)?void 0:y}let w=o(f);for(let y of w){let T=rt(i?.[y]?.styles,p);if(!_(T))return T}};return Object.defineProperties(r,{$get:{value:s,enumerable:!1},$getCascade:{value:p=>s(p,{cascade:!0}),enumerable:!1},$getMany:{value:(p,c)=>{let k={};for(let d=0;d<p.length;d++){let f=p[d];k[f]=s(f,c)}return k},enumerable:!1},$bp:{value:t,enumerable:!1}}),r}function $(e,t=q){if(!e||typeof e!="string")return{count:0,unit:t};let n=e.trim();if(!n)return{count:0,unit:t};if(/^subgrid\b/i.test(n))return{count:0,unit:t};if(n=n.replace(/\[[^\]]*]/g," ").trim(),!n)return{count:0,unit:t};let r=n.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(r){let o=r[2];return{count:0,unit:I(o,t)}}let i=xt(n,t);return{count:i.count,unit:i.unit||t}}function xt(e,t){let n=ot(e);if(n){let a=n.inner.trim(),p=h(a).length,c=I(a,t);return{count:n.times*p,unit:c||t}}let r=h(e),i=0,o="";for(let a of r){if(/^\s*repeat\(/i.test(a)){let l=st(a);if(l){i+=l.count,!o&&l.unitHint&&(o=l.unitHint);continue}i+=1;continue}i+=1,!o&&A(a)&&(o=S(a)??"")}let s=o||I(e,t);return{count:i,unit:s||t}}function ot(e){let t=e.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!t)return null;let n=parseInt(t[1],10),r=t[2];return!Number.isFinite(n)||n<0?null:{times:n,inner:r}}function st(e){if(e.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let n=e.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let r=parseInt(n[1],10)||0;if(r<=0)return{count:0,unitHint:""};let i=n[2].trim(),o=h(i),s=r*o.length,a="";if(o.length===1)a=S(o[0])??"";else{let l=o.find(A);a=S(l)??""}return{count:s,unitHint:a}}function h(e){let t=[],n=0,r="";for(let i=0;i<e.length;i++){let o=e[i];if(o==="("){n++,r+=o;continue}if(o===")"){n=Math.max(0,n-1),r+=o;continue}if(n===0&&/\s/.test(o)){r.trim()&&t.push(r.trim()),r="";continue}r+=o}return r.trim()&&t.push(r.trim()),t}function I(e,t){if(!e)return t;let n=ot(e);if(n){let o=h(n.inner);if(o.length===1)return S(o[0])||t;let s=o.find(A);if(s)return S(s)||t}let r=h(e);if(r.length===1)return S(r[0])||t;let i=r.find(A);if(i)return S(i)||t;for(let o of r){let s=st(o);if(s&&s.unitHint)return s.unitHint}return t}function A(e){return e?!!(/^(minmax|fit-content|clamp|var)\(/i.test(e)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(e)||/^(auto|max-content|min-content)$/i.test(e)):!1}function S(e){return e?e.trim():""}function Zt(e){let{parentId:t,parentBlock:n}=(0,j.useSelect)(d=>{let f=d("core/block-editor"),w=e||f?.getSelectedBlockClientId?.();if(!w)return{parentId:null,parentBlock:null};let y=f?.getBlockRootClientId?.(w)??null;if(!y)return{parentId:null,parentBlock:null};let T=f?.getBlock?.(y)??null;return{parentId:y,parentBlock:T}},[e]),r=(0,j.useSelect)(Z,[]),i=(0,m.useMemo)(()=>{let d=n?.attributes;return d&&r?it(d,r):null},[n,r]),o=(0,m.useMemo)(()=>String(i?.$get?.("gridTemplateColumns",{cascade:!0})??""),[i,i?.$bp]),s=(0,m.useMemo)(()=>String(i?.$get?.("gridTemplateRows",{cascade:!0})??""),[i,i?.$bp]),a=(0,m.useMemo)(()=>String(i?.$get?.("gridTemplateAreas",{cascade:!0})??""),[i,i?.$bp]),l=(0,m.useMemo)(()=>$(o).count,[o]),p=(0,m.useMemo)(()=>$(s).count,[s]),c=(0,m.useMemo)(()=>String(i?.$get?.("display",{cascade:!0})??"").trim(),[i,i?.$bp]),k=(0,m.useMemo)(()=>/^(grid|inline-grid)$/i.test(c),[c]);return{parentId:t,parentBlock:n,parent:i,display:c,isGrid:k,columnTemplate:o,rowTemplate:s,areaTemplate:a,columns:l,rows:p}}})();
