(()=>{var te=Object.create;var _=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ie=Object.getPrototypeOf,oe=Object.prototype.hasOwnProperty;var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var se=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of re(e))!oe.call(t,r)&&r!==n&&_(t,r,{get:()=>e[r],enumerable:!(i=ne(e,r))||i.enumerable});return t};var R=(t,e,n)=>(n=t!=null?te(ie(t)):{},se(e||!t||!t.__esModule?_(n,"default",{value:t,enumerable:!0}):n,t));var v=D((Se,O)=>{O.exports=wp.data});var $=D((ke,I)=>{I.exports=wp.element});var E=R(v()),m=R($());var x=R(v());var u={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var j=t=>Array.isArray(t)?t:[],ue=t=>new Set(j(t));function g(t){return Object.fromEntries(Object.entries(u.attributes).filter(([e,n])=>n.group===t))}var M=g("display"),G=g("dimension"),L=g("margin"),N=g("padding"),H=g("flex"),K=g("flex-item"),Y=g("grid"),A=g("grid-item"),F=g("position"),V=g("shared"),he={...M,...G,...L,...N,...H,...K,...Y,...A,...F,...V},we=new Set([...Object.keys(A)]),Te=j(u?.collections?.editorStyles),Re=ue(u?.collections?.unitless),z=u?.settings?.gridUnit||"1fr",ve=!!u?.settings?.appendImportantToMirroredStyles,Ae=u?.settings?.styleTagId||"costered-blocks-style-mirror",W=u?.settings?.reduxStoreKey||"costered/ui",Ce=u?.settings?.breakpoints?.mobile??782,Pe=u?.settings?.breakpoints?.tablet??1024,Be=u?.settings?.breakpoints?.desktop??1440,Ee=u?.collections?.clearSets?.gridAreas,_e=u?.collections?.clearSets?.gridColumns,De=u?.collections?.clearSets?.gridRows;var Oe=new Set([...Object.keys(M),...Object.keys(G),...Object.keys(N),...Object.keys(L),...Object.keys(H),...Object.keys(K),...Object.keys(Y),...Object.keys(A),...Object.keys(F),...Object.keys(V)]),Ie=Object.fromEntries(Object.entries(u.attributes).map(([t,e])=>[t,e.css]));var ae=t=>{let e=String(t??"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},pe=t=>{try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},U=t=>{try{let n=(0,x.select)(W);if(n&&typeof n.getBreakpoint=="function"){let i=n.getBreakpoint();if(i)return i}}catch{}let e=pe(t);if(e)return ae(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let n=(0,x.select)(STORE_KEY),i=n&&typeof n.getBreakpoint=="function"?n.getBreakpoint():null,r=(0,x.select)("core/edit-post"),o=r&&(typeof r.getPreviewDeviceType=="function"&&r.getPreviewDeviceType()||typeof r.__experimentalGetPreviewDeviceType=="function"&&r.__experimentalGetPreviewDeviceType()),s=(0,x.select)("core/edit-site"),c=s&&(typeof s.getDeviceType=="function"&&s.getDeviceType()||typeof s.__experimentalGetPreviewDeviceType=="function"&&s.__experimentalGetPreviewDeviceType()||typeof s.getPreviewDeviceType=="function"&&s.getPreviewDeviceType())}}catch{}return"desktop"};var X=t=>{let e=t||{},n=r=>{if(Array.isArray(r))return r;if(r&&typeof r=="object"){let o=[];for(let[s,c]of Object.entries(r))c!==void 0&&o.push({property:s,value:c});return o}return[]},i={desktop:{styles:[]},tablet:{styles:[]},mobile:{styles:[]},...e};return i.desktop={styles:n(e.desktop.styles),...e.desktop||{}},i.tablet={styles:n(e.tablet.styles),...e.tablet||{}},i.mobile={styles:n(e.mobile.styles),...e.mobile||{}},i};var C=t=>t==null||t===""||t==="null"||t==="undefined";function le(t){return Array.isArray(t)}function de(t){if(le(t)){let[e,n,i]=t;return i!==void 0?{property:e,value:n,important:i}:{property:e,value:n}}return t}function q(t){if(!Array.isArray(t)||t.length===0)return[];let e=[];for(let n=0;n<t.length;n++)e.push(de(t[n]));return e}var ge="desktop",fe=Object.freeze({});function J(t,e){let n=q(t);for(let i=0;i<n.length;i++){let r=n[i];if(r.property===e)return r.value}}function Q(t,e){let n=t||fe,i={...n},r=X(n.costered),o=p=>{switch(p){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},s=(p,a={})=>{let k=a&&Object.prototype.hasOwnProperty.call(a,"cascade")?!!a.cascade:!0,d=a&&Object.prototype.hasOwnProperty.call(a,"raw")?!!a.raw:!k,f=e||ge;if(d){let y=J(r?.[f]?.styles,p);return C(y)?void 0:y}let h=o(f);for(let y of h){let w=J(r?.[y]?.styles,p);if(!C(w))return w}};return Object.defineProperties(i,{$get:{value:s,enumerable:!1},$getCascade:{value:p=>s(p,{cascade:!0}),enumerable:!1},$getMany:{value:(p,a)=>{let k={};for(let d=0;d<p.length;d++){let f=p[d];k[f]=s(f,a)}return k},enumerable:!1},$bp:{value:e,enumerable:!1}}),i}function B(t,e=z){if(!t||typeof t!="string")return{count:0,unit:e};let n=t.trim();if(!n)return{count:0,unit:e};if(/^subgrid\b/i.test(n))return{count:0,unit:e};if(n=n.replace(/\[[^\]]*]/g," ").trim(),!n)return{count:0,unit:e};let i=n.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(i){let o=i[2];return{count:0,unit:P(o,e)}}let r=me(n,e);return{count:r.count,unit:r.unit||e}}function me(t,e){let n=Z(t);if(n){let c=n.inner.trim(),p=b(c).length,a=P(c,e);return{count:n.times*p,unit:a||e}}let i=b(t),r=0,o="";for(let c of i){if(/^\s*repeat\(/i.test(c)){let l=ee(c);if(l){r+=l.count,!o&&l.unitHint&&(o=l.unitHint);continue}r+=1;continue}r+=1,!o&&T(c)&&(o=S(c)??"")}let s=o||P(t,e);return{count:r,unit:s||e}}function Z(t){let e=t.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!e)return null;let n=parseInt(e[1],10),i=e[2];return!Number.isFinite(n)||n<0?null:{times:n,inner:i}}function ee(t){if(t.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let n=t.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!n)return null;let i=parseInt(n[1],10)||0;if(i<=0)return{count:0,unitHint:""};let r=n[2].trim(),o=b(r),s=i*o.length,c="";if(o.length===1)c=S(o[0])??"";else{let l=o.find(T);c=S(l)??""}return{count:s,unitHint:c}}function b(t){let e=[],n=0,i="";for(let r=0;r<t.length;r++){let o=t[r];if(o==="("){n++,i+=o;continue}if(o===")"){n=Math.max(0,n-1),i+=o;continue}if(n===0&&/\s/.test(o)){i.trim()&&e.push(i.trim()),i="";continue}i+=o}return i.trim()&&e.push(i.trim()),e}function P(t,e){if(!t)return e;let n=Z(t);if(n){let o=b(n.inner);if(o.length===1)return S(o[0])||e;let s=o.find(T);if(s)return S(s)||e}let i=b(t);if(i.length===1)return S(i[0])||e;let r=i.find(T);if(r)return S(r)||e;for(let o of i){let s=ee(o);if(s&&s.unitHint)return s.unitHint}return e}function T(t){return t?!!(/^(minmax|fit-content|clamp|var)\(/i.test(t)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(t)||/^(auto|max-content|min-content)$/i.test(t)):!1}function S(t){return t?t.trim():""}function Ue(t){let{parentId:e,parentBlock:n}=(0,E.useSelect)(d=>{let f=d("core/block-editor"),h=t||f?.getSelectedBlockClientId?.();if(!h)return{parentId:null,parentBlock:null};let y=f?.getBlockRootClientId?.(h)??null;if(!y)return{parentId:null,parentBlock:null};let w=f?.getBlock?.(y)??null;return{parentId:y,parentBlock:w}},[t]),i=(0,E.useSelect)(U,[]),r=(0,m.useMemo)(()=>{let d=n?.attributes;return d&&i?Q(d,i):null},[n,i]),o=(0,m.useMemo)(()=>String(r?.$get?.("gridTemplateColumns",{cascade:!0})??""),[r,r?.$bp]),s=(0,m.useMemo)(()=>String(r?.$get?.("gridTemplateRows",{cascade:!0})??""),[r,r?.$bp]),c=(0,m.useMemo)(()=>String(r?.$get?.("gridTemplateAreas",{cascade:!0})??""),[r,r?.$bp]),l=(0,m.useMemo)(()=>B(o).count,[o]),p=(0,m.useMemo)(()=>B(s).count,[s]),a=(0,m.useMemo)(()=>String(r?.$get?.("display",{cascade:!0})??"").trim(),[r,r?.$bp]),k=(0,m.useMemo)(()=>/^(grid|inline-grid)$/i.test(a),[a]);return{parentId:e,parentBlock:n,parent:r,display:a,isGrid:k,columnTemplate:o,rowTemplate:s,areaTemplate:c,columns:l,rows:p}}})();
