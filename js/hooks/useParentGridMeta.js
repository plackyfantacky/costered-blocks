(()=>{var Z=Object.create;var O=Object.defineProperty;var tt=Object.getOwnPropertyDescriptor;var et=Object.getOwnPropertyNames;var rt=Object.getPrototypeOf,nt=Object.prototype.hasOwnProperty;var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var st=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of et(t))!nt.call(e,n)&&n!==r&&O(e,n,{get:()=>t[n],enumerable:!(s=tt(t,n))||s.enumerable});return e};var w=(e,t,r)=>(r=e!=null?Z(rt(e)):{},st(t||!e||!e.__esModule?O(r,"default",{value:e,enumerable:!0}):r,e));var _=I((ft,P)=>{P.exports=wp.data});var B=I((gt,C)=>{C.exports=wp.element});var A=w(_()),T=w(B());var x=w(_());var p={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var $=e=>Array.isArray(e)?e:[],it=e=>new Set($(e));function d(e){return Object.fromEntries(Object.entries(p.attributes).filter(([t,r])=>r.group===e))}var j=d("display"),G=d("dimension"),M=d("margin"),L=d("padding"),N=d("flex"),H=d("flex-item"),K=d("grid"),v=d("grid-item"),Y=d("position"),F=d("shared"),xt={...j,...G,...M,...L,...N,...H,...K,...v,...Y,...F},ht=new Set([...Object.keys(v)]),Tt=$(p?.collections?.editorStyles),bt=it(p?.collections?.unitless),z=p?.settings?.gridUnit||"1fr",St=!!p?.settings?.appendImportantToMirroredStyles,wt=p?.settings?.styleTagId||"costered-blocks-style-mirror",W=p?.settings?.reduxStoreKey||"costered/ui",_t=p?.settings?.breakpoints?.mobile??782,vt=p?.settings?.breakpoints?.tablet??1024,Et=p?.settings?.breakpoints?.desktop??1440,kt=p?.collections?.clearSets?.gridAreas,Rt=p?.collections?.clearSets?.gridColumns,At=p?.collections?.clearSets?.gridRows;var Dt=new Set([...Object.keys(j),...Object.keys(G),...Object.keys(L),...Object.keys(M),...Object.keys(N),...Object.keys(H),...Object.keys(K),...Object.keys(v),...Object.keys(Y),...Object.keys(F)]),Ot=Object.fromEntries(Object.entries(p.attributes).map(([e,t])=>[e,t.css]));var ct=e=>{let t=String(e||"").toLowerCase();return t==="mobile"||t==="phone"||t==="tablet"?"mobile":"desktop"},pt=e=>{try{let t=e("core/edit-post");if(t){if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType()}}catch{}try{let t=e("core/edit-site");if(t){if(typeof t.getDeviceType=="function")return t.getDeviceType();if(typeof t.__experimentalGetPreviewDeviceType=="function")return t.__experimentalGetPreviewDeviceType();if(typeof t.getPreviewDeviceType=="function")return t.getPreviewDeviceType()}}catch{}},U=e=>{try{let r=(0,x.select)(W);if(r&&typeof r.getBreakpoint=="function"){let s=r.getBreakpoint();if(s)return s}}catch{}let t=pt(e);if(t)return ct(t);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let r=(0,x.select)(STORE_KEY),s=r&&typeof r.getBreakpoint=="function"?r.getBreakpoint():null,n=(0,x.select)("core/edit-post"),o=n&&(typeof n.getPreviewDeviceType=="function"&&n.getPreviewDeviceType()||typeof n.__experimentalGetPreviewDeviceType=="function"&&n.__experimentalGetPreviewDeviceType()),i=(0,x.select)("core/edit-site"),c=i&&(typeof i.getDeviceType=="function"&&i.getDeviceType()||typeof i.__experimentalGetPreviewDeviceType=="function"&&i.__experimentalGetPreviewDeviceType()||typeof i.getPreviewDeviceType=="function"&&i.getPreviewDeviceType())}}catch{}return"desktop"};var V=e=>{let t={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...e||{}};return t.desktop={styles:{},...t.desktop||{}},t.tablet={styles:{},...t.tablet||{}},t.mobile={styles:{},...t.mobile||{}},t.desktop.styles={...t.desktop.styles||{}},t.tablet.styles={...t.tablet.styles||{}},t.mobile.styles={...t.mobile.styles||{}},t};var E=e=>e==null||e===""||e==="null"||e==="undefined";var ut="desktop",at=Object.freeze({});function X(e,t){let r=e||at,s={...r},n=V(r.costered),o=a=>{switch(a){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},i=(a,u=void 0)=>{let f=u&&Object.prototype.hasOwnProperty.call(u,"cascade")?!!u.cascade:!0,g=u&&Object.prototype.hasOwnProperty.call(u,"raw")?!!u.raw:!f,y=t||ut;if(g){let b=n?.[y]?.styles?.[a];return E(b)?void 0:b}let Q=o(y);for(let b of Q){let D=n?.[b]?.styles?.[a];if(!E(D))return D}};return Object.defineProperties(s,{$get:{value:i,enumerable:!1},$getCascade:{value:a=>i(a,{cascade:!0}),enumerable:!1},$getMany:{value:(a,u)=>{let f={};for(let g of a)f[g]=i(g,u);return f},enumerable:!1},$bp:{value:t,enumerable:!1}}),s}function R(e,t=z){if(!e||typeof e!="string")return{count:0,unit:t};let r=e.trim();if(!r)return{count:0,unit:t};if(/^subgrid\b/i.test(r))return{count:0,unit:t};if(r=r.replace(/\[[^\]]*]/g," ").trim(),!r)return{count:0,unit:t};let s=r.match(/^\s*repeat\(\s*auto-(fill|fit)\s*,\s*(.+)\)\s*$/i);if(s){let i=s[2];return{count:0,unit:k(i,t)}}let{count:n,unit:o}=lt(r,t);return{count:n,unit:o||t}}function lt(e,t){let r=q(e);if(r){let c=r.inner.trim(),a=h(c).length,u=k(c,t);return{count:r.times*a,unit:u||t}}let s=h(e),n=0,o="";for(let c of s){if(/^\s*repeat\(/i.test(c)){let l=J(c);if(l){n+=l.count,!o&&l.unitHint&&(o=l.unitHint);continue}n+=1;continue}n+=1,!o&&S(c)&&(o=m(c)||"")}let i=o||k(e,t);return{count:n,unit:i||t}}function q(e){let t=e.match(/^repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!t)return null;let r=parseInt(t[1],10),s=t[2];return!Number.isFinite(r)||r<0?null:{times:r,inner:s}}function J(e){if(e.match(/^\s*repeat\(\s*auto-(fit|fill)\s*,/i))return{count:0,unitHint:""};let r=e.match(/^\s*repeat\(\s*([0-9]+)\s*,\s*([\s\S]+)\)\s*$/i);if(!r)return null;let s=parseInt(r[1],10)||0;if(s<=0)return{count:0,unitHint:""};let n=r[2].trim(),o=h(n),i=s*o.length,c="";if(o.length===1)c=m(o[0])||"";else{let l=o.find(S);c=m(l)||""}return{count:i,unitHint:c}}function h(e){let t=[],r=0,s="";for(let n=0;n<e.length;n++){let o=e[n];if(o==="("){r++,s+=o;continue}if(o===")"){r=Math.max(0,r-1),s+=o;continue}if(r===0&&/\s/.test(o)){s.trim()&&t.push(s.trim()),s="";continue}s+=o}return s.trim()&&t.push(s.trim()),t}function k(e,t){if(!e)return t;let r=q(e);if(r){let o=h(r.inner);if(o.length===1)return m(o[0])||t;let i=o.find(S);if(i)return m(i)||t}let s=h(e);if(s.length===1)return m(s[0])||t;let n=s.find(S);if(n)return m(n)||t;for(let o of s){let i=J(o);if(i&&i.unitHint)return i.unitHint}return t}function S(e){return e?!!(/^(minmax|fit-content|clamp|var)\(/i.test(e)||/^[0-9.]+(px|rem|em|ch|vh|vw|vmin|vmax|fr|%)$/i.test(e)||/^(auto|max-content|min-content)$/i.test(e)):!1}function m(e){return e?e.trim():""}function Kt(e){let{parentId:t,parentBlock:r}=(0,A.useSelect)(u=>{let f=u("core/block-editor"),g=e||f.getSelectedBlockClientId();if(!g)return{parentId:null,parentBlock:null};let y=f.getBlockRootClientId(g);return y?{parentId:y,parentBlock:f.getBlock(y)||null}:{parentId:null,parentBlock:null}},[e]),s=(0,A.useSelect)(U,[]),n=(0,T.useMemo)(()=>r?.attributes?X(r.attributes,s):null,[r?.attributes,s]),o=n?.$get("gridTemplateColumns",{cascade:!0}),i=n?.$get("gridTemplateRows",{cascade:!0}),{count:c}=(0,T.useMemo)(()=>R(o),[o]),{count:l}=(0,T.useMemo)(()=>R(i),[i]),a=(0,T.useMemo)(()=>{let u=n?.$get?.("display",{cascade:!0})??"";return/^(grid|inline-grid)$/i.test(String(u).trim())},[n,n?.$bp]);return{parentId:t,parentBlock:r,parent:n,isGrid:a,display:n?.$get("display",{cascade:!0}),columns:o,rows:i,areas:n?.$get("gridTemplateAreas",{cascade:!0}),columnCount:c,rowCount:l}}})();
