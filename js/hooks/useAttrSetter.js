(()=>{var ne=Object.create;var M=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var oe=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty;var W=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ce=(r,e,s,d)=>{if(e&&typeof e=="object"||typeof e=="function")for(let p of se(e))!pe.call(r,p)&&p!==s&&M(r,p,{get:()=>e[p],enumerable:!(d=ie(e,p))||d.enumerable});return r};var I=(r,e,s)=>(s=r!=null?ne(oe(r)):{},ce(e||!r||!r.__esModule?M(s,"default",{value:r,enumerable:!0}):s,r));var U=W((be,L)=>{L.exports=wp.element});var E=W((ke,G)=>{G.exports=wp.data});var m=I(U()),b=I(E());function de(r){return Array.isArray(r)}function j(r){if(de(r)){let[e,s,d]=r;return d!==void 0?{property:e,value:s,important:d}:{property:e,value:s}}return r}function P(r,e,s,d){let p=Array.isArray(r)?r.slice():[],f=-1;for(let k=0;k<p.length;k++)if(j(p[k]).property===e){f=k;break}let l=d!==void 0?{property:e,value:s,important:d}:{property:e,value:s};return f===-1?p.push(l):p[f]=l,p}function C(r,e){let s=Array.isArray(r)?Array.from(r):[],d=[];for(let p=0;p<s.length;p++)j(s[p]).property!==e&&d.push(s[p]);return d}var x=r=>{let e={desktop:{styles:{}},tablet:{styles:{}},mobile:{styles:{}},...r||{}};return e.desktop={styles:{},...e.desktop||{}},e.tablet={styles:{},...e.tablet||{}},e.mobile={styles:{},...e.mobile||{}},e.desktop.styles={...e.desktop.styles||{}},e.tablet.styles={...e.tablet.styles||{}},e.mobile.styles={...e.mobile.styles||{}},e};var ue=r=>typeof r=="string"&&r.trim().length>0,ae=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let r=Date.now().toString(36),e=Math.random().toString(36).slice(2,10);return`${r}-${e}`},w=r=>{r&&!ue(r.costeredId)&&(r.costeredId=ae())};var a={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var K=r=>Array.isArray(r)?r:[],ye=r=>new Set(K(r));function g(r){return Object.fromEntries(Object.entries(a.attributes).filter(([e,s])=>s.group===r))}var N=g("display"),Y=g("dimension"),H=g("margin"),$=g("padding"),F=g("flex"),V=g("flex-item"),z=g("grid"),O=g("grid-item"),q=g("position"),X=g("shared"),he={...N,...Y,...H,...$,...F,...V,...z,...O,...q,...X},J=new Set([...Object.keys(O)]),Ae=K(a?.collections?.editorStyles),Q=ye(a?.collections?.unitless),_e=a?.settings?.gridUnit||"1fr",Be=!!a?.settings?.appendImportantToMirroredStyles,De=a?.settings?.styleTagId||"costered-blocks-style-mirror",Z=a?.settings?.reduxStoreKey||"costered/ui",Ie=a?.settings?.breakpoints?.mobile??782,Ee=a?.settings?.breakpoints?.tablet??1024,Pe=a?.settings?.breakpoints?.desktop??1440,Ce=a?.collections?.clearSets?.gridAreas,Oe=a?.collections?.clearSets?.gridColumns,Me=a?.collections?.clearSets?.gridRows;var We=new Set([...Object.keys(N),...Object.keys(Y),...Object.keys($),...Object.keys(H),...Object.keys(F),...Object.keys(V),...Object.keys(z),...Object.keys(O),...Object.keys(q),...Object.keys(X)]),Le=Object.fromEntries(Object.entries(a.attributes).map(([r,e])=>[r,e.css]));var R=I(E());var ge=r=>{let e=String(r||"").toLowerCase();return e==="mobile"||e==="phone"||e==="tablet"?"mobile":"desktop"},fe=r=>{try{let e=r("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=r("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},ee=r=>{try{let s=(0,R.select)(Z);if(s&&typeof s.getBreakpoint=="function"){let d=s.getBreakpoint();if(d)return d}}catch{}let e=fe(r);if(e)return ge(e);if(typeof window<"u"&&typeof window.__COSTERED_VIEWPORT_BP=="string")return window.__COSTERED_VIEWPORT_BP||"desktop";try{if(window.COSTERED_DEBUG){let s=(0,R.select)(STORE_KEY),d=s&&typeof s.getBreakpoint=="function"?s.getBreakpoint():null,p=(0,R.select)("core/edit-post"),f=p&&(typeof p.getPreviewDeviceType=="function"&&p.getPreviewDeviceType()||typeof p.__experimentalGetPreviewDeviceType=="function"&&p.__experimentalGetPreviewDeviceType()),l=(0,R.select)("core/edit-site"),k=l&&(typeof l.getDeviceType=="function"&&l.getDeviceType()||typeof l.__experimentalGetPreviewDeviceType=="function"&&l.__experimentalGetPreviewDeviceType()||typeof l.getPreviewDeviceType=="function"&&l.getPreviewDeviceType())}}catch{}return"desktop"};var me="desktop";function Ve(r,e,s={trim:!0,emptyUnsets:!0}){let d=(typeof e=="object"?e:s)||{},{trim:p=!0,emptyUnsets:f=!0,breakpoint:l}=d,k=(0,b.useSelect)(ee,[]),c=l||k||me,{updateBlockAttributes:v}=(0,b.useDispatch)("core/block-editor"),S=(0,m.useMemo)(()=>{if(typeof r=="string"&&!e){let n=r;return i=>{if(n)if(typeof i=="function"){let t=(0,b.select)("core/block-editor")?.getBlockAttributes(n)||{},o=i(t)||t;v(n,o)}else v(n,i||{})}}if(typeof r=="function"&&typeof e=="string"){let n=r,i=e;return t=>{if(!i)return;if(typeof t=="function"){let u=(0,b.select)("core/block-editor")?.getBlockAttributes(i)||{},y=t(u)||u;try{n(i,y)}catch{n(y)}return}let o=t||{};try{n(i,o)}catch{n(o)}}}if(typeof r=="function"){let n=r;return i=>{if(typeof i=="function"){let t=(0,b.select)("core/block-editor")?.getBlockAttributes?.(void 0)||{},o=i(t)||t;n(o)}else n(i||{})}}return()=>{}},[r,e,v]),T=(0,m.useCallback)((n,i)=>{if(n==null)return;if(J.has(i)){let o=typeof n=="string"&&p?n.trim():String(n);return f&&o===""?void 0:o}let t=n;if(p&&typeof t=="string"&&(t=t.trim()),!(f&&(t===""||t=="null"||t=="undefined"))){if(Q.has(i)){if(typeof t=="string"&&/^-?\d+(\.\d+)?$/.test(t)){let o=Number(t);return Number.isFinite(o)?o:void 0}return typeof t=="number"&&Number.isFinite(t)?t:void 0}if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(typeof t=="string")return t==="null"||t==="undefined"?void 0:t;try{return String(t)}catch{return}}},[p,f]),h=(0,m.useCallback)((n,i)=>{S(t=>{let o={...t||{}};w(o),o.costered=x(o.costered);let u=o.costered[c].styles,y=T(i,n),D=P(u,n,y);return o.costered[c]={...o.costered[c],styles:D},o})},[S,c,T]),A=(0,m.useCallback)(n=>{!n||typeof n!="object"||S(i=>{let t={...i||{}};w(t),t.costered=x(t.costered);let u=t.costered[c].styles;for(let[y,D]of Object.entries(n)){let re=T(D,y);u=P(u,y,re)}return t.costered[c]={...t.costered[c],styles:u||[]},t})},[S,c,T]),_=(0,m.useCallback)(n=>{S(i=>{let t={...i||{}};w(t),t.costered=x(t.costered);let o=t.costered[c].styles,u=C(o,n);return(o?.length||0)===u.length?i:(t.costered[c]={...t.costered[c],styles:u},t)})},[S,c]),B=(0,m.useCallback)(n=>{!Array.isArray(n)||n.length===0||S(i=>{let t={...i||{}};w(t),t.costered=x(t.costered);let u=t.costered[c]?.styles;for(let y=0;y<n.length;y++)u=C(u,n[y]);return t.costered[c]={...t.costered[c],styles:u||[]},t})},[S,c]),te=(0,m.useCallback)(n=>({set:(i,t)=>h(`${n}${i}`,t),setMany:i=>{let t={};for(let[o,u]of Object.entries(i))t[`${n}${o}`]=u;A(t)},unset:i=>_(`${n}${i}`),unsetMany:i=>B(i.map(t=>`${n}${t}`))}),[h,A,_,B]);return{set:h,setMany:A,unset:_,unsetMany:B,withPrefix:te,activeBreakpoint:c}}})();
