(()=>{var ne=Object.create;var D=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var se=Object.getPrototypeOf,ae=Object.prototype.hasOwnProperty;var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ie(e))!ae.call(t,s)&&s!==r&&D(t,s,{get:()=>e[s],enumerable:!(n=oe(e,s))||n.enumerable});return t};var b=(t,e,r)=>(r=t!=null?ne(se(t)):{},pe(e||!t||!t.__esModule?D(r,"default",{value:t,enumerable:!0}):r,t));var B=R((Se,I)=>{I.exports=wp.data});var G=R((be,j)=>{j.exports=wp.blockEditor});var M=R((ke,L)=>{L.exports=wp.element});var E=b(B()),te=b(G()),re=b(M());var C=b(B());var i={attributes:{display:{css:"display",type:"string",group:"display"},visibility:{css:"visibility",type:"string",group:"display"},overflow:{css:"overflow",type:"string",group:"display"},width:{css:"width",type:"string",group:"dimension"},height:{css:"height",type:"string",group:"dimension"},maxWidth:{css:"max-width",type:"string",group:"dimension"},maxHeight:{css:"max-height",type:"string",group:"dimension"},minWidth:{css:"min-width",type:"string",group:"dimension"},minHeight:{css:"min-height",type:"string",group:"dimension"},marginTop:{css:"margin-top",type:"string",group:"margin"},marginRight:{css:"margin-right",type:"string",group:"margin"},marginBottom:{css:"margin-bottom",type:"string",group:"margin"},marginLeft:{css:"margin-left",type:"string",group:"margin"},paddingTop:{css:"padding-top",type:"string",group:"padding"},paddingRight:{css:"padding-right",type:"string",group:"padding"},paddingBottom:{css:"padding-bottom",type:"string",group:"padding"},paddingLeft:{css:"padding-left",type:"string",group:"padding"},flexDirection:{css:"flex-direction",type:"string",group:"flex"},flexWrap:{css:"flex-wrap",type:"string",group:"flex"},justifyContent:{css:"justify-content",type:"string",group:"flex"},alignItems:{css:"align-items",type:"string",group:"flex"},alignContent:{css:"align-content",type:"string",group:"flex"},flexGrow:{css:"flex-grow",type:"number",group:"flex-item"},flexShrink:{css:"flex-shrink",type:"number",group:"flex-item"},flexBasis:{css:"flex-basis",type:"string",group:"flex-item"},gridTemplateColumns:{css:"grid-template-columns",type:"string",group:"grid"},gridTemplateRows:{css:"grid-template-rows",type:"string",group:"grid"},gridTemplateAreas:{css:"grid-template-areas",type:"string",group:"grid"},gridColumn:{css:"grid-column",type:"string",group:"grid-item",default:""},gridRow:{css:"grid-row",type:"string",group:"grid-item",default:""},gridArea:{css:"grid-area",type:"string",group:"grid-item",default:""},gap:{css:"gap",type:"string",group:"shared"},order:{css:"order",type:"number",group:"shared"},alignSelf:{css:"align-self",type:"string",group:"shared"},justifySelf:{css:"justify-self",type:"string",group:"shared"},position:{css:"position",type:"string",group:"position"},top:{css:"top",type:"string",group:"position"},right:{css:"right",type:"string",group:"position"},bottom:{css:"bottom",type:"string",group:"position"},left:{css:"left",type:"string",group:"position"},inset:{css:"inset",type:"string",group:"position"},zIndex:{css:"z-index",type:"number",group:"position"}},collections:{unitless:["flexGrow","flexShrink","order","zIndex"],editorStyles:["core/paragraph","core/heading","core/list","core/quote","core/pullquote","core/table"],clearSets:{gridAreas:["gridAreas"],gridColumns:["gridColumn","gridColumnStart","gridColumnEnd"],gridRows:["gridRow","gridRowStart","gridRowEnd"]}},settings:{gridUnit:"1fr",appendImportantToMirroredStyles:!0,styleTagId:"costered-blocks-style-mirror",reduxStoreKey:"costered/ui",breakpoints:{mobile:782,tablet:1024,desktop:1440}}};var f=t=>Array.isArray(t)?t:[],ce=t=>new Set(f(t));function p(t){let e=i.attributes||{};return Object.fromEntries(Object.entries(e).filter(([,r])=>r.group===t))}var K=p("display"),J=p("dimension"),$=p("margin"),U=p("padding"),Y=p("flex"),H=p("flex-item"),N=p("grid"),w=p("grid-item"),W=p("position"),z=p("shared"),Be={...K,...J,...$,...U,...Y,...H,...N,...w,...W,...z},we=new Set([...Object.keys(w)]),Ae=f(i?.collections?.editorStyles),Ce=ce(i?.collections?.unitless),Te=i?.settings?.gridUnit||"1fr",he=!!i?.settings?.appendImportantToMirroredStyles,Pe=i?.settings?.styleTagId||"costered-blocks-style-mirror",A=i?.settings?.reduxStoreKey||"costered/ui",ve=i?.settings?.breakpoints?.mobile??782,Oe=i?.settings?.breakpoints?.tablet??1024,Ee=i?.settings?.breakpoints?.desktop??1440,_e=f(i?.collections?.clearSets?.gridAreas),De=f(i?.collections?.clearSets?.gridColumns),Ie=f(i?.collections?.clearSets?.gridRows);var je=new Set([...Object.keys(K),...Object.keys(J),...Object.keys(U),...Object.keys($),...Object.keys(Y),...Object.keys(H),...Object.keys(N),...Object.keys(w),...Object.keys(W),...Object.keys(z)]),Ge=Object.fromEntries(Object.entries(i.attributes).map(([t,e])=>[t,e.css]));var T="desktop",h="tablet",P="mobile",de=t=>{let e=String(t??"").toLowerCase();return e==="tablet"||e==="medium"?h:e==="mobile"||e==="phone"?P:T},F=t=>{try{let r=t?.("core/editor")?.getDeviceType?.();if(r)return r}catch{}try{let e=t("core/edit-post");if(e){if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType()}}catch{}try{let e=t("core/edit-site");if(e){if(typeof e.getDeviceType=="function")return e.getDeviceType();if(typeof e.__experimentalGetPreviewDeviceType=="function")return e.__experimentalGetPreviewDeviceType();if(typeof e.getPreviewDeviceType=="function")return e.getPreviewDeviceType()}}catch{}},V=t=>{try{let n=(typeof t=="function"?t(A):(0,C.select)(A))?.getBreakpoint?.();if(n===T||n===h||n===P)return n}catch{}let e=F(typeof t=="function"?t:C.select);if(e)return de(e);if(typeof window<"u"){let r=window.__COSTERED_VIEWPORT_BP;if(r===T||r===h||r===P)return r}return"desktop"};var q=t=>{if(Array.isArray(t))return t.filter(Boolean).map(e=>{let r=String(e.property??""),n=e.value;return r&&n!==void 0?{property:r,value:n}:void 0}).filter(Boolean);if(t&&typeof t=="object"){let e=[];for(let[r,n]of Object.entries(t))n!==void 0&&e.push({property:r,value:n});return e}return[]},g=t=>t&&typeof t=="object"&&"styles"in t?{styles:q(t.styles)}:{styles:q(t)},X=t=>{let e=t||{};return!!e.desktop||!!e.tablet||!!e.mobile?{desktop:g(e.desktop),tablet:g(e.tablet),mobile:g(e.mobile)}:{desktop:g(e),tablet:g(void 0),mobile:g(void 0)}};var v=t=>t==null||t===""||t==="null"||t==="undefined";function ue(t){return Array.isArray(t)}function ge(t){if(ue(t)){let[e,r,n]=t;return n!==void 0?{property:e,value:r,important:n}:{property:e,value:r}}return t}function Q(t){if(!Array.isArray(t)||t.length===0)return[];let e=[];for(let r=0;r<t.length;r++)e.push(ge(t[r]));return e}var ye="desktop",fe=Object.freeze({});function Z(t,e){let r=Q(t);for(let n=0;n<r.length;n++){let s=r[n];if(s.property===e)return s.value}}function ee(t,e){let r=t||fe,n={...r},s=X(r.costered),y=a=>{switch(a){case"mobile":return["mobile","tablet","desktop"];case"tablet":return["tablet","desktop"];default:return["desktop"]}},d=(a,o={})=>{let u=o&&Object.prototype.hasOwnProperty.call(o,"cascade")?!!o.cascade:!0,l=o&&Object.prototype.hasOwnProperty.call(o,"raw")?!!o.raw:!u,c=e||ye;if(l){let S=Z(s?.[c]?.styles,a);return v(S)?void 0:S}let x=y(c);for(let S of x){let _=Z(s?.[S]?.styles,a);if(!v(_))return _}};return Object.defineProperties(n,{$get:{value:d,enumerable:!1},$getCascade:{value:a=>d(a,{cascade:!0}),enumerable:!1},$getMany:{value:(a,o)=>{let u={};for(let l=0;l<a.length;l++){let c=a[l];u[c]=d(c,o)}return u},enumerable:!1},$bp:{value:e,enumerable:!1}}),n}var O=Object.freeze({});function ze(){let t=(0,E.useSelect)(V,[]),{selectedBlock:e,clientId:r,attrVersion:n}=(0,E.useSelect)(y=>{let d=y(te.store),m=d?.getSelectedBlockClientId?.(),k=m?d?.getBlock?.(m):null,o=(k?.attributes??O)?.costered??{},u=Array.isArray(o?.desktop?.styles)?o.desktop.styles.length:0,l=Array.isArray(o?.tablet?.styles)?o.tablet.styles.length:0,c=Array.isArray(o?.mobile?.styles)?o.mobile.styles.length:0,x=`${u}-${l}-${c}`;return{selectedBlock:k,clientId:m,attrVersion:x}},[]),s=(0,re.useMemo)(()=>{let y=e?.attributes??O;return ee(y,t)||O},[e,t,n]);return{selectedBlock:e,clientId:r,attributes:s}}})();
